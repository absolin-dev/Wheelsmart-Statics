(this["webpackJsonpwheelsmart-admin-react"]=this["webpackJsonpwheelsmart-admin-react"]||[]).push([[32],{535:function(e,a,t){"use strict";t.d(a,"a",(function(){return o}));var n=t(1),i=t(550),l=t(3);function o(e){var a=e.value,t=e.onChange,o=e.onBlur;return Object(l.jsx)(i.a,Object(n.a)(Object(n.a)({},e),{},{onChange:function(a){var n=a.target.value;(/^-?\d*(\.\d*)?$/.test(n)||""===n||"-"===n)&&t({key:e.name,value:n})},onBlur:e.onBlur&&function(){var t=a;"."!==a.charAt(a.length-1)&&"-"!==a||(t=a.slice(0,-1)),o({key:e.name,value:t.replace(/0*(\d+)/,"$1")})}}))}},536:function(e,a,t){"use strict";t.d(a,"a",(function(){return d}));t(0);var n=t(521),i=t(519),l=t(154),o=t(51),r=t(43),s=t(8),c=t(216),u=t(3);function d(e){var a=Object(o.f)(),t=e.pageTitle,d=e.pageText,m=e.goBack,h=e.addModelTile,p=e.addModelTile2,j=e.setIsModalVisible,b=e.setIsModalVisible2;return Object(u.jsx)(n.a,{span:24,className:"hp-mt-12",children:Object(u.jsxs)(i.a,{children:[Object(u.jsxs)(n.a,{span:16,xs:16,md:12,xl:16,children:[m&&Object(u.jsx)(r.b,{to:"#",onClick:function(){a.goBack()},className:"action-icon text-primary  hp-mr-12 hp-d-inline-block",children:Object(u.jsx)(s.d,{className:"remix-icon",size:24})}),Object(u.jsxs)(i.a,{className:"hp-d-inline-block",children:[Object(u.jsx)(n.a,{span:24,children:t&&Object(u.jsx)("h3",{className:"hp-mb-2 hp-mt-4",children:t})}),Object(u.jsx)(n.a,{span:24,children:d&&Object(u.jsx)("p",{className:"hp-mb-0 hp-p1-body",children:d})})]})]}),Object(u.jsx)(n.a,{span:8,xs:8,md:12,xl:8,children:Object(u.jsxs)("div",{className:"hp-float-right hp-d-inline-block",children:[h&&Object(u.jsx)("div",{className:"hp-pl-4 hp-d-inline-block",children:Object(u.jsx)(l.a,{className:"",type:"primary",onClick:function(){return j(!0)},icon:Object(u.jsx)(s.b,{className:"remix-icon",size:22}),children:!c.isMobile&&h})}),p&&Object(u.jsx)("div",{className:"hp-pl-4 hp-d-inline-block",children:Object(u.jsx)(l.a,{className:"hp-pr-12",type:"primary",onClick:function(){return b(!0)},icon:Object(u.jsx)(s.b,{className:"remix-icon",size:22}),children:!c.isMobile&&p})})]})})]})})}},541:function(e,a,t){"use strict";var n=t(10),i=t(0),l=t(32),o=t(19),r=t.n(o),s=(t(533),t(8)),c=t(524),u=t(154),d=t(526),m=t(519),h=t(521),p=t(556),j=t(550),b=t(215),v=t(677),O=t(60),w=(t(535),t(15)),x=t(3);a.a=Object(l.b)((function(e){var a=e.vehicles,t=e.mini;return{rowdata:a.rowdata,model:a.model,miniVersionList:t.miniVersionList,miniEmissionnorms:t.miniEmissionnorms,miniBrandsList:t.miniBrandsList,miniBrandFamilyList:t.miniBrandFamilyList,miniModelsList:t.miniModelsList}}),{vehiclesAdd:O.n,isModelVisible:O.k,InputChangeValue:O.b,getMiniVersion:w.cb,getMiniEmissionnorms:w.C,getMiniBrands:w.o,getMiniBrandFamily:w.m,getMiniModels:w.J,vehicleNumberValidate:O.m,engineNumberValidate:O.g,chassisNumberValidate:O.e})((function(e){var a,t,l,o,O,w,g,y,f,P,_,C,S=c.a.useForm(),A=Object(n.a)(S,1)[0];Object(i.useEffect)((function(){e.getMiniEmissionnorms(),e.getMiniBrands()}),[]);var N=function(){e.isModelVisible(!1)},E=function(){return null==e.rowdata.id||0==e.rowdata.id?Object(x.jsx)(i.Fragment,{children:Object(x.jsx)(u.a,{onClick:function(){A.submit()},type:"primary",block:!0,children:"Add"})}):Object(x.jsx)(i.Fragment,{children:Object(x.jsx)(u.a,{type:"primary",onClick:function(){A.submit()},block:!0,children:"Update"})})},I=function(){return Object(x.jsx)(i.Fragment,{children:Object(x.jsx)(u.a,{onClick:function(){N()},type:"primary",block:!0,ghost:!0,children:"Cancel"})})},M=Object(x.jsxs)("h5",{className:"modal-title",children:[null==e.rowdata.id||0==e.rowdata.id?"Add":"Update"," ","Vehicle"]});function V(a,t){var n,i;(console.log("type",a,t.target.value),"engineno"==a)?t.target.value==(null===(n=e.rowdata)||void 0===n?void 0:n.chassisno)&&(e.InputChangeValue({key:a,value:""}),d.a.error({icon:Object(x.jsx)("span",{className:"remix-icon",children:Object(x.jsx)(s.o,{})}),title:Object(x.jsx)("h5",{className:"hp-mb-0 hp-font-weight-500",children:"Engine Number Error"}),content:Object(x.jsx)("div",{children:Object(x.jsxs)("p",{className:"hp-p1-body hp-text-color-black-80",children:["Engine & Chassis Number should not be same"," "]})})})):t.target.value==(null===(i=e.rowdata)||void 0===i?void 0:i.engineno)&&(e.InputChangeValue({key:a,value:""}),d.a.error({icon:Object(x.jsx)("span",{className:"remix-icon",children:Object(x.jsx)(s.o,{})}),title:Object(x.jsx)("h5",{className:"hp-mb-0 hp-font-weight-500",children:"Chassis Number Error"}),content:Object(x.jsx)("div",{children:Object(x.jsxs)("p",{className:"hp-p1-body hp-text-color-black-80",children:["Engine & Chassis Number should not be same"," "]})})}))}return Object(i.useEffect)((function(){A.setFieldsValue({vehicleType:e.rowdata.vehicleType,vehicleno:e.rowdata.vehicleno,brand_id:e.rowdata.brand_id,brandfamily_id:e.rowdata.brandfamily_id,model_id:e.rowdata.model_id,vehicletrno:e.rowdata.vehicletrno,version_id:e.rowdata.version_id,emission_id:e.rowdata.emission_id,year:e.rowdata.year,engineno:e.rowdata.engineno,chassisno:e.rowdata.chassisno})}),[e.rowdata]),Object(x.jsx)(d.a,{visible:e.model,title:M,onCancel:function(){N(),A.resetFields(),e.isModelVisible(!1)},className:"hp-modal-p-24",footer:Object(x.jsxs)(m.a,{justify:"center",children:[Object(x.jsx)(h.a,{span:12,className:"hp-pr-4",children:Object(x.jsx)(I,{})}),Object(x.jsx)(h.a,{span:12,className:"hp-pl-4",children:Object(x.jsx)(E,{})})]}),centered:!0,closeIcon:Object(x.jsx)(s.k,{className:"remix-icon text-color-black-100",size:24}),width:616,children:Object(x.jsx)(c.a,{layout:"vertical",form:A,autoComplete:"off",onFinish:function(){null==e.rowdata.id?function(){var a,t,n,i={id:0,vehicleno:"new"===(null===(a=e.rowdata)||void 0===a?void 0:a.vehicleType)?e.rowdata.vehicletrno:null===(t=e.rowdata)||void 0===t?void 0:t.vehicleno,brand_id:e.rowdata.brand_id,brandfamily_id:e.rowdata.brandfamily_id,model_id:e.rowdata.model_id,vehicletrno:e.rowdata.vehicletrno,year:r()(null===(n=e.rowdata)||void 0===n?void 0:n.year).format("YYYY"),engineno:e.rowdata.engineno,emission_id:e.rowdata.emission_id,version_id:e.rowdata.version_id,chassisno:e.rowdata.chassisno};e.vehiclesAdd({obj:i})}():function(){var a,t,n,i,l,o,s,c,u,d,m,h,p,j,b,v,O,w={id:null===(a=e.rowdata)||void 0===a?void 0:a.id,vehicleno:"new"===(null===(t=e.rowdata)||void 0===t?void 0:t.vehicleType)?e.rowdata.vehicletrno:null===(n=e.rowdata)||void 0===n?void 0:n.vehicleno,brand_id:null==(null===(i=e.rowdata)||void 0===i?void 0:i.brand_id)?e.rowdata.brand.id:null===(l=e.rowdata)||void 0===l?void 0:l.brand_id,brandfamily_id:null==(null===(o=e.rowdata)||void 0===o?void 0:o.brandfamily_id)?e.rowdata.brandfamily.id:null===(s=e.rowdata)||void 0===s?void 0:s.brandfamily_id,model_id:null==(null===(c=e.rowdata)||void 0===c?void 0:c.model_id)?e.rowdata.model.id:null===(u=e.rowdata)||void 0===u?void 0:u.model_id,vehicletrno:null===(d=e.rowdata)||void 0===d?void 0:d.vehicletrno,year:r()(null===(m=e.rowdata)||void 0===m?void 0:m.year).format("YYYY"),engineno:null===(h=e.rowdata)||void 0===h?void 0:h.engineno,emission_id:null==(null===(p=e.rowdata)||void 0===p?void 0:p.emission_id)?e.rowdata.emission.id:null===(j=e.rowdata)||void 0===j?void 0:j.emission_id,version_id:null==(null===(b=e.rowdata)||void 0===b?void 0:b.version_id)?e.rowdata.version.id:null===(v=e.rowdata)||void 0===v?void 0:v.version_id,chassisno:null===(O=e.rowdata)||void 0===O?void 0:O.chassisno};e.vehiclesAdd({obj:w,type:e.type,typeId:e.typeId})}()},children:Object(x.jsxs)(m.a,{gutter:[12,0],children:[Object(x.jsx)(h.a,{span:24,xs:24,xl:12,md:12,children:Object(x.jsx)(c.a.Item,{label:"Vehicle Type",name:"vehicleType",rules:[{required:!0,message:"Please select Your Vehicle Type!"}],children:Object(x.jsxs)(p.a.Group,{name:"vehicleType",onChange:function(a){e.InputChangeValue({key:a.target.name,value:a.target.value})},value:null===(a=e.rowdata)||void 0===a?void 0:a.vehicleType,children:[Object(x.jsx)(p.a.Button,{value:"new",children:"New Vehicle"}),Object(x.jsx)(p.a.Button,{value:"old",children:"Old Vehicle"})]})})}),"new"===(null===(t=e.rowdata)||void 0===t?void 0:t.vehicleType)?Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(h.a,{span:24,xs:24,xl:12,md:12,children:Object(x.jsx)(c.a.Item,{label:"Vehicle TR Number:",name:"vehicletrno",rules:[{required:!0,message:"Please Enter Your Vehicle TR Number!"},{pattern:new RegExp(/[A-Z][A-Z][0-9][0-9][A-Z][A-Z][A-Z][A-Z][0-9][0-9][0-9][0-9]$/i),message:"field does not accept numbers"}],hasFeedback:!0,children:Object(x.jsx)(j.a,{id:"Version",name:"vehicletrno",style:{width:"100%"},placeholder:"EX:AP00ABCD1234",minLength:10,maxLength:15,value:null===(l=e.rowdata)||void 0===l?void 0:l.vehicletrno,onChange:function(a){e.InputChangeValue({key:a.target.name,value:a.target.value.toUpperCase()})}})})})}):Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(h.a,{span:24,xs:24,xl:12,md:12,children:Object(x.jsx)(c.a.Item,{label:"Vehicle Number",name:"vehicleno",rules:[{required:!0,message:"Please Enter Your Vehicle Number!"},{pattern:new RegExp("^[A-Z]{2}[0-9]{1,2}[A-Z]{1,2}[0-9]{4}$"),message:"Please accept valid vehicle number"}],hasFeedback:!0,children:Object(x.jsx)(j.a,{id:"vehicleno-input",name:"vehicleno",label:"Vehicle Number:",maxLength:11,style:{width:"100%",transform:"uppercase"},placeholder:"EX: AP00QQ0000",onBlur:function(a){console.log("data",a),e.vehicleNumberValidate({vehicleno:a.target.value})},value:null===(o=e.rowdata)||void 0===o?void 0:o.vehicleno,onChange:function(a){e.InputChangeValue({key:a.target.name,value:a.target.value.toUpperCase()})}})})})}),Object(x.jsx)(h.a,{span:24,xs:24,xl:12,md:12,children:Object(x.jsx)(c.a.Item,{label:"Brand :",name:"brand_id",rules:[{required:!0,message:"Please select your Brand!"}],hasFeedback:!0,children:Object(x.jsx)(b.a,{showSearch:!0,filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},placeholder:"Select  Brand",optionFilterProp:"Brand",onChange:function(a){e.getMiniBrandFamily({brand:a}),e.InputChangeValue({key:"brand_id",value:a})},value:null==e.rowdata.brand_id?"":null===(O=e.rowdata)||void 0===O?void 0:O.brand_id,children:e.miniBrandsList.map((function(e,a){return Object(x.jsx)(Option,{value:e.id,children:e.name},a)}))})})}),Object(x.jsx)(h.a,{span:24,xs:24,xl:12,md:12,children:Object(x.jsx)(c.a.Item,{label:"Brand Family :",name:"brandfamily_id",rules:[{required:!0,message:"Please select your Brand Family!"}],hasFeedback:!0,children:Object(x.jsx)(b.a,{showSearch:!0,filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},placeholder:"Select Brand Family",optionFilterProp:"brand Family",onChange:function(a){e.getMiniModels({brandfamily:a}),e.InputChangeValue({key:"brandfamily_id",value:a})},value:null==e.rowdata.brandfamily_id?"":null===(w=e.rowdata)||void 0===w?void 0:w.brandfamily_id,children:e.miniBrandFamilyList.map((function(e,a){return Object(x.jsx)(Option,{value:e.id,children:e.name},a)}))})})}),Object(x.jsx)(h.a,{span:24,xs:24,xl:12,md:12,children:Object(x.jsx)(c.a.Item,{label:"Model :",name:"model_id",rules:[{required:!0,message:"Please select your Model!"}],hasFeedback:!0,children:Object(x.jsx)(b.a,{showSearch:!0,filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},placeholder:"Select Model",optionFilterProp:"Model",onChange:function(a){e.getMiniVersion({model:a}),e.InputChangeValue({key:"model_id",value:a})},value:null==e.rowdata.model_id?"":null===(g=e.rowdata)||void 0===g?void 0:g.model_id,children:e.miniModelsList.map((function(e,a){return Object(x.jsx)(Option,{value:e.id,children:e.name},a)}))})})}),Object(x.jsx)(h.a,{span:24,xs:24,xl:12,md:12,children:Object(x.jsx)(c.a.Item,{label:"Version :",name:"version_id",rules:[{required:!0,message:"Please select your Version!"}],hasFeedback:!0,children:Object(x.jsx)(b.a,{showSearch:!0,filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},placeholder:"Select Version",optionFilterProp:"version",onChange:function(a){e.InputChangeValue({key:"version_id",value:a})},value:null==e.rowdata.version_id?"":null===(y=e.rowdata)||void 0===y?void 0:y.version_id,children:e.miniVersionList.map((function(e,a){return Object(x.jsx)(Option,{value:e.id,children:e.name},a)}))})})})," ",Object(x.jsx)(h.a,{span:24,xs:24,xl:12,md:12,children:Object(x.jsx)(c.a.Item,{label:"Emission :",name:"emission_id",rules:[{required:!0,message:"Please select your Emission!"}],hasFeedback:!0,children:Object(x.jsx)(b.a,{showSearch:!0,filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},placeholder:"Select a Emission",optionFilterProp:"emission",onChange:function(a){e.InputChangeValue({key:"emission_id",value:a})},value:null==e.rowdata.emission_id?"":null===(f=e.rowdata)||void 0===f?void 0:f.emission_id,children:e.miniEmissionnorms.map((function(e,a){return Object(x.jsx)(Option,{value:e.id,children:e.name},a)}))})})}),Object(x.jsx)(h.a,{span:24,xs:24,xl:12,md:12,children:Object(x.jsx)(c.a.Item,{label:"Year",name:"year",rules:[{required:!0,message:"Select Year"}],hasFeedback:!0,children:Object(x.jsx)(v.a,{id:"year",name:"year",style:{width:"100%"},picker:"year",disabledDate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{startDate:!1,endDate:!1},a=e.startDate,t=e.endDate;return function(e){var n=!0,i=!0;return a&&(n=e&&e<r()(a,"YYYY")),t&&(i=e&&e>r()(t,"YYYY")),a&&n||t&&i}}({endDate:new Date,startDate:1990}),placeholder:"Select Year",value:null===(P=e.rowdata)||void 0===P?void 0:P.year,onChange:function(a){console.log("Year",a,typeof a),e.InputChangeValue({key:"year",value:a})}})})})," ",Object(x.jsx)(h.a,{span:24,xs:24,xl:12,md:12,children:Object(x.jsx)(c.a.Item,{label:"Engine Number:",name:"engineno",rules:[{required:!0,message:"Please input your Engine Number!"},{min:10,message:"Engine Number must be 10 digits!"}],hasFeedback:!0,children:Object(x.jsx)(j.a,{id:"engineno",name:"engineno",style:{width:"100%",transform:"uppercase"},minLength:10,maxLength:20,placeholder:"Engine Number",value:null===(_=e.rowdata)||void 0===_?void 0:_.engineno,onBlur:function(a){e.engineNumberValidate({engineno:a.target.value}),""!=a.target.value&&V("engineno",a)},onChange:function(a){e.InputChangeValue({key:a.target.name,value:a.target.value.toUpperCase()})}})})})," ",Object(x.jsx)(h.a,{span:24,xs:24,xl:12,md:12,children:Object(x.jsx)(c.a.Item,{label:"Chassis Number :",name:"chassisno",rules:[{required:!0,message:"Please input your Chassis Number!"},{min:10,message:"Chassis Number must be 10 digits!"}],getValueProps:function(){},hasFeedback:!0,children:Object(x.jsx)(j.a,{id:"Chassis Number",name:"chassisno",style:{width:"100%",transform:"uppercase"},placeholder:"Chassis Number",minLength:10,maxLength:20,onBlur:function(a){e.chassisNumberValidate({chassisno:a.target.value}),""!=a.target.value&&V("chassisno",a)},value:null===(C=e.rowdata)||void 0===C?void 0:C.chassisno,onChange:function(a){e.InputChangeValue({key:a.target.name,value:a.target.value.toUpperCase()})}})})})]})})})}))},595:function(e,a,t){"use strict";var n=t(10),i=(t(0),t(32)),l=(t(533),t(8)),o=t(524),r=t(526),s=t(519),c=t(521),u=t(337),d=t(532),m=t(19),h=t.n(m),p=t(26),j=t(3);a.a=Object(i.b)((function(e){var a=e.salequotationlist;return{viewModel:a.viewModel,rowdata:a.rowdata,loading:a.loading}}),{saleQuotationViewModel:p.P})((function(e){e.saletype;var a,t,i,m,p,b,v,O,w,x,g,y,f,P,_,C,S,A,N,E,I,M,V,k,D,q,F=o.a.useForm(),T=Object(n.a)(F,1)[0],L=[{title:"CODE",description:null==(null===(a=e.rowdata)||void 0===a?void 0:a.code)?"none":null===(t=e.rowdata)||void 0===t?void 0:t.code},{title:"DATE",description:null==(null===(i=e.rowdata)||void 0===i?void 0:i.date)?"none":h()(null===(m=e.rowdata)||void 0===m?void 0:m.date).format("DD-MM-YYYY")},{title:"SALE TYPE",description:3==e.rowdata.saletype?"OVF SALE":e.rowdata.saletype_name},{title:"CUSTOMER NAME",description:null==e.rowdata.customername?"none":e.rowdata.customername},{title:"CUSTOMER MOBILE",description:null==e.rowdata.customermobile?"none":e.rowdata.customermobile},{title:"COUNTER",description:null==(null===(p=e.rowdata.counter)||void 0===p?void 0:p.name)?"none":null===(b=e.rowdata.counter)||void 0===b?void 0:b.name},{title:"ENQUIRY",description:null==(null===(v=e.rowdata.enquiry)||void 0===v?void 0:v.code)?"none":null===(O=e.rowdata.enquiry)||void 0===O?void 0:O.code},{title:3==e.rowdata.saletype?"FINANCE TYPE":null,description:3==e.rowdata.saletype?null==e.rowdata.ovftype_name?"none":e.rowdata.ovftype_name:null},{title:3==e.rowdata.saletype?"IS NEW VEHICLE":null,description:3==e.rowdata.saletype?e.rowdata.is_new_vehicle?" YES":"NO":null},{title:1==e.rowdata.saletype||2==e.rowdata.saletype?"PURCHASE":null,description:1==e.rowdata.saletype||2==e.rowdata.saletype?null==(null===(w=e.rowdata.purchase)||void 0===w?void 0:w.code)?"none":null===(x=e.rowdata.purchase)||void 0===x?void 0:x.code:null},{title:1==e.rowdata.saletype||2==e.rowdata.saletype?"VEHICLE":null,description:1==e.rowdata.saletype||2==e.rowdata.saletype?null==(null===(g=e.rowdata.vehicle)||void 0===g?void 0:g.vehicleno)?"none":null===(y=e.rowdata.vehicle)||void 0===y?void 0:y.vehicleno:null},{title:"OCCUPATION",description:null==(null===(f=e.rowdata.occupation)||void 0===f?void 0:f.name)?"none":null===(P=e.rowdata.occupation)||void 0===P?void 0:P.name},{title:3==e.rowdata.saletype?"VEHICLE NUMBER":null,description:3==e.rowdata.saletype?null==e.rowdata.vehiclenumber?"none":e.rowdata.vehiclenumber:null},{title:3==e.rowdata.saletype?"VERSION":null,description:3==e.rowdata.saletype?null==(null===(_=e.rowdata.version)||void 0===_?void 0:_.name)?"none":null===(C=e.rowdata.version)||void 0===C?void 0:C.name:null},{title:1==e.rowdata.saletype||2==e.rowdata.saletype?"SALE AMOUNT":null,description:1==e.rowdata.saletype||2==e.rowdata.saletype?null==e.rowdata.saleamount?"none":e.rowdata.saleamount:null},{title:"GST AMOUNT",description:null==e.rowdata.gstamount?"none":e.rowdata.gstamount},{title:1==e.rowdata.saletype||2==e.rowdata.saletype?"PURCHASE RATE":null,description:1==e.rowdata.saletype||2==e.rowdata.saletype?null==(null===(S=e.rowdata.purchase)||void 0===S?void 0:S.purchaserate)?"none":null===(A=e.rowdata.purchase)||void 0===A?void 0:A.purchaserate:null},{title:1==e.rowdata.saletype||2==e.rowdata.saletype?"REPAIR AMOUNT":null,description:1==e.rowdata.saletype||2==e.rowdata.saletype?null==e.rowdata.repair_amount?"none":e.rowdata.repair_amount:null},{title:1==e.rowdata.saletype||2==e.rowdata.saletype?"RE-ESTIMATION AMOUNT":null,description:1==e.rowdata.saletype||2==e.rowdata.saletype?null==e.rowdata.re_amount?"none":e.rowdata.re_amount:null},{title:"CUSTOMER GST AMOUNT",description:null==e.rowdata.gst_customer_amount?"none":e.rowdata.gst_customer_amount},{title:"RTO AMOUNT",description:null==e.rowdata.rtaamount?"none":e.rowdata.rtaamount},{title:3==e.rowdata.saletype?"ECHALLAN AMOUNT":null,description:3==e.rowdata.saletype?null==e.rowdata.echallan?"none":e.rowdata.echallan:null},{title:"INSURANCE AMOUNT",description:null==e.rowdata.insuranceamount?"none":e.rowdata.insuranceamount},{title:"DISCOUNT AMOUNT",description:null==e.rowdata.discountamount?"none":e.rowdata.discountamount},{title:"TOTAL AMOUNT",description:null==e.rowdata.total?"none":e.rowdata.total},{title:2==e.rowdata.saletype?"DOWN PAYMENT AMOUNT":null,description:2==e.rowdata.saletype?null==e.rowdata.downpaymentamount?"none":e.rowdata.downpaymentamount:null},{title:2==e.rowdata.saletype||3==e.rowdata.saletype?"FINANCE AMOUNT":null,description:2==e.rowdata.saletype||3==e.rowdata.saletype?null==e.rowdata.financeamount?"none":e.rowdata.financeamount:null},{title:2==e.rowdata.saletype||3==e.rowdata.saletype?"DOCUMENTATION CHARGES":null,description:2==e.rowdata.saletype||3==e.rowdata.saletype?null==e.rowdata.documentationcharges?"none":e.rowdata.documentationcharges:null},{title:2==e.rowdata.saletype?"CUSTOMER DOCUMENTATION CHARGES":null,description:2==e.rowdata.saletype?null==e.rowdata.customerdocumentationcharges?"none":e.rowdata.customerdocumentationcharges:null},{title:2==e.rowdata.saletype||3==e.rowdata.saletype?"INTEREST TYPE":null,description:2==e.rowdata.saletype||3==e.rowdata.saletype?null==e.rowdata.interesttype_name?"none":e.rowdata.interesttype_name:null},{title:2==e.rowdata.saletype||3==e.rowdata.saletype?"INTEREST PERCENTAGE":null,description:2==e.rowdata.saletype||3==e.rowdata.saletype?null==(null===(N=e.rowdata.interestpercentage)||void 0===N?void 0:N.name)?"none":null===(E=e.rowdata.interestpercentage)||void 0===E?void 0:E.name:null},{title:2==e.rowdata.saletype||3==e.rowdata.saletype?"TENURES":null,description:2==e.rowdata.saletype||3==e.rowdata.saletype?null==e.rowdata.tenures?"none":e.rowdata.tenures:null},{title:2==e.rowdata.saletype||3==e.rowdata.saletype?"EMI FIRST DATE":null,description:2==e.rowdata.saletype||3==e.rowdata.saletype?null==e.rowdata.emi_firstdate?"none":null===(I=e.rowdata)||void 0===I?void 0:I.emi_firstdate:null},{title:2==e.rowdata.saletype||3==e.rowdata.saletype?"EMI AMOUNT":null,description:2==e.rowdata.saletype||3==e.rowdata.saletype?null==e.rowdata.emi_amount?"none":null===(M=e.rowdata)||void 0===M?void 0:M.emi_amount:null},{title:2==e.rowdata.saletype||3==e.rowdata.saletype?"INTEREST AMOUNT":null,description:2==e.rowdata.saletype||3==e.rowdata.saletype?null==e.rowdata.interest_amount?"none":null===(V=e.rowdata)||void 0===V?void 0:V.interest_amount:null},{title:2==e.rowdata.saletype||3==e.rowdata.saletype?"TOTAL REPAYMENT AMOUNT":null,description:2==e.rowdata.saletype||3==e.rowdata.saletype?null==e.rowdata.totalrepaymentamount?"none":null===(k=e.rowdata)||void 0===k?void 0:k.totalrepaymentamount:null},{title:null==e.rowdata.saletype?"OVF TYPE":null,description:null==e.rowdata.saletype?null==e.rowdata.ovftype_name?"none":e.rowdata.ovftype_name:null},{title:null==e.rowdata.saletype?"VEHICLE ESTIMATION":null,description:null==e.rowdata.saletype?null==(null===(D=e.rowdata.vehicle_estimation)||void 0===D?void 0:D.code)?"none":null===(q=e.rowdata.vehicle_estimation)||void 0===q?void 0:q.code:null},{title:3==e.rowdata.saletype?"ESTIMATION AMOUNT":null,description:3==e.rowdata.saletype?null==e.rowdata.estimationamount?"none":e.rowdata.estimationamount:null},{title:2==e.rowdata.saletype||3==e.rowdata.saletype?"DOWNPAYMENT DUE AMOUNT":null,description:2==e.rowdata.saletype||3==e.rowdata.saletype?null==e.rowdata.downpayment_due_amount?"none":e.rowdata.downpayment_due_amount:null},{title:2==e.rowdata.saletype||3==e.rowdata.saletype?"DOWNPAYMENT DUE DAYS":null,description:2==e.rowdata.saletype||3==e.rowdata.saletype?null==e.rowdata.downpayment_due_days_name||""==e.rowdata.downpayment_due_days_name?"none":e.rowdata.downpayment_due_days_name:null},{title:3==e.rowdata.saletype?"CUSTOMER REQUIRED AMOUNT":null,description:3==e.rowdata.saletype?null==e.rowdata.customeramount?"none":e.rowdata.customeramount:null}],Y=[];L.forEach((function(e){null!==e.title&&Y.push(e)}));var Q=Object(j.jsxs)("h5",{className:"modal-title",children:[null==e.rowdata.saletype_name?"OVF Sale ":e.rowdata.saletype_name,"  Quotation  View"]});return Object(j.jsx)(r.a,{visible:e.viewModel,title:Q,onCancel:function(){T.resetFields(),e.saleQuotationViewModel(!1),e.saleQuotationViewModel(!1)},className:"hp-modal-p-24",footer:Object(j.jsx)(j.Fragment,{}),centered:!0,closeIcon:Object(j.jsx)(l.k,{className:"remix-icon text-color-black-100",size:24}),width:816,children:Object(j.jsx)(s.a,{gutter:[12,12],children:Object(j.jsx)(c.a,{span:24,md:24,children:Object(j.jsx)(u.a,{tip:"Loading...",spinning:e.loading,delay:500,children:Object(j.jsx)(d.b,{grid:{gutter:16,xs:1,sm:2,md:3,lg:3,xl:4,xxl:3},dataSource:Y,renderItem:function(e){return Object(j.jsx)(d.b.Item,{children:Object(j.jsx)(d.b.Item.Meta,{title:Object(j.jsx)("span",{children:e.title}),description:Object(j.jsx)("span",{children:e.description})})})}})})})})})}))},696:function(e,a,t){"use strict";t.r(a);var n=t(1),i=t(0),l=t(19),o=t.n(l),r=t(550),s=t(281),c=t(539),u=t(538),d=t(519),m=t(521),h=t(337),p=t(154),j=t(676),b=t(340),v=t(32),O=t(536),w=t(350),x=t(361),g=t(15),y=t(33),f=t(26),P=t(46),_=t(10),C=(t(533),t(8)),S=t(524),A=t(526),N=t(677),E=t(215),I=t(535),M=t(188),V=t(3);var k=Object(v.b)((function(e){var a=e.salequotationlist,t=e.mini;return{rowdata:a.rowdata,vehicleVersion:a.vehicleVersion,model:a.model,minSaleAmount:a.minSaleAmount,minDownPaymentAmount:a.minDownPaymentAmount,maxFinanceAmount:a.maxFinanceAmount,maxSaleAmount:a.maxSaleAmount,purchaseAvaliableStockList:t.purchaseAvaliableStockList,purchaseAvailableStockParams:t.purchaseAvailableStockParams,miniCountersList:t.miniCountersList,miniOccupationList:t.miniOccupationList,miniPercentageInterestsList:t.miniPercentageInterestsList,miniVehicleEstimationList:t.miniVehicleEstimationList,miniVersionList:t.miniVersionList,miniTenuresList:t.miniTenuresList,miniPurchaseEnquiryList:t.miniPurchaseEnquiryList,purchaseEnquiryParams:t.purchaseEnquiryParams,purchaseData:a.purchaseData,enquiryByIdData:a.enquiryByIdData,tenuresObjData:a.tenuresObjData,miniEMIdatesList:a.miniEMIdatesList,emiDifferenceDays:a.emiDifferenceDays}}),{salequotationAdd:f.Q,isModelVisible:f.I,InputChangeValue:f.b,getMiniCounters:g.v,getMiniOccupation:g.L,getVehicleVersion:f.H,getMiniPercentageInterests:g.M,getPurchaseAvailableStock:g.ib,setPurchaseAvailableStockParams:g.dc,getMiniPurchaseEnquiry:g.P,getMiniVehicleEstimation:g.X,getMiniVersion:g.cb,getMiniTenures:g.W,setMiniPurchaseEnquiryParams:g.ac,getFormulaExecuter:f.q,getPurchaseByID:f.z,getEnquiryByID:f.o,getTenureData:f.E,getTotalReestimationAmountByPurchase:f.F,getTotalRepairAmountByPurchase:f.G,getMiniEMIdates:f.x,setEmiDifferenceDays:f.R,getSystemFormulas:P.o,getMaxSaleAmount:f.t,getMinSaleAmount:f.w,getMaxSaleAmountInMinSale:f.u,getMinDownPaymentAmount:f.v,getGSTAmount:f.r,getSaleProfit:f.B,getFinanceAmount:f.p,getEMIAmount:f.n,getSaleCustomerPayAmount:f.A,getDocumentCharges:f.m,getMaxFinanceAmount:f.s})((function(e){var a,t,l,s,c,u,h,j,b,v,O,w,x,g,y,f,P,k,D,q,F,T,L,Y,Q,R,B,U,z,G,H,Z,$,J,W,X,K,ee,ae,te,ne,ie,le,oe,re,se,ce,ue=S.a.useForm(),de=Object(_.a)(ue,1)[0];function me(a){var t={};e.miniPercentageInterestsList.forEach((function(e){e.id==a&&(t=e)})),e.getEMIAmount({key:"interestpercentage",value:t.value}),e.InputChangeValue({key:"interestpercentage",value:t.value})}Object(i.useEffect)((function(){e.getSystemFormulas(),e.getMiniCounters(),e.getMiniOccupation(),e.getMiniPercentageInterests(),e.getMiniVehicleEstimation(),e.getMiniTenures(),e.getMiniEMIdates()}),[]);function he(a){parseInt(a.value)>0&&parseInt(a.value)<=99&&(e.InputChangeValue({key:a.key,value:""}),A.a.error({icon:Object(V.jsx)("span",{className:"remix-icon",children:Object(V.jsx)(C.o,{})}),title:Object(V.jsx)("h5",{className:"hp-mb-0 hp-font-weight-500",children:"Amount Validation"}),content:Object(V.jsx)("div",{children:Object(V.jsx)("p",{className:"hp-p1-body hp-text-color-black-80",children:"Amount must be minimum 3 Digits"})})}))}Object(i.useEffect)((function(){var a,t;de.setFieldsValue({date:e.rowdata.date,saletype:e.rowdata.saletype,customername:e.rowdata.customername,customermobile:e.rowdata.customermobile,counter_id:e.rowdata.counter_id,enquiry_id:e.rowdata.enquiry_id,purchase_id:e.rowdata.purchase_id,vehicle_id:e.rowdata.vehicle_id,ovftype:e.rowdata.ovftype,vehiclenumber:e.rowdata.vehiclenumber,version_id:e.rowdata.version_id,occupation_id:e.rowdata.occupation_id,gstamount:e.rowdata.gstamount,rtaamount:e.rowdata.rtaamount,insuranceamount:e.rowdata.insuranceamount,discountamount:e.rowdata.discountamount,saleamount:null===(a=e.rowdata)||void 0===a?void 0:a.saleamount,profit:e.rowdata.profit,downpaymentamount:e.rowdata.downpaymentamount,financeamount:e.rowdata.financeamount,estimationamount:e.rowdata.estimationamount,customeramount:e.rowdata.customeramount,documentationcharges:e.rowdata.documentationcharges,interestpercentage_id:e.rowdata.interestpercentage_id,totalrepaymentamount:e.rowdata.totalrepaymentamount,tenures:e.rowdata.tenures,emi_amount:e.rowdata.emi_amount,vehicle_estimation_id:e.rowdata.vehicle_estimation_id,is_new_vehicle:e.rowdata.is_new_vehicle,downpayment_due_amount:e.rowdata.downpayment_due_amount,interestfixed:null===(t=e.tenuresObjData.interestfixed)||void 0===t?void 0:t.name,interesttype:e.rowdata.interesttype,downpayment_due_days:e.rowdata.downpayment_due_days,emi_firstdate:e.rowdata.emi_firstdate,emi_date:e.rowdata.emi_date,interest_amount:e.rowdata.interest_amount,echallan:e.rowdata.echallan})}),[e.rowdata]);var pe=function(){de.resetFields(),e.isModelVisible(!1)},je=function(){return null==e.rowdata.id||0==e.rowdata.id?Object(V.jsx)(i.Fragment,{children:Object(V.jsx)(p.a,{onClick:function(){de.submit()},type:"primary",block:!0,children:"Add"})}):Object(V.jsx)(i.Fragment,{children:Object(V.jsx)(p.a,{type:"primary",onClick:function(){de.submit()},block:!0,children:"Update"})})},be=function(){return Object(V.jsx)(i.Fragment,{children:Object(V.jsx)(p.a,{onClick:function(){pe()},type:"primary",block:!0,ghost:!0,children:"Cancel"})})},ve=Object(V.jsxs)("h5",{className:"modal-title",children:[null==e.rowdata.id||0==e.rowdata.id?"Add":"Update"," ","Sale Quotation"]});return Object(V.jsx)(A.a,{visible:e.model,title:ve,onCancel:function(){pe(),de.resetFields(),e.isModelVisible(!1)},className:"hp-modal-p-24",footer:Object(V.jsxs)(d.a,{justify:"center",children:[Object(V.jsx)(m.a,{span:12,className:"hp-pr-4",children:Object(V.jsx)(be,{})}),Object(V.jsx)(m.a,{span:12,className:"hp-pl-4",children:Object(V.jsx)(je,{})})]}),centered:!0,closeIcon:Object(V.jsx)(C.k,{className:"remix-icon text-color-black-100",size:24}),width:916,children:Object(V.jsx)(S.a,{layout:"vertical",form:de,name:"userForm",autoComplete:"off",onFinish:function(){null==e.rowdata.id?function(){var a,t,i=Object(n.a)(Object(n.a)({},e.rowdata),{},{id:0,date:o()(e.rowdata.date).format("YYYY-MM-DD"),gst_company_amount:parseInt(e.rowdata.gstamount)-parseInt(null==e.rowdata.gst_customer_amount?0:e.rowdata.gst_customer_amount),emi_firstdate:null==(null===(a=e.rowdata)||void 0===a?void 0:a.emi_firstdate)?null:o()(null===(t=e.rowdata)||void 0===t?void 0:t.emi_firstdate,"DD-MM-YYYY").format("YYYY-MM-DD")});e.salequotationAdd(i)}():function(){var a,t,i,l,r=Object(n.a)(Object(n.a)({},e.rowdata),{},{id:null===(a=e.rowdata)||void 0===a?void 0:a.id,date:o()(null===(t=e.rowdata)||void 0===t?void 0:t.date).format("YYYY-MM-DD"),gst_company_amount:parseInt(e.rowdata.gstamount)-parseInt(null==e.rowdata.gst_customer_amount?0:e.rowdata.gst_customer_amount),emi_firstdate:null==(null===(i=e.rowdata)||void 0===i?void 0:i.emi_firstdate)?null:o()(null===(l=e.rowdata)||void 0===l?void 0:l.emi_firstdate,"DD-MM-YYYY").format("YYYY-MM-DD")});e.salequotationAdd(r)}()},children:Object(V.jsxs)(d.a,{gutter:[6,0],children:[Object(V.jsx)(m.a,{span:24,xs:24,md:8,xl:6,children:Object(V.jsx)(S.a.Item,{label:"Date",name:"date",children:Object(V.jsx)(N.a,{id:"date",name:"date",defaultValue:o()(new Date),disabled:!0,style:{width:"100%"},format:"DD-MM-YYYY",placeholder:"Select Date",value:null==e.rowdata.date?"":null===(a=e.rowdata)||void 0===a?void 0:a.date,onChange:function(a){e.InputChangeValue({key:"date",value:a})}})})}),Object(V.jsx)(m.a,{span:24,xs:24,md:8,xl:6,children:Object(V.jsx)(S.a.Item,{label:"Counter",name:"counter_id",rules:[{required:!0,message:"Please Select Counter"}],hasFeedback:!0,children:Object(V.jsx)(E.a,{showSearch:!0,placeholder:"Select a counter",optionFilterProp:"counter",filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},onBlur:function(a){3!=e.rowdata.saletype&&(e.getPurchaseAvailableStock(Object(n.a)(Object(n.a)({},e.purchaseAvailableStockParams),{},{counter:e.rowdata.counter_id,page:1})),e.setPurchaseAvailableStockParams(Object(n.a)(Object(n.a)({},e.purchaseAvailableStockParams),{},{counter:e.rowdata.counter_id,page:1})))},onChange:function(a){e.InputChangeValue({key:"counter_id",value:a})},value:null==e.rowdata.counter_id?"":null===(t=e.rowdata)||void 0===t?void 0:t.counter_id,children:e.miniCountersList.map((function(e,a){return Object(V.jsx)(Option,{value:e.id,children:e.name},a)}))})})}),Object(V.jsx)(m.a,{span:24,xs:24,md:8,xl:6,children:Object(V.jsx)(S.a.Item,{label:"Sale Type",name:"saletype",rules:[{required:!0,message:"Please Enter Sale Type"}],hasFeedback:!0,children:Object(V.jsx)(E.a,{showSearch:!0,placeholder:"Sale Type",optionFilterProp:"saletype",filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},onBlur:function(){var a,t,i;1==(null===(a=e.rowdata)||void 0===a?void 0:a.saletype)?(e.setMiniPurchaseEnquiryParams(Object(n.a)(Object(n.a)({},e.purchaseEnquiryParams),{},{page:1,enquirytype:2,counter:e.rowdata.counter_id})),e.getMiniPurchaseEnquiry(Object(n.a)(Object(n.a)({},e.purchaseEnquiryParams),{},{page:1,enquirytype:2,counter:e.rowdata.counter_id}))):2==(null===(t=e.rowdata)||void 0===t?void 0:t.saletype)?(e.setMiniPurchaseEnquiryParams(Object(n.a)(Object(n.a)({},e.purchaseEnquiryParams),{},{page:1,enquirytype:3,counter:e.rowdata.counter_id})),e.getMiniPurchaseEnquiry(Object(n.a)(Object(n.a)({},e.purchaseEnquiryParams),{},{page:1,enquirytype:3,counter:e.rowdata.counter_id}))):3==(null===(i=e.rowdata)||void 0===i?void 0:i.saletype)&&(e.getMiniVersion(),e.setMiniPurchaseEnquiryParams(Object(n.a)(Object(n.a)({},e.purchaseEnquiryParams),{},{page:1,enquirytype:4,counter:e.rowdata.counter_id})),e.getMiniPurchaseEnquiry(Object(n.a)(Object(n.a)({},e.purchaseEnquiryParams),{},{page:1,enquirytype:4,counter:e.rowdata.counter_id})))},disabled:null!=e.rowdata.id,onChange:function(a){e.InputChangeValue({key:"saletype",value:a})},value:null===(l=e.rowdata)||void 0===l?void 0:l.saletype,children:[{id:1,name:"Direct Sale"},{id:2,name:"Finance Sale"},{id:3,name:"OVF Sale"}].map((function(e,a){return Object(V.jsx)(Option,{value:e.id,children:e.name},a)}))})})}),Object(V.jsx)(m.a,{span:24,xs:24,md:8,xl:6,children:Object(V.jsx)(S.a.Item,{label:"Enquiry",name:"enquiry_id",rules:[{required:!0,message:"Please Select Enquiry"}],hasFeedback:!0,children:Object(V.jsx)(E.a,{showSearch:!0,placeholder:"Select a Enquiry",optionFilterProp:"Enquiry",filterOption:!1,disabled:null==(null===(s=e.rowdata)||void 0===s?void 0:s.saletype)||null!=e.rowdata.id,onSearch:function(a){e.setMiniPurchaseEnquiryParams(Object(n.a)(Object(n.a)({},e.purchaseEnquiryParams),{},{page:1,search:a})),e.getMiniPurchaseEnquiry(Object(n.a)(Object(n.a)({},e.purchaseEnquiryParams),{},{page:1,search:a}))},onChange:function(a){e.getEnquiryByID(a),e.InputChangeValue({key:"enquiry_id",value:a})},value:null==e.rowdata.enquiry_id?"":null===(c=e.rowdata)||void 0===c?void 0:c.enquiry_id,onPopupScroll:function(){e.purchaseEnquiryParams.page<e.purchaseEnquiryParams.no_of_pages&&(e.setMiniPurchaseEnquiryParams(Object(n.a)(Object(n.a)({},e.purchaseEnquiryParams),{},{page:e.purchaseEnquiryParams.page+1})),e.getMiniPurchaseEnquiry(Object(n.a)(Object(n.a)({},e.purchaseEnquiryParams),{},{page:e.purchaseEnquiryParams.page+1})))},children:e.miniPurchaseEnquiryList.map((function(e,a){return Object(V.jsx)(Option,{value:e.id,children:e.code},a)}))})})}),Object(V.jsx)(m.a,{span:24,xs:24,md:8,xl:6,children:Object(V.jsx)(S.a.Item,{label:"Customer Name",name:"customername",rules:[{required:!0,message:"Please Enter Customer Name"},{pattern:new RegExp(/^[a-zA-Z][a-zA-Z\s]+$/i),message:"field does not accept numbers"}],hasFeedback:!0,children:Object(V.jsx)(r.a,{id:"customername",name:"customername",maxLength:20,value:null===(u=e.rowdata)||void 0===u?void 0:u.customername,disabled:!e.rowdata.enquiry_id,onChange:function(a){e.InputChangeValue({key:a.target.name,value:a.target.value})},placeholder:"Enter Customer Name"})})}),Object(V.jsx)(m.a,{span:24,xs:24,md:8,xl:6,children:Object(V.jsx)(S.a.Item,{label:"Customer Mobile",name:"customermobile",rules:[{required:!0,message:"Please Enter Customer Mobile"},{min:10,message:"Mobile Number Must be 10 number"},{whitespace:!0}],getValueProps:function(){},hasFeedback:!0,children:Object(V.jsx)(I.a,{id:"customermobile",name:"customermobile",style:{width:"100%"},maxLength:10,minLength:10,disabled:!e.rowdata.enquiry_id,placeholder:"Customer Mobile",value:null==e.rowdata.customermobile?"":null===(h=e.rowdata)||void 0===h?void 0:h.customermobile,onChange:e.InputChangeValue})})}),Object(V.jsx)(m.a,{span:24,xs:24,md:8,xl:6,children:Object(V.jsx)(S.a.Item,{label:"Occupation",name:"occupation_id",rules:[{required:!0,message:"Please Select Occupation"}],hasFeedback:!0,children:Object(V.jsx)(E.a,{showSearch:!0,placeholder:"Select a Occupation",disabled:!e.rowdata.enquiry_id,optionFilterProp:"Occupation",filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},onChange:function(a){e.InputChangeValue({key:"occupation_id",value:a})},value:null==e.rowdata.occupation_id?"":null===(j=e.rowdata)||void 0===j?void 0:j.occupation_id,children:e.miniOccupationList.map((function(e,a){return Object(V.jsx)(Option,{value:e.id,children:e.name},a)}))})})}),Object(V.jsx)(m.a,{span:24,xs:24,md:8,xl:6,children:Object(V.jsx)(S.a.Item,{label:"Enquiry Vehicle",children:Object(V.jsx)(r.a,{id:"Enquiryvehiclenumber",name:"Enquiryvehiclenumber",maxLength:20,value:null===(b=e.enquiryByIdData)||void 0===b?void 0:b.vehiclenumber,disabled:!0,placeholder:"Enter Enquiry Vehicle"})})}),Object(V.jsx)(m.a,{span:24,xs:24,md:8,xl:6,children:Object(V.jsx)(S.a.Item,{label:"Enquiry Version",children:Object(V.jsx)(r.a,{id:"Enquiryversion",name:"Enquiryversion",maxLength:20,value:null===(v=e.enquiryByIdData)||void 0===v||null===(O=v.version)||void 0===O?void 0:O.name,disabled:!0,placeholder:"Enter Enquiry Version"})})}),3!==e.rowdata.saletype&&Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(m.a,{span:24,xs:24,md:8,xl:12,children:null==e.rowdata.id?Object(V.jsx)(V.Fragment,{children:Object(V.jsx)(S.a.Item,{label:"Purchase",name:"purchase_id",rules:[{required:!0,message:"Please Select Purchase"}],hasFeedback:!0,children:Object(V.jsx)(E.a,{showSearch:!0,placeholder:"Select a Purchase",optionFilterProp:"Purchase",filterOption:function(e,a){return(a.children+"").toLowerCase().includes(e.toLowerCase())},disabled:null!=e.rowdata.id,onSearch:function(a){e.setPurchaseAvailableStockParams(Object(n.a)(Object(n.a)({},e.purchaseAvailableStockParams),{},{page:1,search:a})),e.getPurchaseAvailableStock(Object(n.a)(Object(n.a)({},e.purchaseAvailableStockParams),{},{page:1,search:a}))},onBlur:function(a){var t,n;0==e.minSaleAmount?(e.getMaxSaleAmount({key:"purchaserate",value:null===(t=e.rowdata)||void 0===t?void 0:t.purchaserate}),e.getMinSaleAmount({key:"purchaserate",value:null===(n=e.rowdata)||void 0===n?void 0:n.purchaserate})):e.getMaxSaleAmountInMinSale({key:"minSaleAmount",value:e.minSaleAmount})},onChange:function(a){var t;t=a,e.purchaseAvaliableStockList.forEach((function(a){a.id==t&&(a.vehicle,e.getPurchaseByID(a),e.getTotalReestimationAmountByPurchase(t),e.getTotalRepairAmountByPurchase(t))})),e.InputChangeValue({key:"purchase_id",value:a})},value:null==e.rowdata.purchase_id?"":null===(w=e.rowdata)||void 0===w?void 0:w.purchase_id,onPopupScroll:function(){e.purchaseAvailableStockParams.page<e.purchaseAvailableStockParams.no_of_pages&&(e.setPurchaseAvailableStockParams(Object(n.a)(Object(n.a)({},e.purchaseAvailableStockParams),{},{page:e.purchaseAvailableStockParams.page+1})),e.getPurchaseAvailableStock(Object(n.a)(Object(n.a)({},e.purchaseAvailableStockParams),{},{page:e.purchaseAvailableStockParams.page+1})))},children:e.purchaseAvaliableStockList.map((function(e,a){var t;return Object(V.jsxs)(Option,{value:e.id,children:[null===(t=e.vehicle)||void 0===t?void 0:t.vehicleno," - ",e.code]},a)}))})})}):Object(V.jsx)(V.Fragment,{children:Object(V.jsx)(S.a.Item,{label:"Purchase",children:Object(V.jsx)(r.a,{id:"Purchase",name:"Purchase",style:{width:"100%"},placeholder:"Purchase",value:(null===(x=e.purchaseData.vehicle)||void 0===x?void 0:x.vehicleno)+"-"+e.purchaseData.code,disabled:!0})})})}),Object(V.jsx)(m.a,{span:24,xs:24,xl:6,md:8,children:Object(V.jsx)(S.a.Item,{label:"Vehicle Version",children:Object(V.jsx)(r.a,{id:"vehicleVersion",name:"vehicleVersion",style:{width:"100%"},placeholder:"Vehicle Version",value:null===(g=e.vehicleVersion)||void 0===g?void 0:g.name,disabled:!0})})}),Object(V.jsx)(m.a,{span:24,xs:24,xl:6,md:8,children:Object(V.jsx)(S.a.Item,{label:"Purchase Rate",children:Object(V.jsx)(r.a,{id:"purchaserate",name:"purchaserate",style:{width:"100%"},placeholder:"Purchase Rate",value:null==e.rowdata.purchaserate?0:e.rowdata.purchaserate,disabled:!0})})}),Object(V.jsx)(m.a,{span:24,xs:24,xl:6,md:8,children:Object(V.jsx)(S.a.Item,{label:"Repair Amount",children:Object(V.jsx)(r.a,{id:"repair_amount",name:"repair_amount",style:{width:"100%"},placeholder:"Repair Amount",value:null==e.rowdata.repair_amount?0:e.rowdata.repair_amount,disabled:!0})})}),Object(V.jsx)(m.a,{span:24,xs:24,xl:6,md:8,children:Object(V.jsx)(S.a.Item,{label:"Re Estimation",children:Object(V.jsx)(r.a,{id:"re_amount",name:"re_amount",style:{width:"100%"},placeholder:"Re Estimation",value:null==e.rowdata.re_amount?0:e.rowdata.re_amount,disabled:!0})})})]}),3==e.rowdata.saletype&&Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(m.a,{span:24,xs:24,md:8,xl:6,children:Object(V.jsx)(S.a.Item,{label:"Finance Type ?",name:"ovftype",rules:[{required:!0,message:"Please Enter OVF Type ?"}],hasFeedback:!0,children:Object(V.jsx)(E.a,{showSearch:!0,placeholder:"OVF Type",optionFilterProp:"ovftype",filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},onChange:function(a){e.InputChangeValue({key:"ovftype",value:a})},value:null===(y=e.rowdata)||void 0===y?void 0:y.ovftype,children:[{id:1,name:"RE-Finance"},{id:2,name:"New Finance"}].map((function(e,a){return Object(V.jsx)(Option,{value:e.id,children:e.name},a)}))})})}),Object(V.jsx)(m.a,{span:24,xs:24,md:8,xl:6,children:Object(V.jsx)(S.a.Item,{label:"Is New Vehicle ?",name:"is_new_vehicle",rules:[{required:!0,message:"Please Select ?"}],hasFeedback:!0,children:Object(V.jsx)(E.a,{showSearch:!0,placeholder:"Is New Vehicle ?",optionFilterProp:"is_new_vehicle",filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},onChange:function(a){e.InputChangeValue({key:"is_new_vehicle",value:a})},value:null===(f=e.rowdata)||void 0===f?void 0:f.is_new_vehicle,children:[{id:!0,name:"Yes"},{id:!1,name:"No"}].map((function(e,a){return Object(V.jsx)(Option,{value:e.id,children:e.name},a)}))})})}),Object(V.jsx)(m.a,{span:24,xs:24,md:8,xl:6,children:Object(V.jsx)(S.a.Item,{label:"Vehicle Number",name:"vehiclenumber",rules:[{required:!0,message:"Please Enter Vehicle Number"},{pattern:new RegExp("^[A-Z]{2}[0-9]{1,2}[A-Z]{1,2}[0-9]{1,4}$"),message:"Please accept valid vehicle number"}],hasFeedback:!0,children:Object(V.jsx)(r.a,{id:"vehiclenumber",name:"vehiclenumber",style:{width:"100%"},placeholder:"Vehicle Number",maxLength:10,value:null==e.rowdata.vehiclenumber?"":null===(P=e.rowdata)||void 0===P?void 0:P.vehiclenumber,onChange:function(a){e.InputChangeValue({key:a.target.name,value:a.target.value.toUpperCase()})}})})}),Object(V.jsx)(m.a,{span:24,xs:24,md:8,xl:6,children:Object(V.jsx)(S.a.Item,{label:"Version",name:"version_id",rules:[{required:!0,message:"Please Select Version"}],hasFeedback:!0,children:Object(V.jsx)(E.a,{showSearch:!0,placeholder:"Select a Version",optionFilterProp:"version_id",filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},onChange:function(a){e.InputChangeValue({key:"version_id",value:a})},value:null==e.rowdata.version_id?"":null===(k=e.rowdata)||void 0===k?void 0:k.version_id,children:e.miniVersionList.map((function(e,a){return Object(V.jsx)(Option,{value:e.id,children:e.name},a)}))})})})]}),3!==e.rowdata.saletype&&Object(V.jsx)(V.Fragment,{children:Object(V.jsx)(m.a,{span:24,xs:24,md:8,xl:6,children:Object(V.jsx)(S.a.Item,{label:"Sales Amount",name:"saleamount",rules:[{required:!0,message:"Please Enter Sales Amount"},{min:3,message:"Amount must be minimum 3 Digits."}],getValueProps:function(){},hasFeedback:!0,children:Object(V.jsx)(I.a,{id:"saleamount",name:"saleamount",style:{width:"100%"},placeholder:"Sales Amount",maxLength:7,value:null==e.rowdata.saleamount?"":null===(D=e.rowdata)||void 0===D?void 0:D.saleamount,onBlur:function(a){var t;t=a,parseInt(t.value)>=e.minSaleAmount&&parseInt(t.value)<=e.maxSaleAmount?(e.getGSTAmount(t),e.getSaleProfit(t),e.InputChangeValue(t),e.getFinanceAmount(t)):(e.InputChangeValue({key:t.key,value:null}),A.a.info({icon:Object(V.jsx)("span",{className:"remix-icon",children:Object(V.jsx)(C.o,{})}),title:Object(V.jsx)("h5",{className:"hp-mb-0 hp-font-weight-500",children:"Sale Amount Error"}),content:Object(V.jsx)("div",{children:Object(V.jsxs)("p",{className:"hp-p1-body hp-text-color-black-80",children:["Please Enter Sale Amount Between ",e.minSaleAmount," to"," ",e.maxSaleAmount]})})}))},onChange:e.InputChangeValue,rules:[{required:!0,message:"Please input your Sales Amount!"}]})})})}),2==e.rowdata.saletype&&Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(m.a,{span:24,xs:24,md:8,xl:6,children:Object(V.jsx)(S.a.Item,{label:"Down Payment Amount",name:"downpaymentamount",rules:[{required:!0,message:"Please Enter Down Payment Amount"}],getValueProps:function(){},hasFeedback:!0,children:Object(V.jsx)(I.a,{id:"downpaymentamount",name:"downpaymentamount",style:{width:"100%"},placeholder:"Min Down Payment - "+e.minDownPaymentAmount,maxLength:7,onBlur:function(a){var t;t=a,parseInt(t.value)>=e.minDownPaymentAmount&&parseInt(t.value)<=e.rowdata.saleamount?(e.getFinanceAmount(t),e.InputChangeValue(t)):(e.InputChangeValue({key:t.key,value:""}),A.a.info({icon:Object(V.jsx)("span",{className:"remix-icon",children:Object(V.jsx)(C.o,{})}),title:Object(V.jsx)("h5",{className:"hp-mb-0 hp-font-weight-500",children:"Down Payment Amount Error"}),content:Object(V.jsx)("div",{children:Object(V.jsxs)("p",{className:"hp-p1-body hp-text-color-black-80",children:["Please Enter Down payment Amount above"," ",e.minDownPaymentAmount," and below ",e.rowdata.saleamount]})})})),he(a)},value:null==e.rowdata.downpaymentamount?"":null===(q=e.rowdata)||void 0===q?void 0:q.downpaymentamount,onChange:e.InputChangeValue})})}),Object(V.jsx)(m.a,{span:24,xs:24,md:8,xl:6,children:Object(V.jsx)(S.a.Item,{label:"Finance Amount",name:"financeamount",rules:[{required:!0,message:"Please Enter Finance Amount"},{min:3,message:"Amount must be minimum 3 Digits."}],getValueProps:function(){},hasFeedback:!0,children:Object(V.jsx)(I.a,{id:"financeamount",name:"financeamount",disabled:!0,style:{width:"100%"},placeholder:"Finance Amount",maxLength:7,value:null==e.rowdata.financeamount?"":null===(F=e.rowdata)||void 0===F?void 0:F.financeamount,onBlur:function(a){e.getEMIAmount(a)},onChange:e.InputChangeValue})})})]}),3==e.rowdata.saletype&&Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(m.a,{span:24,xs:24,md:8,xl:6,children:Object(V.jsx)(S.a.Item,{label:"Vehicle Estimation",name:"vehicle_estimation_id",hasFeedback:!0,children:Object(V.jsx)(E.a,{showSearch:!0,placeholder:"Select a Vehicle Estimation",optionFilterProp:"vehicle_estimation_id",filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},onChange:function(a){!function(a){var t={};e.miniVehicleEstimationList.forEach((function(e){e.id==a&&(t=e)})),e.InputChangeValue({key:"estimationamount",value:t.estimatedamount})}(a),e.InputChangeValue({key:"vehicle_estimation_id",value:a})},value:null==e.rowdata.vehicle_estimation_id?"":null===(T=e.rowdata)||void 0===T?void 0:T.vehicle_estimation_id,children:e.miniVehicleEstimationList.map((function(e,a){return Object(V.jsx)(Option,{value:e.id,children:e.code},a)}))})})}),Object(V.jsx)(m.a,{span:24,xs:24,md:8,xl:6,children:Object(V.jsx)(S.a.Item,{label:"Estimation Amount",name:"estimationamount",rules:[{required:!0,message:"Please Enter Estimation Amount"}],getValueProps:function(){},hasFeedback:!0,children:Object(V.jsx)(I.a,{id:"estimationamount",name:"estimationamount",style:{width:"100%"},maxLength:7,placeholder:"Estimation Amount",onBlur:function(a){e.getMaxFinanceAmount(a),he(a)},value:null==e.rowdata.estimationamount?"":null===(L=e.rowdata)||void 0===L?void 0:L.estimationamount,onChange:e.InputChangeValue})})})]}),3==e.rowdata.saletype&&Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(m.a,{span:24,xs:24,xl:6,md:8,children:Object(V.jsx)(S.a.Item,{label:"Customer Required Amount",name:"customeramount",rules:[{required:!0,message:"Please input your Customer Required Amount"},{min:3,message:"Amount must be minimum 3 Digits."}],tooltip:{title:"Finance Amount:"+e.maxFinanceAmount,icon:Object(V.jsx)(M.a,{})},getValueProps:function(){},hasFeedback:!0,children:Object(V.jsx)(I.a,{id:"customeramount",name:"customeramount",style:{width:"100%"},placeholder:"Enter below "+e.maxFinanceAmount,maxLength:7,value:null==e.rowdata.customeramount?"":null===(Y=e.rowdata)||void 0===Y?void 0:Y.customeramount,onBlur:function(a){!function(a){var t,n,i,l;parseInt(a.value)>=0&&parseInt(a.value)<=e.maxFinanceAmount?(e.InputChangeValue({key:"financeamount",value:parseInt(a.value)+parseInt(null==(null===(t=e.rowdata)||void 0===t?void 0:t.loanamount)?0:null===(n=e.rowdata)||void 0===n?void 0:n.loanamount)}),e.InputChangeValue(a),e.getDocumentCharges({key:"financeamount",value:parseInt(a.value)+parseInt(null==(null===(i=e.rowdata)||void 0===i?void 0:i.loanamount)?0:null===(l=e.rowdata)||void 0===l?void 0:l.loanamount)})):(e.InputChangeValue({key:a.key,value:""}),A.a.info({icon:Object(V.jsx)("span",{className:"remix-icon",children:Object(V.jsx)(C.o,{})}),title:Object(V.jsx)("h5",{className:"hp-mb-0 hp-font-weight-500",children:"Finance Amount Amount Error"}),content:Object(V.jsx)("div",{children:Object(V.jsxs)("p",{className:"hp-p1-body hp-text-color-black-80",children:["Please Enter Finance Amount below ",e.maxFinanceAmount]})})}))}(a)},onChange:function(a){e.InputChangeValue(a)}})})}),Object(V.jsx)(m.a,{span:24,xs:24,md:8,xl:6,children:Object(V.jsx)(S.a.Item,{label:"Finance Amount",name:"financeamount",getValueProps:function(){},hasFeedback:!0,children:Object(V.jsx)(r.a,{id:"OVFfinanceamount",name:"financeamount",style:{width:"100%"},placeholder:"Finance Amount",disabled:!0,value:null==e.rowdata.financeamount?"":null===(Q=e.rowdata)||void 0===Q?void 0:Q.financeamount})})})]}),(2==e.rowdata.saletype||3==e.rowdata.saletype)&&Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(m.a,{span:24,xs:24,xl:6,md:8,children:Object(V.jsx)(S.a.Item,{label:"Documentation Charges",name:"customerdocumentationcharges",tooltip:{title:"Documentation Charges:"+e.rowdata.documentationcharges,icon:Object(V.jsx)(M.a,{})},getValueProps:function(){},children:Object(V.jsx)(I.a,{id:"customerdocumentationcharges",name:"customerdocumentationcharges",style:{width:"100%"},placeholder:"Documentation Charges",maxLength:7,value:null==(null===(R=e.rowdata)||void 0===R?void 0:R.customerdocumentationcharges)?"":null===(B=e.rowdata)||void 0===B?void 0:B.customerdocumentationcharges,onBlur:function(a){e.getGSTAmount(a),e.getSaleCustomerPayAmount(a)},onChange:e.InputChangeValue})})}),Object(V.jsx)(m.a,{span:24,xs:24,md:8,xl:6,children:Object(V.jsx)(S.a.Item,{label:"Downpayment Due Amount",name:"downpayment_due_amount",getValueProps:function(){},rules:[{required:!0,message:"Please Enter Downpayment Due Amount"}],hasFeedback:!0,children:Object(V.jsx)(I.a,{id:"downpayment_due_amount",name:"downpayment_due_amount",style:{width:"100%"},placeholder:"Downpayment Due Amount",maxLength:7,value:null==e.rowdata.downpayment_due_amount?"":e.rowdata.downpayment_due_amount,onChange:e.InputChangeValue})})}),Object(V.jsx)(m.a,{span:24,xs:24,md:8,xl:6,children:Object(V.jsx)(S.a.Item,{label:"Downpayment Due Days",name:"downpayment_due_days",rules:[{required:!0,message:"Please Enter Downpayment Due Days ?"}],hasFeedback:!0,children:Object(V.jsx)(E.a,{showSearch:!0,placeholder:"Downpayment Due Days",optionFilterProp:"downpayment_due_days",onChange:function(a){e.InputChangeValue({key:"downpayment_due_days",value:a})},value:null===(U=e.rowdata)||void 0===U?void 0:U.downpayment_due_days,children:[{id:5,name:"5 days"},{id:10,name:"10 days"},{id:15,name:"15 days"},{id:20,name:"20 days"}].map((function(e,a){return Object(V.jsx)(Option,{value:e.id,children:e.name},a)}))})})})]}),Object(V.jsx)(m.a,{span:24,xs:24,md:8,xl:6,children:Object(V.jsx)(S.a.Item,{label:"GST Amount",name:"gst_customer_amount",tooltip:{title:parseInt(e.rowdata.gstamount)<=0||null==e.rowdata.gstamount?"GST AMOUNT: 0":"GST AMOUNT:"+(null===(z=e.rowdata)||void 0===z?void 0:z.gstamount),icon:Object(V.jsx)(M.a,{})},getValueProps:function(){},children:Object(V.jsx)(I.a,{id:"gst_customer_amount",name:"gst_customer_amount",style:{width:"100%"},placeholder:"GST Amount",maxLength:7,value:null==(null===(G=e.rowdata)||void 0===G?void 0:G.gst_customer_amount)?"":null===(H=e.rowdata)||void 0===H?void 0:H.gst_customer_amount,onBlur:function(a){e.getGSTAmount(a),e.getSaleCustomerPayAmount(a)},onChange:e.InputChangeValue})})}),3==e.rowdata.saletype&&Object(V.jsx)(m.a,{span:24,xs:24,md:8,xl:6,children:Object(V.jsx)(S.a.Item,{label:"Echallan Amount",name:"echallan",rules:[{required:!0,message:"Please Enter Echallan Amount"}],getValueProps:function(){},hasFeedback:!0,children:Object(V.jsx)(I.a,{id:"echallan",name:"echallan",style:{width:"100%"},placeholder:"Echallan Amount",maxLength:7,value:null==e.rowdata.echallan?"":null===(Z=e.rowdata)||void 0===Z?void 0:Z.echallan,onBlur:function(a){e.getSaleCustomerPayAmount(a),he(a)},onChange:e.InputChangeValue})})}),Object(V.jsx)(m.a,{span:24,xs:24,md:8,xl:6,children:Object(V.jsx)(S.a.Item,{label:"RTO Amount",name:"rtaamount",rules:[{required:!0,message:"Please Enter RTO Amount"}],getValueProps:function(){},hasFeedback:!0,children:Object(V.jsx)(I.a,{id:"rtaamount",name:"rtaamount",style:{width:"100%"},placeholder:"RTO Amount",maxLength:7,value:null==e.rowdata.rtaamount?"":null===($=e.rowdata)||void 0===$?void 0:$.rtaamount,onBlur:function(a){e.getSaleCustomerPayAmount(a),he(a)},onChange:e.InputChangeValue})})}),Object(V.jsx)(m.a,{span:24,xs:24,md:8,xl:6,children:Object(V.jsx)(S.a.Item,{label:"Insurance Amount",name:"insuranceamount",rules:[{required:!0,message:"Please Enter Insurance Amount"}],getValueProps:function(){},hasFeedback:!0,children:Object(V.jsx)(I.a,{id:"insuranceamount",name:"insuranceamount",style:{width:"100%"},placeholder:"Insurance Amount",maxLength:7,value:null==e.rowdata.insuranceamount?"":null===(J=e.rowdata)||void 0===J?void 0:J.insuranceamount,onBlur:function(a){e.getSaleCustomerPayAmount(a),he(a)},onChange:e.InputChangeValue})})}),Object(V.jsx)(m.a,{span:24,xs:24,md:8,xl:6,children:Object(V.jsx)(S.a.Item,{label:"Discount Amount",name:"discountamount",rules:[{required:!0,message:"Please Enter Discount Amount"}],getValueProps:function(){},hasFeedback:!0,children:Object(V.jsx)(I.a,{id:"discountamount",name:"discountamount",style:{width:"100%"},placeholder:"Discount Amount",maxLength:7,disabled:!0,value:null==e.rowdata.discountamount?"":null===(W=e.rowdata)||void 0===W?void 0:W.discountamount,onBlur:function(a){e.getSaleCustomerPayAmount(a)},onChange:e.InputChangeValue})})}),Object(V.jsx)(m.a,{span:24,xs:24,md:8,xl:6,children:Object(V.jsx)(S.a.Item,{label:"Total Amount",children:Object(V.jsx)(r.a,{type:"text",placeholder:"Total Amount",value:null===(X=e.rowdata)||void 0===X?void 0:X.total,disabled:!0})})}),(2==e.rowdata.saletype||3==e.rowdata.saletype)&&Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(m.a,{span:24,xs:24,md:8,xl:6,children:Object(V.jsx)(S.a.Item,{label:"Tenures",name:"tenures",rules:[{required:!0,message:"Please Select Tenures"}],hasFeedback:!0,children:Object(V.jsx)(E.a,{showSearch:!0,placeholder:"Select Tenures",optionFilterProp:"tenures",filterOption:function(e,a){return(a.children+"").toLowerCase().includes(e.toLowerCase())},onBlur:function(){},onChange:function(a){var t;t=a,e.miniTenuresList.forEach((function(a){a.name==t&&e.getTenureData(a)})),e.InputChangeValue({key:"tenures",value:a})},value:null==e.rowdata.tenures?"":null===(K=e.rowdata)||void 0===K?void 0:K.tenures,children:e.miniTenuresList.map((function(e,a){return Object(V.jsx)(Option,{value:e.name,children:e.name},a)}))})})}),Object(V.jsx)(m.a,{span:24,xs:24,md:8,xl:6,children:Object(V.jsx)(S.a.Item,{label:"Interest Type",name:"interesttype",rules:[{required:!0,message:"Please Select Interest Type"}],hasFeedback:!0,children:Object(V.jsx)(E.a,{showSearch:!0,placeholder:"Select a Interest Type",optionFilterProp:"tenureType",filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},disabled:!e.rowdata.tenures,onChange:function(a){e.InputChangeValue({key:"interesttype",value:a})},onBlur:function(){var a,t,n,i,l,o;1==e.rowdata.interesttype&&(e.getEMIAmount({key:"interestpercentage",value:null===(a=e.tenuresObjData)||void 0===a||null===(t=a.interestfixed)||void 0===t?void 0:t.value}),e.InputChangeValue({key:"interestpercentage",value:null===(n=e.tenuresObjData)||void 0===n||null===(i=n.interestfixed)||void 0===i?void 0:i.value}),e.InputChangeValue({key:"interestpercentage_id",value:null===(l=e.tenuresObjData)||void 0===l||null===(o=l.interestfixed)||void 0===o?void 0:o.id}))},value:0==e.rowdata.interesttype?"":e.rowdata.interesttype,children:[{id:1,name:"Fixed"},{id:2,name:"Choice"},{id:3,name:"Custom"}].map((function(e,a){return Object(V.jsx)(Option,{value:e.id,children:e.name})}))})})}),1==e.rowdata.interesttype&&Object(V.jsx)(m.a,{span:24,xs:24,xl:6,md:8,children:Object(V.jsx)(S.a.Item,{label:"Interest Percentage",name:"interestfixed",rules:[{required:!0,message:"Please Select Interest Percentage"}],getValueProps:function(){},hasFeedback:!0,children:Object(V.jsx)(r.a,{id:"interestfixed",name:"interestfixed",style:{width:"100%"},placeholder:"Interest Percentage",maxLength:7,disabled:!0,value:null==e.tenuresObjData.interestfixed?"":null===(ee=e.tenuresObjData)||void 0===ee||null===(ae=ee.interestfixed)||void 0===ae?void 0:ae.name})})}),2==e.rowdata.interesttype&&Object(V.jsx)(m.a,{span:24,xs:24,xl:6,md:8,children:Object(V.jsx)(S.a.Item,{label:"Interest Percentage",name:"interestpercentage_id",rules:[{required:!0,message:"Please Select interest percentage"}],hasFeedback:!0,children:Object(V.jsx)(E.a,{showSearch:!0,placeholder:"Select a interest percentage",optionFilterProp:"interestpercentage_id",filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},onChange:function(a){me(a),e.InputChangeValue({key:"interestpercentage_id",value:a})},value:null==(null===(te=e.rowdata)||void 0===te?void 0:te.interestpercentage_id)?"":null===(ne=e.rowdata)||void 0===ne?void 0:ne.interestpercentage_id,children:null!=(null===(ie=e.tenuresObjData)||void 0===ie?void 0:ie.interestchoice)&&Object(V.jsx)(V.Fragment,{children:null===(le=e.tenuresObjData)||void 0===le?void 0:le.interestchoice.map((function(e,a){return Object(V.jsx)(Option,{value:e.id,children:e.name},a)}))})})})}),3==e.rowdata.interesttype&&Object(V.jsx)(m.a,{span:24,xs:24,md:8,xl:6,children:Object(V.jsx)(S.a.Item,{label:"Interest Percentage",name:"interestpercentage_id",rules:[{required:!0,message:"Please Select Interest Percentage"}],hasFeedback:!0,children:Object(V.jsx)(E.a,{showSearch:!0,placeholder:"Select Interest Percentage",optionFilterProp:"Interest Percentage",filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},onChange:function(a){me(a),e.InputChangeValue({key:"interestpercentage_id",value:a})},value:null==e.rowdata.interestpercentage_id?"":null===(oe=e.rowdata)||void 0===oe?void 0:oe.interestpercentage_id,children:e.miniPercentageInterestsList.map((function(e,a){return Object(V.jsx)(Option,{value:e.id,children:e.name},a)}))})})}),Object(V.jsx)(m.a,{span:24,xs:24,xl:6,md:8,children:Object(V.jsx)(S.a.Item,{label:"First EMI Date",name:"emi_firstdate",rules:[{required:!0,message:"Please Select First EMI Date"}],hasFeedback:!0,children:Object(V.jsx)(E.a,{showSearch:!0,placeholder:"Select a First EMI Date",optionFilterProp:"emi_firstdate",filterOption:function(e,a){return(a.children+"").toLowerCase().includes(e.toLowerCase())},onBlur:function(){e.getEMIAmount({key:"",value:0})},onChange:function(a){e.InputChangeValue({key:"emi_firstdate",value:a});var t=o()(a,"DD-MM-YYYY"),n=o()().add(30,"days");t>n?e.setEmiDifferenceDays(t.diff(n,"days")):e.setEmiDifferenceDays(0)},value:null==e.rowdata.emi_firstdate?"":e.rowdata.emi_firstdate,children:e.miniEMIdatesList.map((function(e,a){return Object(V.jsx)(Option,{value:e,children:e},a)}))})})}),Object(V.jsx)(m.a,{span:24,xs:24,md:8,xl:6,children:Object(V.jsx)(S.a.Item,{label:"EMI Amount",name:"emi_amount",rules:[{required:!0,message:"Please Enter EMI Amount"},{min:3,message:"Amount must be minimum 3 Digits."}],getValueProps:function(){},hasFeedback:!0,children:Object(V.jsx)(I.a,{id:"emi_amount",name:"emi_amount",style:{width:"100%"},placeholder:"EMI Amount",maxLength:7,disabled:!0,value:null==e.rowdata.emi_amount?"":null===(re=e.rowdata)||void 0===re?void 0:re.emi_amount,onChange:e.InputChangeValue,rules:[{required:!0,message:"Please Enter EMI Amount!"}]})})}),Object(V.jsx)(m.a,{span:24,xs:24,md:8,xl:6,children:Object(V.jsx)(S.a.Item,{label:"Interest Amount",name:"interest_amount",hasFeedback:!0,children:Object(V.jsx)(I.a,{id:"interest_amount",name:"interest_amount",style:{width:"100%"},placeholder:"Interest Amount",disabled:!0,value:null==e.rowdata.interest_amount?"":null===(se=e.rowdata)||void 0===se?void 0:se.interest_amount})})}),Object(V.jsx)(m.a,{span:24,xs:24,md:8,xl:6,children:Object(V.jsx)(S.a.Item,{label:"Total Repayment Amount",name:"totalrepaymentamount",rules:[{required:!0,message:"Please Enter Total Repayment Amount"},{min:3,message:"Amount must be minimum 3 Digits."}],getValueProps:function(){},hasFeedback:!0,children:Object(V.jsx)(I.a,{id:"totalrepaymentamount",name:"totalrepaymentamount",style:{width:"100%"},maxLength:7,disabled:!0,placeholder:"Total Repayment Amount",value:null==e.rowdata.totalrepaymentamount?"":null===(ce=e.rowdata)||void 0===ce?void 0:ce.totalrepaymentamount,onChange:e.InputChangeValue})})})]})]})})})})),D=t(527),q=t(541),F=t(60),T=new Date;T.getFullYear(),T.getMonth();var L=Object(v.b)((function(e){var a=e.salequotationlist,t=e.mini,n=e.vehicles;return{drawer:a.drawer,saleQuotationParams:a.saleQuotationParams,miniOccupationList:t.miniOccupationList,miniCountersList:t.miniCountersList,miniVehiclesList:t.miniVehiclesList,vehiclesParams:n.vehiclesParams,purchaseEnquiryParams:t.purchaseEnquiryParams,miniPurchaseEnquiryList:t.miniPurchaseEnquiryList,activeTab:a.activeTab}}),{setSaleQuotationParams:f.S,isSaleQuotationDrawerVisible:f.J,getMiniPurchaseEnquiry:g.P,getMiniCounters:g.v,SaleQuotationFilterInputChangeValue:f.d,getMiniOccupation:g.L,getMiniVehicles:g.Y,SetVehiclesParams:F.c,getVehicles:F.h,getMiniCountersClearData:g.w,setMiniPurchaseEnquiryParams:g.ac,saleQuotationActiveTab:f.L,getOVFSalequotation:f.y,getSalequotation:f.D})((function(e){var a,t,l,r,s=S.a.useForm(),c=Object(_.a)(s,1)[0];Object(i.useEffect)((function(){e.getMiniCounters(),e.getMiniVehicles(),e.getMiniOccupation(),e.getMiniPurchaseEnquiry()}),[]);function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{startDate:!1,endDate:!1},a=e.startDate,t=e.endDate;return function(e){var n=!0,i=!0;return a&&(n=e&&e<o()(a+" 00:00:01","YYYY-MM-DD HH:mm:ss")),t&&(i=e&&e>o()(o()(t).format("YYYY-MM-DD")+" 23:59:59","YYYY-MM-DD HH:mm:ss")),a&&n||t&&i}}return Object(i.useEffect)((function(){var a,t,n,i,l;c.setFieldsValue({start_date:null===(a=e.saleQuotationParams)||void 0===a?void 0:a.start_date,end_date:null===(t=e.saleQuotationParams)||void 0===t?void 0:t.end_date,vehicle:null===(n=e.saleQuotationParams)||void 0===n?void 0:n.vehicle,counter:null===(i=e.saleQuotationParams)||void 0===i?void 0:i.counter,occupation:null===(l=e.saleQuotationParams)||void 0===l?void 0:l.occupation})}),[e.saleQuotationParams]),Object(V.jsx)(d.a,{gutter:[24,24],children:Object(V.jsx)(m.a,{span:24,children:Object(V.jsxs)(D.a,{title:"Filters",width:420,className:"hp-drawer-mobile",onClose:function(){e.isSaleQuotationDrawerVisible(!1)},placement:"right",visible:e.drawer,bodyStyle:{paddingBottom:10},children:[Object(V.jsxs)(S.a,{form:c,layout:"vertical",name:"basic",initialValues:{remember:!0},onFinish:function(){3==e.activeTab?e.getOVFSalequotation(Object(n.a)(Object(n.a)({},e.saleQuotationParams),{},{saletype:e.activeTab,page:1,search:"",page_size:10})):e.getSalequotation(Object(n.a)(Object(n.a)({saletype:e.activeTab},e.saleQuotationParams),{},{page:1,search:"",page_size:10})),e.setSaleQuotationParams(Object(n.a)(Object(n.a)({saletype:e.activeTab},e.saleQuotationParams),{},{page:1,search:"",page_size:10})),e.isSaleQuotationDrawerVisible(!1)},children:[Object(V.jsxs)(d.a,{gutter:[12,12],children:[Object(V.jsx)(m.a,{span:12,children:Object(V.jsx)(S.a.Item,{label:"From Date",name:"start_date",children:Object(V.jsx)(N.a,{style:{width:"100%"},picker:"date",placeholder:"Choose Date",format:"DD-MM-YYYY",disabledDate:u({endDate:new Date}),onChange:function(a){e.SaleQuotationFilterInputChangeValue({key:"start_date",value:null==a?"":a}),null==a&&e.SaleQuotationFilterInputChangeValue({key:"end_date",value:""})}})})}),Object(V.jsx)(m.a,{span:12,children:Object(V.jsx)(S.a.Item,{label:"To Date",name:"end_date",children:Object(V.jsx)(N.a,{style:{width:"100%"},picker:"date",placeholder:"Choose Date",format:"DD-MM-YYYY",disabledDate:u({endDate:o()().format("YYYY-MM-DD"),startDate:o()(null===(a=e.saleQuotationParams)||void 0===a?void 0:a.start_date).format("YYYY-MM-DD")}),disabled:null==e.saleQuotationParams.start_date||""==e.saleQuotationParams.start_date,onChange:function(a){e.SaleQuotationFilterInputChangeValue({key:"end_date",value:null==a?"":a})}})})}),Object(V.jsx)(m.a,{span:12,children:Object(V.jsx)(S.a.Item,{label:"Vehicle",name:"vehicle",children:Object(V.jsx)(E.a,{showSearch:!0,allowClear:!0,placeholder:"Select Vehicle",optionFilterProp:"vehicle_id",filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},onSearch:function(a){e.SetVehiclesParams(Object(n.a)(Object(n.a)({},e.vehiclesParams),{},{page:1,search:a})),e.getVehicles(Object(n.a)(Object(n.a)({},e.vehiclesParams),{},{page:1,search:a}))},defaultActiveFirstOption:!1,showArrow:!0,onChange:function(a){e.SaleQuotationFilterInputChangeValue({key:"vehicle",value:a})},onPopupScroll:function(){e.vehiclesParams.page<e.vehiclesParams.no_of_pages&&(e.SetVehiclesParams(Object(n.a)(Object(n.a)({},e.vehiclesParams),{},{page:e.vehiclesParams.page+1})),e.getVehicles(Object(n.a)(Object(n.a)({},e.vehiclesParams),{},{page:e.vehiclesParams.page+1})))},value:null==e.saleQuotationParams.vehicle_id?"":null===(t=e.saleQuotationParams)||void 0===t?void 0:t.vehicle_id,children:e.miniVehiclesList.map((function(e,a){return Object(V.jsx)(Option,{value:e.id,children:e.vehicleno},a)}))})})}),Object(V.jsx)(m.a,{span:12,children:Object(V.jsx)(S.a.Item,{label:"Counter",name:"counter",children:Object(V.jsx)(E.a,{showSearch:!0,allowClear:!0,placeholder:"Select  Counter",optionFilterProp:"counter",filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},onChange:function(a){e.SaleQuotationFilterInputChangeValue({key:"counter",value:a})},value:null==e.saleQuotationParams.counter_id?"":null===(l=e.saleQuotationParams)||void 0===l?void 0:l.counter_id,children:e.miniCountersList.map((function(e,a){return Object(V.jsx)(Option,{value:e.id,children:e.name},a)}))})})}),Object(V.jsx)(m.a,{span:12,children:Object(V.jsx)(S.a.Item,{label:"Occupation :",name:"occupation",children:Object(V.jsx)(E.a,{showSearch:!0,allowClear:!0,filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},placeholder:"Select Occupation",optionFilterProp:"occupation",onChange:function(a){e.SaleQuotationFilterInputChangeValue({key:"occupation",value:a})},value:null==e.saleQuotationParams.occupation_id?"":null===(r=e.saleQuotationParams)||void 0===r?void 0:r.occupation_id,children:e.miniOccupationList.map((function(e,a){return Object(V.jsx)(Option,{value:e.id,children:e.name},a)}))})})})]}),Object(V.jsxs)(d.a,{gutter:[12,12],children:[Object(V.jsx)(m.a,{md:12,children:Object(V.jsx)(p.a,{block:!0,type:"secondary",className:"hp-submit-btn hp-mt-10",onClick:function(){e.setSaleQuotationParams({start_date:"",end_date:"",page:1,search:"",page_size:10,saletype:e.activeTab}),e.getSalequotation({start_date:"",end_date:"",page:1,search:"",page_size:10,saletype:e.activeTab}),e.getOVFSalequotation({start_date:"",end_date:"",page:1,search:"",page_size:10,saletype:e.activeTab}),e.getMiniOccupation(),e.getMiniVehicles(),e.getMiniCounters(),e.getMiniPurchaseEnquiry()},htmlType:"button",children:"Clear"})}),Object(V.jsx)(m.a,{md:12,children:Object(V.jsx)(p.a,{block:!0,type:"primary",className:"hp-submit-btn hp-mt-10",onClick:function(){c.submit()},children:"Apply"})})]})]}),Object(V.jsx)(q.a,{})]})})})})),Y=t(595),Q=t(216),R=t(183);a.default=Object(v.b)((function(e){var a=e.salequotationlist,t=e.mini,n=e.system;return{salequotList:a.salequotList,noofpages:a.noofpages,listCount:a.listCount,OVFSalequotList:a.OVFSalequotList,purchaseEnquiryParams:t.purchaseEnquiryParams,loading:a.loading,saleQuotationParams:a.saleQuotationParams,activeTab:a.activeTab,purchaseAvailableStockParams:t.purchaseAvailableStockParams,userAccessList:n.userAccessList,viewModel:a.viewModel,model:a.model}}),{getSalequotation:f.D,getSystemFormulas:P.o,getSaleQuotationByID:f.C,saleQuotationDelete:f.N,isModelVisible:f.I,getMiniVersion:g.cb,getPurchaseList:y.o,getMiniPurchaseEnquiry:g.P,setMiniPurchaseEnquiryParams:g.ac,getOVFSalequotation:f.y,getMiniVehicleEstimation:g.X,setSaleQuotationParams:f.S,isSaleQuotationDrawerVisible:f.J,saleQuotationActiveTab:f.L,getPurchaseAvailableStock:g.ib,setPurchaseAvailableStockParams:g.dc,saleQuotationViewModel:f.P,getReportList:R.f,clearSalequotation:f.j,clearOVFSalequotation:f.h,clearSaleQuotationParams:f.i})((function(e){var a,t,l,v,g,y,f,P,_,S;Object(i.useEffect)((function(){e.getSalequotation({page:1,search:"",saletype:1,page_size:10})}),[]);var A=r.a.Search,N=s.a.TabPane,E="hp-p1-body hp-text-color-black-50 hp-text-color-dark-0 hp-font-weight-500 ";function I(a,t){e.clearSalequotation(),e.clearOVFSalequotation(),3==e.activeTab?e.getOVFSalequotation(Object(n.a)(Object(n.a)({},e.saleQuotationParams),{},{saletype:e.activeTab,page_size:t,page:0==a?1:a})):e.getSalequotation(Object(n.a)(Object(n.a)({},e.saleQuotationParams),{},{saletype:e.activeTab,page_size:t,page:0==a?1:a})),e.setSaleQuotationParams(Object(n.a)(Object(n.a)({},e.saleQuotationParams),{},{saletype:e.activeTab,page_size:t,page:0==a?1:a}))}function M(a){console.log("search",e.activeTab),3==e.activeTab?e.getOVFSalequotation(Object(n.a)(Object(n.a)({},e.saleQuotationParams),{},{saletype:e.activeTab,page:1,search:a})):e.getSalequotation(Object(n.a)(Object(n.a)({},e.saleQuotationParams),{},{page:1,saletype:e.activeTab,search:a})),e.setSaleQuotationParams(Object(n.a)(Object(n.a)({},e.saleQuotationParams),{},{page:1,saletype:e.activeTab,search:a}))}function D(e){return"Total "+e+" items"}var q=[{title:"S.No",dataIndex:"index",fixed:Q.isMobile?null:"left",width:70},{title:"Date",width:120,fixed:Q.isMobile?null:"left",render:function(e){return Object(V.jsx)("span",{className:E,children:o()(e.date).format("DD-MM-YYYY")})}},{title:"Code",width:110,fixed:Q.isMobile?null:"left",render:function(e){return Object(V.jsx)("span",{className:E,children:e.code})}},{title:"Sale Type",width:120,render:function(e){return Object(V.jsx)("span",{className:E,children:e.saletype_name})}},{title:"Customer Name",width:100,render:function(e){return Object(V.jsx)("span",{className:E,children:e.customername})}},{title:"Customer Mobile",width:120,render:function(e){return Object(V.jsx)("span",{className:E,children:e.customermobile})}},{title:"Counter",width:150,render:function(e){var a;return Object(V.jsx)("span",{className:E,children:null===(a=e.counter)||void 0===a?void 0:a.name})}},{title:"Enquiry",width:110,render:function(e){var a;return Object(V.jsx)("span",{className:E,children:null===(a=e.enquiry)||void 0===a?void 0:a.code})}},{title:"Purchase",width:200,render:function(e){var a;return Object(V.jsx)("span",{className:E,children:null===(a=e.purchase)||void 0===a?void 0:a.code})}},{title:"Vehicle No",width:150,render:function(e){var a;return Object(V.jsx)("span",{className:E,children:null===(a=e.vehicle)||void 0===a?void 0:a.vehicleno})}},{title:"Occupation",width:150,render:function(e){var a;return Object(V.jsx)("span",{className:E,children:null===(a=e.occupation)||void 0===a?void 0:a.name})}},{title:"Sale Amount",width:120,render:function(e){return Object(V.jsx)("span",{className:E,children:e.saleamount})}},{title:"GST Amount",width:120,render:function(e){return Object(V.jsx)("span",{className:E,children:e.gstamount})}},{title:"Customer GST Amount",width:150,render:function(e){return Object(V.jsx)("span",{className:E,children:e.gst_customer_amount})}},{title:"RTO Amount",width:120,render:function(e){return Object(V.jsx)("span",{className:E,children:e.rtaamount})}},{title:"Insurance Amount",width:120,render:function(e){return Object(V.jsx)("span",{className:E,children:e.insuranceamount})}},{title:"Discount Amount",width:120,render:function(e){return Object(V.jsx)("span",{className:E,children:e.discountamount})}},{title:"Total Amount",width:120,render:function(e){return Object(V.jsx)("span",{className:E,children:e.total})}},{title:"Action",key:"action",width:100,fixed:Q.isMobile?null:"right",render:function(a,t){var i,l,o;return Object(V.jsxs)(c.b,{size:"middle",children:[-1!==(null===(i=e.userAccessList)||void 0===i?void 0:i.indexOf("Sale.change_salequotation"))&&Object(V.jsx)("i",{className:"ri-edit-box-line hp-mr-2 ",style:{cursor:"pointer",color:"#fc6f03"},onClick:function(){e.getPurchaseAvailableStock(Object(n.a)(Object(n.a)({},e.purchaseAvailableStockParams),{},{page:1,saletype:1})),e.setPurchaseAvailableStockParams(Object(n.a)(Object(n.a)({},e.purchaseAvailableStockParams),{},{page:1,saletype:1})),e.setMiniPurchaseEnquiryParams(Object(n.a)(Object(n.a)({},e.purchaseEnquiryParams),{},{page:1,enquirytype:2})),e.getMiniPurchaseEnquiry(Object(n.a)(Object(n.a)({},e.purchaseEnquiryParams),{},{page:1,enquirytype:2})),e.getSystemFormulas(),e.getSaleQuotationByID({row:a,type:"update"})}}),-1!==(null===(l=e.userAccessList)||void 0===l?void 0:l.indexOf("Sale.delete_salequotation"))&&Object(V.jsx)(u.a,{placement:"topRight",title:"Are you sure to delete this Record?",onConfirm:function(){return e.saleQuotationDelete(a)},okText:"Yes",cancelText:"No",className:"hp-ml-8",icon:Object(V.jsx)(C.n,{className:"remix-icon hp-text-color-primary-1"}),children:Object(V.jsx)("i",{className:"ri-delete-bin-2-line ",style:{cursor:"pointer",color:"#ff0000"}})}),-1!==(null===(o=e.userAccessList)||void 0===o?void 0:o.indexOf("Sale.view_salequotation"))&&Object(V.jsx)("i",{className:"ri-eye-line hp-mr-2 ",style:{cursor:"pointer",color:"#fc6f03"},onClick:function(){e.getSystemFormulas(),e.getSaleQuotationByID({row:a,type:"view"})}})]})}}],F=[{title:"S.No",dataIndex:"index",fixed:Q.isMobile?null:"left",width:70},{title:"Date",width:120,fixed:Q.isMobile?null:"left",render:function(e){return Object(V.jsx)("span",{className:E,children:o()(e.date).format("DD-MM-YYYY")})}},{title:"Code",width:120,fixed:Q.isMobile?null:"left",render:function(e){return Object(V.jsx)("span",{className:E,children:e.code})}},{title:"Sale Type",width:120,render:function(e){return Object(V.jsx)("span",{className:E,children:e.saletype_name})}},{title:"Counter",width:150,render:function(e){return Object(V.jsx)("span",{className:E,children:e.counter.name})}},{title:"Customer Name",width:150,render:function(e){return Object(V.jsx)("span",{className:E,children:e.customername})}},{title:"Customer Mobile",width:120,render:function(e){return Object(V.jsx)("span",{className:E,children:e.customermobile})}},{title:"Occupation",width:150,render:function(e){var a;return Object(V.jsx)("span",{className:E,children:null===(a=e.occupation)||void 0===a?void 0:a.name})}},{title:"Enquiry",width:120,render:function(e){var a;return Object(V.jsx)("span",{className:E,children:null===(a=e.enquiry)||void 0===a?void 0:a.code})}},{title:"Purchase",width:180,render:function(e){var a;return Object(V.jsx)("span",{className:E,children:null===(a=e.purchase)||void 0===a?void 0:a.code})}},{title:"Vehicle No",width:150,render:function(e){var a;return Object(V.jsx)("span",{className:E,children:null===(a=e.vehicle)||void 0===a?void 0:a.vehicleno})}},{title:"Sale Amount",width:120,render:function(e){return Object(V.jsx)("span",{className:E,children:e.saleamount})}},{title:"Down Payment Amount",width:150,render:function(e){return Object(V.jsx)("span",{className:E,children:e.downpaymentamount})}},{title:"Finance Amount",width:120,render:function(e){return Object(V.jsx)("span",{className:E,children:e.financeamount})}},{title:"Documentation Charges",width:150,render:function(e){return Object(V.jsx)("span",{className:E,children:e.documentationcharges})}},{title:"Customer Documentation Charges",width:150,render:function(e){return Object(V.jsx)("span",{className:E,children:e.customerdocumentationcharges})}},{title:"GST Amount",width:120,render:function(e){return Object(V.jsx)("span",{className:E,children:e.gstamount})}},{title:"Customer GST Amount",width:150,render:function(e){return Object(V.jsx)("span",{className:E,children:e.gst_customer_amount})}},{title:"RTO Amount",width:120,render:function(e){return Object(V.jsx)("span",{className:E,children:e.rtaamount})}},{title:"Insurance Amount",width:150,render:function(e){return Object(V.jsx)("span",{className:E,children:e.insuranceamount})}},{title:"Discount Amount",width:120,render:function(e){return Object(V.jsx)("span",{className:E,children:e.discountamount})}},{title:"Total Amount",width:120,render:function(e){return Object(V.jsx)("span",{className:E,children:e.total})}},{title:"Interest Percentage",width:150,render:function(e){var a;return Object(V.jsx)("span",{className:E,children:null===(a=e.interestpercentage)||void 0===a?void 0:a.value})}},{title:"Tenures",width:120,render:function(e){return Object(V.jsx)("span",{className:E,children:e.tenures})}},{title:"EMI Amount",width:120,render:function(e){return Object(V.jsx)("span",{className:E,children:e.emi_amount})}},{title:"Toal Repayment Amount",width:150,render:function(e){return Object(V.jsx)("span",{className:E,children:e.totalrepaymentamount})}},{title:"Action",key:"action",width:100,fixed:Q.isMobile?null:"right",render:function(a,t){var i,l,o;return Object(V.jsxs)(c.b,{size:"middle",children:[-1!==(null===(i=e.userAccessList)||void 0===i?void 0:i.indexOf("Sale.change_salequotation"))&&Object(V.jsx)("i",{className:"ri-edit-box-line hp-mr-2 ",style:{cursor:"pointer",color:"#fc6f03"},onClick:function(){e.getPurchaseAvailableStock(Object(n.a)(Object(n.a)({},e.purchaseAvailableStockParams),{},{page:1,saletype:1})),e.setPurchaseAvailableStockParams(Object(n.a)(Object(n.a)({},e.purchaseAvailableStockParams),{},{page:1,saletype:1})),e.setMiniPurchaseEnquiryParams(Object(n.a)(Object(n.a)({},e.purchaseEnquiryParams),{},{page:1,enquirytype:3})),e.getMiniPurchaseEnquiry(Object(n.a)(Object(n.a)({},e.purchaseEnquiryParams),{},{page:1,enquirytype:3})),e.getSystemFormulas(),e.getSaleQuotationByID({row:a,type:"update"})}}),-1!==(null===(l=e.userAccessList)||void 0===l?void 0:l.indexOf("Sale.delete_salequotation"))&&Object(V.jsx)(u.a,{placement:"topRight",title:"Are you sure to delete this Record?",onConfirm:function(){return e.saleQuotationDelete(a)},okText:"Yes",cancelText:"No",className:"hp-ml-8",icon:Object(V.jsx)(C.n,{className:"remix-icon hp-text-color-primary-1"}),children:Object(V.jsx)("i",{className:"ri-delete-bin-2-line ",style:{cursor:"pointer",color:"#ff0000"}})}),-1!==(null===(o=e.userAccessList)||void 0===o?void 0:o.indexOf("Sale.view_salequotation"))&&Object(V.jsx)("i",{className:"ri-eye-line hp-mr-2 ",style:{cursor:"pointer",color:"#fc6f03"},onClick:function(){e.getSystemFormulas(),e.getSaleQuotationByID({row:a,type:"view"})}})]})}}],T=[{title:"S.No",dataIndex:"index",fixed:Q.isMobile?null:"left",width:70},{title:"Date",width:120,fixed:Q.isMobile?null:"left",render:function(e){return Object(V.jsx)("span",{className:E,children:o()(e.date).format("DD-MM-YYYY")})}},{title:"Code",width:120,fixed:Q.isMobile?null:"left",render:function(e){return Object(V.jsx)("span",{className:E,children:e.code})}},{title:"Counter",width:150,render:function(e){var a;return Object(V.jsx)("span",{className:E,children:null===(a=e.counter)||void 0===a?void 0:a.name})}},{title:"Customer Name",width:150,render:function(e){return Object(V.jsx)("span",{className:E,children:e.customername})}},{title:"Customer Mobile",width:150,render:function(e){return Object(V.jsx)("span",{className:E,children:e.customermobile})}},{title:"Occupation",width:150,render:function(e){var a;return Object(V.jsx)("span",{className:E,children:null===(a=e.occupation)||void 0===a?void 0:a.name})}},{title:"Enquiry",width:120,render:function(e){var a;return Object(V.jsx)("span",{className:E,children:null===(a=e.enquiry)||void 0===a?void 0:a.code})}},{title:"OVF Type",width:120,render:function(e){return Object(V.jsx)("span",{className:E,children:e.ovftype_name})}},{title:"Is New Vehicle?",width:100,render:function(e){return Object(V.jsx)("span",{className:E,children:e.is_new_vehicle?"Yes":"No"})}},{title:"Vehicle No",width:130,render:function(e){return Object(V.jsx)("span",{className:E,children:e.vehiclenumber})}},{title:"Version",width:150,render:function(e){var a;return Object(V.jsx)("span",{className:E,children:null===(a=e.version)||void 0===a?void 0:a.name})}},{title:"Vehicle Estimation",width:150,render:function(e){var a;return Object(V.jsx)("span",{className:E,children:null===(a=e.vehicle_estimation)||void 0===a?void 0:a.code})}},{title:"Estimation Amount",width:150,render:function(e){return Object(V.jsx)("span",{className:E,children:e.estimationamount})}},{title:"Customer Required Amount",width:150,render:function(e){return Object(V.jsx)("span",{className:E,children:e.customeramount})}},{title:"Finance Amount",width:120,render:function(e){return Object(V.jsx)("span",{className:E,children:e.financeamount})}},{title:"DownPayment Due Amount",width:120,render:function(e){return Object(V.jsx)("span",{className:E,children:e.downpayment_due_amount})}},{title:"DownPayment Due Date",width:120,render:function(e){return Object(V.jsx)("span",{className:E,children:o()(e.downpayment_due_date).format("DD-MM-YYYY")})}},{title:"Documentation Charges",width:150,render:function(e){return Object(V.jsx)("span",{className:E,children:e.documentationcharges})}},{title:"Customer Documentation Charges",width:150,render:function(e){return Object(V.jsx)("span",{className:E,children:e.customerdocumentationcharges})}},{title:"GST Amount",width:120,render:function(e){return Object(V.jsx)("span",{className:E,children:e.gstamount})}},{title:"Customer GST Amount",width:150,render:function(e){return Object(V.jsx)("span",{className:E,children:e.gst_customer_amount})}},{title:"RTA Amount",width:100,render:function(e){return Object(V.jsx)("span",{className:E,children:e.rtaamount})}},{title:"Insurance Amount",width:150,render:function(e){return Object(V.jsx)("span",{className:E,children:e.insuranceamount})}},{title:"Discount Amount",width:100,render:function(e){return Object(V.jsx)("span",{className:E,children:e.discountamount})}},{title:"Total Amount",width:100,render:function(e){return Object(V.jsx)("span",{className:E,children:e.total})}},{title:"Tenures",width:100,render:function(e){return Object(V.jsx)("span",{className:E,children:e.tenures})}},{title:"Interest Percentage",width:120,render:function(e){var a;return Object(V.jsx)("span",{className:E,children:null===(a=e.interestpercentage)||void 0===a?void 0:a.value})}},{title:"EMI Amount",width:120,render:function(e){return Object(V.jsx)("span",{className:E,children:e.emi_amount})}},{title:"Toal Repayment Amount",width:150,render:function(e){return Object(V.jsx)("span",{className:E,children:e.totalrepaymentamount})}},{title:"Action",key:"action",width:100,fixed:Q.isMobile?null:"right",render:function(a,t){var i,l,o;return Object(V.jsxs)(c.b,{size:"middle",children:[-1!==(null===(i=e.userAccessList)||void 0===i?void 0:i.indexOf("Sale.change_salequotation"))&&Object(V.jsx)("i",{className:"ri-edit-box-line hp-mr-2 ",style:{cursor:"pointer",color:"#fc6f03"},onClick:function(){e.setMiniPurchaseEnquiryParams(Object(n.a)(Object(n.a)({},e.purchaseEnquiryParams),{},{page:1,enquirytype:4})),e.getMiniPurchaseEnquiry(Object(n.a)(Object(n.a)({},e.purchaseEnquiryParams),{},{page:1,enquirytype:4})),e.getMiniVehicleEstimation(),e.getMiniVersion(),e.getSystemFormulas(),e.getSaleQuotationByID({row:a,type:"update"})}}),-1!==(null===(l=e.userAccessList)||void 0===l?void 0:l.indexOf("Sale.delete_salequotation"))&&Object(V.jsx)(u.a,{placement:"topRight",title:"Are you sure to delete this Record?",onConfirm:function(){return e.saleQuotationDelete(a)},okText:"Yes",cancelText:"No",className:"hp-ml-8",icon:Object(V.jsx)(C.n,{className:"remix-icon hp-text-color-primary-1"}),children:Object(V.jsx)("i",{className:"ri-delete-bin-2-line ",style:{cursor:"pointer",color:"#ff0000"}})}),-1!==(null===(o=e.userAccessList)||void 0===o?void 0:o.indexOf("Sale.view_salequotation"))&&Object(V.jsx)("i",{className:"ri-eye-line hp-mr-2 ",style:{cursor:"pointer",color:"#fc6f03"},onClick:function(){e.getSystemFormulas(),e.getSaleQuotationByID({row:a,type:"view"})}})]})}}],R=e.salequotList.map((function(a,t){return Object(n.a)(Object(n.a)({},a),{},{index:(e.saleQuotationParams.page-1)*e.saleQuotationParams.page_size+(t+1)})})),B=e.OVFSalequotList.map((function(a,t){return Object(n.a)(Object(n.a)({},a),{},{index:(e.saleQuotationParams.page-1)*e.saleQuotationParams.page_size+(t+1)})}));function U(){var a={file_format:0};1==e.activeTab||2==e.activeTab?a.model_name="SaleQuotation":a.model_name="OVFQuotation",e.getReportList({objData:a,ParamsData:Object(n.a)(Object(n.a)({},e.saleQuotationParams),{},{start_date:null!=e.saleQuotationParams.start_date&&""!=e.saleQuotationParams.start_date?o()(e.saleQuotationParams.start_date).format("YYYY-MM-DD"):"",end_date:null!=e.saleQuotationParams.end_date&&""!=e.saleQuotationParams.end_date?o()(e.saleQuotationParams.end_date).add(1,"days").format("YYYY-MM-DD"):""})})}return Object(V.jsxs)(d.a,{gutter:[12,12],children:[Object(V.jsx)(O.a,{pageTitle:"Sale Quotation List",addModelTile:-1!==(null===(a=e.userAccessList)||void 0===a?void 0:a.indexOf("Sale.add_salequotation"))&&"Add Sale Quotation",goBack:!1,setIsModalVisible:e.isModelVisible,isModalVisible:e.model}),Object(V.jsx)(m.a,{span:24,children:Object(V.jsx)("div",{className:"hp-border-color-black-40 hp-bg-black-0 hp-p-12 hp-border-radius hp-purchase-app-content",children:Object(V.jsxs)(s.a,{defaultActiveKey:"1",onChange:function(a){e.saleQuotationActiveTab(a),console.log(a),3==a?e.getOVFSalequotation(Object(n.a)(Object(n.a)({},e.saleQuotationParams),{},{saletype:a,page:1,search:"",page_size:10})):e.getSalequotation(Object(n.a)(Object(n.a)({},e.saleQuotationParams),{},{page:1,search:"",page_size:10,saletype:a})),e.setSaleQuotationParams(Object(n.a)(Object(n.a)({},e.saleQuotationParams),{},{saletype:a,page:1,search:"",page_size:10}))},children:[Object(V.jsx)(N,{tab:"DIRECT SALE",children:Object(V.jsx)(h.a,{tip:"Loading...",spinning:e.loading,delay:500,children:Object(V.jsx)(m.a,{span:24,children:Object(V.jsxs)(d.a,{className:"hp-mb-12",children:[Object(V.jsx)(m.a,{span:12,md:14,xs:16,className:"hp-mr-10",children:Object(V.jsx)(A,{placeholder:"Search for date, doc, number, customer, counter, vehicle",allowClear:!0,value:""==e.saleQuotationParams.search||null==e.saleQuotationParams.search?"":e.saleQuotationParams.search,onChange:function(a){""==a.target.value?(e.getSalequotation(Object(n.a)(Object(n.a)({},e.saleQuotationParams),{},{page:1,search:""})),e.setSaleQuotationParams(Object(n.a)(Object(n.a)({},e.saleQuotationParams),{},{page:1,search:""}))):e.setSaleQuotationParams(Object(n.a)(Object(n.a)({},e.saleQuotationParams),{},{search:a.target.value}))},onSearch:function(e){M(e)}})}),Object(V.jsx)(m.a,{md:4,xs:6,className:"hp-mb-10 hp-mr-10",children:Object(V.jsxs)(p.a,{onClick:function(){e.isSaleQuotationDrawerVisible(!0)},className:"bg-color hp-w-100 hp-p-12 ",icon:Object(V.jsx)(w.a,{className:"hp-mr-10"}),size:"small",children:[" ","Filter"]})}),-1!==(null===(t=e.userAccessList)||void 0===t?void 0:t.indexOf("Sale.export_salequotation"))&&Object(V.jsx)(m.a,{md:4,xs:6,children:Object(V.jsx)(u.a,{placement:"topRight",title:"Are you sure to export this Record?",onConfirm:function(){return U()},okText:"Yes",cancelText:"No",className:"hp-ml-8",icon:Object(V.jsx)(C.n,{className:"remix-icon hp-text-color-primary-1"}),children:Object(V.jsxs)(p.a,{className:"hp-w-100 hp-p-12 ",icon:Object(V.jsx)(x.a,{className:"hp-mr-10"}),size:"small",children:[" ","Export"]})})}),Object(V.jsx)(m.a,{span:24,children:Object(V.jsx)(j.a,{columns:q,dataSource:R,scroll:{x:1300},pagination:!1})}),Object(V.jsx)(m.a,{span:24,children:Object(V.jsx)(b.a,{size:"small",total:e.listCount,showTotal:D,current:null===(l=e.saleQuotationParams)||void 0===l?void 0:l.page,pageSize:null===(v=e.saleQuotationParams)||void 0===v?void 0:v.page_size,showSizeChanger:!0,onChange:I,className:"hp-mb-12 hp-mt-24 hp-float-right"})})]})})})},"1"),Object(V.jsx)(N,{tab:"FINANCE SALE",children:Object(V.jsx)(h.a,{tip:"Loading...",spinning:e.loading,delay:500,children:Object(V.jsx)(m.a,{span:24,children:Object(V.jsxs)(d.a,{className:"hp-mb-12",children:[Object(V.jsx)(m.a,{span:12,md:14,xs:16,className:"hp-mr-10 hp-mb-10",children:Object(V.jsx)(A,{placeholder:"Search for date, doc, number, customer, counter, vehicle",allowClear:!0,value:""==e.saleQuotationParams.search||null==e.saleQuotationParams.search?"":e.saleQuotationParams.search,onChange:function(a){""==a.target.value?(e.getSalequotation(Object(n.a)(Object(n.a)({},e.saleQuotationParams),{},{page:1,search:""})),e.setSaleQuotationParams(Object(n.a)(Object(n.a)({},e.saleQuotationParams),{},{page:1,search:""}))):e.setSaleQuotationParams(Object(n.a)(Object(n.a)({},e.saleQuotationParams),{},{search:a.target.value}))},onSearch:function(e){M(e)}})}),Object(V.jsx)(m.a,{md:4,xs:6,className:"hp-mr-10",children:Object(V.jsxs)(p.a,{onClick:function(){e.isSaleQuotationDrawerVisible(!0)},className:"bg-color hp-w-100 hp-p-12 ",icon:Object(V.jsx)(w.a,{className:"hp-mr-10"}),size:"small",children:[" ","Filter"]})}),-1!==(null===(g=e.userAccessList)||void 0===g?void 0:g.indexOf("Sale.export_salequotation"))&&Object(V.jsx)(m.a,{md:4,xs:3,children:Object(V.jsx)(u.a,{placement:"topRight",title:"Are you sure to export this Record?",onConfirm:function(){return U()},okText:"Yes",cancelText:"No",className:"hp-ml-8",icon:Object(V.jsx)(C.n,{className:"remix-icon hp-text-color-primary-1"}),children:Object(V.jsxs)(p.a,{className:"hp-w-100 hp-p-12 ",icon:Object(V.jsx)(x.a,{className:"hp-mr-10"}),size:"small",children:[" ","Export"]})})}),Object(V.jsx)(m.a,{span:24,children:Object(V.jsx)(j.a,{columns:F,dataSource:R,scroll:{x:1300},pagination:!1})}),Object(V.jsx)(m.a,{span:24,children:Object(V.jsx)(b.a,{size:"small",total:e.listCount,showTotal:D,current:null===(y=e.saleQuotationParams)||void 0===y?void 0:y.page,pageSize:null===(f=e.saleQuotationParams)||void 0===f?void 0:f.page_size,showSizeChanger:!0,onChange:I,className:"hp-mb-12 hp-mt-24 hp-float-right"})})]})})})},"2"),Object(V.jsx)(N,{tab:"OVF SALE",children:Object(V.jsx)(m.a,{span:24,children:Object(V.jsxs)(d.a,{className:"hp-mb-12",children:[Object(V.jsx)(m.a,{span:12,md:14,xs:16,className:"hp-mb-10 hp-mr-10",children:Object(V.jsx)(A,{placeholder:"Search for date, doc, number, customer, counter, vehicle",allowClear:!0,value:""==e.saleQuotationParams.search||null==e.saleQuotationParams.search?"":e.saleQuotationParams.search,onChange:function(a){""==a.target.value?(e.getOVFSalequotation(Object(n.a)(Object(n.a)({},e.saleQuotationParams),{},{page:1,search:""})),e.setSaleQuotationParams(Object(n.a)(Object(n.a)({},e.saleQuotationParams),{},{page:1,search:""}))):e.setSaleQuotationParams(Object(n.a)(Object(n.a)({},e.saleQuotationParams),{},{search:a.target.value}))},onSearch:function(e){M(e)}})}),Object(V.jsx)(m.a,{md:4,xs:6,className:"hp-mr-10",children:Object(V.jsxs)(p.a,{onClick:function(){e.isSaleQuotationDrawerVisible(!0)},className:"bg-color hp-w-100 hp-p-12 ",icon:Object(V.jsx)(w.a,{className:"hp-mr-10"}),size:"small",children:[" ","Filter"]})}),-1!==(null===(P=e.userAccessList)||void 0===P?void 0:P.indexOf("Sale.export_salequotation"))&&Object(V.jsx)(m.a,{md:4,xs:3,children:Object(V.jsx)(u.a,{placement:"topRight",title:"Are you sure to export this Record?",onConfirm:function(){return U()},okText:"Yes",cancelText:"No",className:"hp-ml-8",icon:Object(V.jsx)(C.n,{className:"remix-icon hp-text-color-primary-1"}),children:Object(V.jsxs)(p.a,{className:"hp-w-100 hp-p-12 ",icon:Object(V.jsx)(x.a,{className:"hp-mr-10"}),size:"small",children:[" ","Export"]})})}),Object(V.jsx)(m.a,{span:24,children:Object(V.jsx)(h.a,{tip:"Loading...",spinning:e.loading,delay:500,children:Object(V.jsx)(j.a,{columns:T,dataSource:B,scroll:{x:500},pagination:!1,size:"middle"})})}),Object(V.jsx)(m.a,{span:24,children:Object(V.jsx)(b.a,{size:"small",total:e.listCount,showTotal:D,current:null===(_=e.saleQuotationParams)||void 0===_?void 0:_.page,pageSize:null===(S=e.saleQuotationParams)||void 0===S?void 0:S.page_size,showSizeChanger:!0,onChange:I,className:"hp-mb-12 hp-mt-24 hp-float-right"})})]})})},"3")]})})}),Object(V.jsx)(L,{}),e.model&&Object(V.jsx)(k,{}),e.viewModel&&Object(V.jsx)(Y.a,{})]})}))}}]);
//# sourceMappingURL=32.dc130d49.chunk.js.map