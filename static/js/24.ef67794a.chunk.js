(this["webpackJsonpwheelsmart-admin-react"]=this["webpackJsonpwheelsmart-admin-react"]||[]).push([[24],{533:function(e,t,a){},535:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(1),r=a(550),s=a(3);function c(e){var t=e.value,a=e.onChange,c=e.onBlur;return Object(s.jsx)(r.a,Object(n.a)(Object(n.a)({},e),{},{onChange:function(t){var n=t.target.value;(/^-?\d*(\.\d*)?$/.test(n)||""===n||"-"===n)&&a({key:e.name,value:n})},onBlur:e.onBlur&&function(){var a=t;"."!==t.charAt(t.length-1)&&"-"!==t||(a=t.slice(0,-1)),c({key:e.name,value:a.replace(/0*(\d+)/,"$1")})}}))}},536:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));a(0);var n=a(521),r=a(519),s=a(154),c=a(51),i=a(43),l=a(8),o=a(216),d=a(3);function u(e){var t=Object(c.f)(),a=e.pageTitle,u=e.pageText,m=e.goBack,p=e.addModelTile,j=e.addModelTile2,b=e.setIsModalVisible,h=e.setIsModalVisible2;return Object(d.jsx)(n.a,{span:24,className:"hp-mt-12",children:Object(d.jsxs)(r.a,{children:[Object(d.jsxs)(n.a,{span:16,xs:16,md:12,xl:16,children:[m&&Object(d.jsx)(i.b,{to:"#",onClick:function(){t.goBack()},className:"action-icon text-primary  hp-mr-12 hp-d-inline-block",children:Object(d.jsx)(l.d,{className:"remix-icon",size:24})}),Object(d.jsxs)(r.a,{className:"hp-d-inline-block",children:[Object(d.jsx)(n.a,{span:24,children:a&&Object(d.jsx)("h3",{className:"hp-mb-2 hp-mt-4",children:a})}),Object(d.jsx)(n.a,{span:24,children:u&&Object(d.jsx)("p",{className:"hp-mb-0 hp-p1-body",children:u})})]})]}),Object(d.jsx)(n.a,{span:8,xs:8,md:12,xl:8,children:Object(d.jsxs)("div",{className:"hp-float-right hp-d-inline-block",children:[p&&Object(d.jsx)("div",{className:"hp-pl-4 hp-d-inline-block",children:Object(d.jsx)(s.a,{className:"",type:"primary",onClick:function(){return b(!0)},icon:Object(d.jsx)(l.b,{className:"remix-icon",size:22}),children:!o.isMobile&&p})}),j&&Object(d.jsx)("div",{className:"hp-pl-4 hp-d-inline-block",children:Object(d.jsx)(s.a,{className:"hp-pr-12",type:"primary",onClick:function(){return h(!0)},icon:Object(d.jsx)(l.b,{className:"remix-icon",size:22}),children:!o.isMobile&&j})})]})})]})})}},537:function(e,t,a){"use strict";t.a=a.p+"static/media/empty-list.6fd5c5d1.svg"},539:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var n=a(9),r=a(7),s=a(10),c=a(11),i=a.n(c),l=a(54),o=a(0),d=a(83),u=a(282);function m(e){var t=e.className,a=e.direction,s=e.index,c=e.marginDirection,i=e.children,l=e.split,d=e.wrap,u=o.useContext(j),m=u.horizontalSize,p=u.verticalSize,b=u.latestIndex,h={};return u.supportFlexGap||("vertical"===a?s<b&&(h={marginBottom:m/(l?2:1)}):h=Object(n.a)(Object(n.a)({},s<b&&Object(r.a)({},c,m/(l?2:1))),d&&{paddingBottom:p})),null===i||void 0===i?null:o.createElement(o.Fragment,null,o.createElement("div",{className:t,style:h},i),s<b&&l&&o.createElement("span",{className:"".concat(t,"-split"),style:h},l))}var p=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},j=o.createContext({latestIndex:0,horizontalSize:0,verticalSize:0,supportFlexGap:!1}),b={small:8,middle:16,large:24};t.b=function(e){var t,a=o.useContext(d.b),c=a.getPrefixCls,h=a.space,O=a.direction,x=e.size,f=void 0===x?(null===h||void 0===h?void 0:h.size)||"small":x,g=e.align,v=e.className,y=e.children,w=e.direction,D=void 0===w?"horizontal":w,N=e.prefixCls,C=e.split,k=e.style,Y=e.wrap,M=void 0!==Y&&Y,_=p(e,["size","align","className","children","direction","prefixCls","split","style","wrap"]),z=Object(u.a)(),R=o.useMemo((function(){return(Array.isArray(f)?f:[f,f]).map((function(e){return function(e){return"string"===typeof e?b[e]:e||0}(e)}))}),[f]),F=Object(s.a)(R,2),V=F[0],I=F[1],P=Object(l.a)(y,{keepEmpty:!0}),S=void 0===g&&"horizontal"===D?"center":g,L=c("space",N),T=i()(L,"".concat(L,"-").concat(D),(t={},Object(r.a)(t,"".concat(L,"-rtl"),"rtl"===O),Object(r.a)(t,"".concat(L,"-align-").concat(S),S),t),v),A="".concat(L,"-item"),B="rtl"===O?"marginLeft":"marginRight",E=0,U=P.map((function(e,t){null!==e&&void 0!==e&&(E=t);var a=e&&e.key||"".concat(A,"-").concat(t);return o.createElement(m,{className:A,key:a,direction:D,index:t,marginDirection:B,split:C,wrap:M},e)})),G=o.useMemo((function(){return{horizontalSize:V,verticalSize:I,latestIndex:E,supportFlexGap:z}}),[V,I,E,z]);if(0===P.length)return null;var H={};return M&&(H.flexWrap="wrap",z||(H.marginBottom=-I)),z&&(H.columnGap=V,H.rowGap=I),o.createElement("div",Object(n.a)({className:T,style:Object(n.a)(Object(n.a)({},H),k)},_),o.createElement(j.Provider,{value:G},U))}},699:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(0),s=a(32),c=a(550),i=a(525),l=a(539),o=a(519),d=a(521),u=a(154),m=a(531),p=a(337),j=a(676),b=a(340),h=a(240),O=a(350),x=a(536),f=(a(537),a(19)),g=a.n(f),v=a(147),y=a(216),w=a(10),D=a(524),N=a(527),C=a(677),k=a(3),Y=new Date;Y.getFullYear(),Y.getMonth();var M=Object(s.b)((function(e){var t=e.rto;return{drawer:t.drawer,rtoparams:t.rtoparams}}),{getRtoList:v.f,isDrawerVisible:v.g,setRtoParams:v.l,FilterInputChangeValue:v.a})((function(e){var t,a=D.a.useForm(),s=Object(w.a)(a,1)[0];Object(r.useEffect)((function(){}),[]);function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{startDate:!1,endDate:!1},t=e.startDate,a=e.endDate;return function(e){var n=!0,r=!0;return t&&(n=e&&e<g()(t+" 00:00:01","YYYY-MM-DD HH:mm:ss")),a&&(r=e&&e>g()(g()(a).format("YYYY-MM-DD")+" 23:59:59","YYYY-MM-DD HH:mm:ss")),t&&n||a&&r}}return Object(r.useEffect)((function(){var t,a;s.setFieldsValue({start_date:null===(t=e.rtoparams)||void 0===t?void 0:t.start_date,end_date:null===(a=e.rtoparams)||void 0===a?void 0:a.end_date})}),[e.rtoparams]),Object(k.jsx)(o.a,{gutter:[24,24],children:Object(k.jsx)(d.a,{span:24,children:Object(k.jsx)(N.a,{title:"Filters",width:420,className:"hp-drawer-mobile",onClose:function(){e.isDrawerVisible(!1)},placement:"right",visible:e.drawer,bodyStyle:{paddingBottom:10},children:Object(k.jsxs)(D.a,{form:s,layout:"vertical",name:"basic",initialValues:{remember:!0},onFinish:function(){e.setRtoParams(Object(n.a)(Object(n.a)({},e.rtoparams),{},{start_date:e.rtoparams.start_date,end_date:e.rtoparams.end_date,page:1,search:"",page_size:10})),e.getRtoList(Object(n.a)(Object(n.a)({},e.rtoparams),{},{start_date:e.rtoparams.start_date,end_date:e.rtoparams.end_date,page:1,search:"",page_size:10})),e.isDrawerVisible(!1)},children:[Object(k.jsxs)(o.a,{gutter:[12,12],children:[Object(k.jsx)(d.a,{span:12,children:Object(k.jsx)(D.a.Item,{label:"From Date",name:"start_date",children:Object(k.jsx)(C.a,{style:{width:"100%"},placeholder:"Choose Date",format:"DD-MM-YYYY",disabledDate:c({endDate:new Date}),onChange:function(t){e.FilterInputChangeValue({key:"start_date",value:null==t?"":t}),null==t&&e.FilterInputChangeValue({key:"end_date",value:""})}})})}),Object(k.jsx)(d.a,{span:12,children:Object(k.jsx)(D.a.Item,{label:"To Date",name:"end_date",children:Object(k.jsx)(C.a,{style:{width:"100%"},picker:"date",placeholder:"Choose Date",format:"DD-MM-YYYY",disabledDate:c({endDate:g()().format("YYYY-MM-DD"),startDate:g()(null===(t=e.rtoparams)||void 0===t?void 0:t.start_date).format("YYYY-MM-DD")}),disabled:null==e.rtoparams.start_date||""==e.rtoparams.start_date,onChange:function(t){e.FilterInputChangeValue({key:"end_date",value:null==t?"":t})}})})})]}),Object(k.jsxs)(o.a,{gutter:[12,12],children:[Object(k.jsx)(d.a,{md:12,children:Object(k.jsx)(u.a,{block:!0,type:"secondary",className:"hp-submit-btn hp-mt-10",onClick:function(){e.setRtoParams({start_date:"",end_date:"",page:1,search:"",page_size:10}),e.getRtoList({start_date:"",end_date:"",page:1,search:"",page_size:10})},htmlType:"button",children:"Clear"})}),Object(k.jsx)(d.a,{md:12,children:Object(k.jsx)(u.a,{block:!0,type:"primary",className:"hp-submit-btn hp-mt-10",onClick:function(){s.submit()},children:"Apply"})})]})]})})})})})),_=a(51),z=(a(533),a(8)),R=a(526),F=a(535);var V=Object(s.b)((function(e){var t=e.rto;return{rtoData:t.rtoData,rtoUpdateData:t.rtoUpdateData,model:t.model}}),{isModelVisible:v.h,InputChangeValue:v.b,rtoAdd:v.i})((function(e){var t,a=D.a.useForm(),s=Object(w.a)(a,1)[0];Object(_.f)();Object(r.useEffect)((function(){}),[]);var c=function(){e.isModelVisible(!1)},i=function(){return Object(k.jsx)(r.Fragment,{children:Object(k.jsx)(u.a,{type:"primary",onClick:function(){s.submit()},block:!0,children:"Update"})})},l=function(){return Object(k.jsx)(r.Fragment,{children:Object(k.jsx)(u.a,{onClick:function(){c()},type:"primary",block:!0,ghost:!0,children:"Cancel"})})},m=Object(k.jsx)("h5",{className:"modal-title",children:"Update RTO Amount"});return Object(r.useEffect)((function(){var t;s.setFieldsValue({amount:null===(t=e.rtoUpdateData)||void 0===t?void 0:t.amount})}),[e.rtoUpdateData]),Object(k.jsx)(R.a,{visible:e.model,title:m,onCancel:function(){c(),s.resetFields(),e.isModelVisible(!1)},className:"hp-modal-p-24",footer:Object(k.jsxs)(o.a,{justify:"center",children:[Object(k.jsx)(d.a,{span:12,className:"hp-pr-4",children:Object(k.jsx)(l,{})}),Object(k.jsx)(d.a,{span:12,className:"hp-pl-4",children:Object(k.jsx)(i,{})})]}),centered:!0,closeIcon:Object(k.jsx)(z.k,{className:"remix-icon text-color-black-100",size:24}),width:416,children:Object(k.jsx)(D.a,{layout:"vertical",form:s,onFinish:function(){!function(){var t=Object(n.a)({},e.rtoUpdateData);e.rtoAdd({rtoObj:t,id:e.rtoData.id})}()},children:Object(k.jsx)(D.a.Item,{label:"Amount :",name:"amount",rules:[{required:!0,message:"Please input your Amount!"}],getValueProps:function(){},hasFeedback:!0,children:Object(k.jsx)(F.a,{id:"amount",name:"amount",style:{width:"100%"},maxLength:50,placeholder:"amount",value:null==e.rtoUpdateData.amount?"":null===(t=e.rtoUpdateData)||void 0===t?void 0:t.amount,onChange:e.InputChangeValue})})})})}));t.default=Object(s.b)((function(e){var t=e.rto,a=e.system;return{newRtoList:t.newRtoList,rtoparams:t.rtoparams,noofpages:t.noofpages,listCount:t.listCount,loading:t.loading,userAccessList:a.userAccessList}}),{getRtoList:v.f,setRtoParams:v.l,isModelVisible:v.h,isDrawerVisible:v.g,getRtoById:v.e})((function(e){var t,a,s,f=c.a.Search,v=i.a.Text;Object(r.useEffect)((function(){e.getRtoList(Object(n.a)(Object(n.a)({},e.rtoparams),{},{page:1})),e.setRtoParams(Object(n.a)(Object(n.a)({},e.rtoparams),{},{page:1}))}),[]);var w=null===(t=e.newRtoList)||void 0===t?void 0:t.map((function(t,a){return Object(n.a)(Object(n.a)({},t),{},{index:(e.rtoparams.page-1)*e.rtoparams.page_size+(a+1)})})),D="hp-p1-body hp-text-color-black-100 hp-text-color-dark-0 hp-font-weight-600 ",N=[{title:"S.No",dataIndex:"index",width:50,fixed:y.isMobile?null:"left"},{title:"Date",render:function(e){return Object(k.jsx)("span",{className:D,children:g()(e.createdon).format("DD-MM-YYYY")})},width:100},{title:"Code",width:80,render:function(e){return Object(k.jsx)("span",{className:D,children:e.code})}},{title:"Customer Name",width:100,render:function(e){var t,a,n;return Object(k.jsxs)("span",{className:D,children:[null===(t=e.customer)||void 0===t?void 0:t.firstname," ",null===(a=e.customer)||void 0===a?void 0:a.middlename," ",null===(n=e.customer)||void 0===n?void 0:n.lastname]})}},{title:"Customer Mobile",width:100,render:function(e){var t;return Object(k.jsx)("span",{className:D,children:null===(t=e.customer)||void 0===t?void 0:t.mobile})}},{title:"Vehicle Number",width:100,render:function(e){var t;return Object(k.jsx)("span",{className:D,children:null===(t=e.vehicle)||void 0===t?void 0:t.vehicleno})}},{title:"Purchase / Sale Code",width:130,render:function(e){var t,a;return Object(k.jsx)("span",{className:D,children:Object(k.jsx)(k.Fragment,{children:1==e.rtatype?null===(t=e.purchase)||void 0===t?void 0:t.code:null===(a=e.sale)||void 0===a?void 0:a.code})})}},{title:"Amount",width:60,render:function(e){return Object(k.jsx)("span",{className:D,children:e.amount})}},{title:"RTO Status",width:100,render:function(e){return Object(k.jsx)("span",{className:D,children:Object(k.jsx)(v,{type:3==e.rtastatus?"success":1==e.rtastatus?"danger":"warning",children:null==e.rtastatus_name?"Pending":e.rtastatus_name})})}},{title:"RTO Type",width:100,render:function(e){return Object(k.jsx)("span",{className:D,children:e.rtatype_name})}},{title:"Processed By",width:80,render:function(e){var t;return Object(k.jsx)("span",{className:D,children:null===(t=e.processedby)||void 0===t?void 0:t.fullname})}},{title:"Processed On",width:80,render:function(e){return Object(k.jsx)("span",{className:D,children:null!=e.processedon?g()(e.processedon).format("DD-MM-YYYY"):""})}},{title:"Actions",key:"action",width:50,fixed:y.isMobile?null:"right",render:function(t,a){var n;return Object(k.jsx)(k.Fragment,{children:-1!==(null===(n=e.userAccessList)||void 0===n?void 0:n.indexOf("InsuranceRto.change_rta"))&&Object(k.jsx)(l.b,{size:"middle",children:Object(k.jsx)(k.Fragment,{children:1==t.rtastatus&&Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(h.a,{className:"ri-add-line hp-mr-2 ",style:{cursor:"pointer",color:"#fc6f03"},onClick:function(){e.getRtoById(t.id),e.isModelVisible(!0)}})})})})})}}];return Object(k.jsxs)(o.a,{gutter:[12,12],children:[Object(k.jsx)(x.a,{pageTitle:"RTO",goBack:!1}),Object(k.jsx)(d.a,{span:24,children:Object(k.jsxs)(o.a,{gutter:[12,12],className:"hp-ecommerce-app-header ",children:[Object(k.jsx)(d.a,{span:24,xs:18,sm:18,md:14,className:"hp-ecommerce-app-header-search ",children:Object(k.jsx)(f,{placeholder:"Search for date, doc, number, customer, counter, vehicle",allowClear:!0,onChange:function(t){""==t.target.value&&(e.getRtoList(Object(n.a)(Object(n.a)({},e.rtoparams),{},{page:1,search:""})),e.setRtoParams(Object(n.a)(Object(n.a)({},e.rtoparams),{},{page:1,search:""})))},onSearch:function(t){var a;a=t,e.setRtoParams(Object(n.a)(Object(n.a)({},e.rtoparams),{},{page:1,search:a})),e.getRtoList(Object(n.a)(Object(n.a)({},e.rtoparams),{},{page:1,search:a}))}})}),Object(k.jsx)(d.a,{span:24,xs:6,sm:6,md:3,children:Object(k.jsx)(u.a,{onClick:function(){e.isDrawerVisible(!0)},className:"hp-w-100 hp-p-12",icon:Object(k.jsx)(O.a,{className:"hp-mr-10"}),children:!y.isMobile&&"Filter"})})]})}),Object(k.jsx)(d.a,{span:24,children:Object(k.jsx)(m.a,{children:Object(k.jsxs)(o.a,{className:"hp-mb-12",children:[Object(k.jsx)(d.a,{span:24,children:Object(k.jsx)(p.a,{tip:"Loading...",spinning:e.loading,delay:500,children:Object(k.jsx)(j.a,{columns:N,rowClassName:"hp-btn-bg-color-none",dataSource:w,scroll:{x:1300},pagination:!1,size:"middle"})})}),Object(k.jsx)(d.a,{span:24,children:Object(k.jsx)(b.a,{size:"small",current:null===(a=e.rtoparams)||void 0===a?void 0:a.page,pageSize:null===(s=e.rtoparams)||void 0===s?void 0:s.page_size,total:e.listCount,showTotal:function(e){return"Total "+e+" items"},showSizeChanger:!0,onChange:function(t,a){e.setRtoParams(Object(n.a)(Object(n.a)({},e.rtoparams),{},{page_size:a,page:0==t?1:t})),e.getRtoList(Object(n.a)(Object(n.a)({},e.rtoparams),{},{page_size:a,page:0==t?1:t}))},className:"hp-mb-12 hp-mt-24 hp-float-right"})})]})})}),Object(k.jsx)(V,{}),Object(k.jsx)(M,{})]})}))}}]);
//# sourceMappingURL=24.ef67794a.chunk.js.map