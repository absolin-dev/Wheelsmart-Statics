(this["webpackJsonpwheelsmart-admin-react"]=this["webpackJsonpwheelsmart-admin-react"]||[]).push([[43],{534:function(e,t,i){"use strict";i.d(t,"a",(function(){return m}));i(0);var a=i(521),n=i(531),r=i(519),s=i(154),l=i(51),o=i(43),c=i(8),d=i(216),u=i(3);function m(e){var t=Object(l.f)(),i=e.pageTitle,m=e.pageText,h=e.addModelTile,j=e.goBack,p=e.setIsModalVisible;return Object(u.jsx)(a.a,{span:24,children:Object(u.jsx)(n.a,{className:"hp-m-0",children:Object(u.jsxs)(r.a,{children:[Object(u.jsxs)(a.a,{span:18,children:[j&&Object(u.jsx)(o.b,{to:"#",onClick:function(){return t.goBack()},className:"action-icon text-primary  hp-mr-12 hp-d-inline-block",children:Object(u.jsx)(c.d,{className:"remix-icon",size:24})}),Object(u.jsxs)(r.a,{className:"hp-d-inline-block",children:[Object(u.jsx)(a.a,{span:24,children:i&&Object(u.jsx)("h2",{className:"hp-m-0",children:i})}),Object(u.jsx)(a.a,{span:24,children:m&&Object(u.jsx)("p",{className:"hp-mb-0 hp-p1-body",children:m})})]})]}),Object(u.jsx)(a.a,{span:6,children:h&&Object(u.jsx)(s.a,{className:"hp-float-right",type:"primary",onClick:function(){return p(!0)},block:!0,icon:Object(u.jsx)(c.b,{className:"remix-icon",size:22}),children:!d.isMobile&&h})})]})})})}},535:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var a=i(1),n=i(550),r=i(3);function s(e){var t=e.value,i=e.onChange,s=e.onBlur;return Object(r.jsx)(n.a,Object(a.a)(Object(a.a)({},e),{},{onChange:function(t){var a=t.target.value;(/^-?\d*(\.\d*)?$/.test(a)||""===a||"-"===a)&&i({key:e.name,value:a})},onBlur:e.onBlur&&function(){var i=t;"."!==t.charAt(t.length-1)&&"-"!==t||(i=t.slice(0,-1)),s({key:e.name,value:i.replace(/0*(\d+)/,"$1")})}}))}},588:function(e,t,i){"use strict";var a=i(10),n=i(0),r=i(32),s=(i(533),i(8)),l=i(524),o=i(154),c=i(526),d=i(519),u=i(521),m=i(550),h=i(215),j=i(551),p=i(535),b=i(125),v=i(15),g=i(3);t.a=Object(r.b)((function(e){var t=e.counters,i=e.mini;return{rowdata:t.rowdata,model:t.model,miniZonesList:i.miniZonesList,miniStatesList:i.miniStatesList,miniDistrictList:i.miniDistrictList,miniDivisionsList:i.miniDivisionsList,miniClustersList:i.miniClustersList,miniAreaList:i.miniAreaList,miniCityList:i.miniCityList}}),{counterAdd:b.e,isModelVisible:b.l,InputChangeValue:b.b,getMiniDistrict:v.y,getMiniZones:v.eb,getMiniDivisions:v.A,getMiniClusters:v.s,getMiniStates:v.U,getMiniCity:v.q,getMiniArea:v.j})((function(e){var t,i,r,b,v,O,x,C,f,w,y,_=l.a.useForm(),M=Object(a.a)(_,1)[0];function D(t){e.InputChangeValue({key:t.target.name,value:t.target.value})}Object(n.useEffect)((function(){e.getMiniStates(),e.getMiniZones()}),[]);var P=function(){e.isModelVisible(!1)},L=function(){return null==e.rowdata.id||0==e.rowdata.id?Object(g.jsx)(n.Fragment,{children:Object(g.jsx)(o.a,{onClick:function(){M.submit()},type:"primary",block:!0,children:"Add"})}):Object(g.jsx)(n.Fragment,{children:Object(g.jsx)(o.a,{type:"primary",onClick:function(){M.submit()},block:!0,children:"Update"})})},S=function(){return Object(g.jsx)(n.Fragment,{children:Object(g.jsx)(o.a,{onClick:function(){P()},type:"primary",block:!0,ghost:!0,children:"Cancel"})})},k=Object(g.jsxs)("h5",{className:"modal-title",children:[null==e.rowdata.id||0==e.rowdata.id?"Add":"Update"," ","Counter"]});return Object(n.useEffect)((function(){M.setFieldsValue({name:e.rowdata.name,type:e.rowdata.type,zone_id:e.rowdata.zone_id,division_id:e.rowdata.division_id,cluster_id:e.rowdata.cluster_id,latitude:e.rowdata.latitude,longitude:e.rowdata.longitude,state_id:e.rowdata.state_id,district_id:e.rowdata.district_id,city_id:e.rowdata.city_id,area_id:e.rowdata.area_id,pincode:e.rowdata.pincode,address:e.rowdata.address,mobile:e.rowdata.mobile})}),[e.rowdata]),Object(g.jsx)(c.a,{visible:e.model,title:k,onCancel:function(){P(),M.resetFields(),e.isModelVisible(!1)},className:"hp-modal-p-24",footer:Object(g.jsxs)(d.a,{justify:"center",children:[Object(g.jsx)(u.a,{span:12,className:"hp-pr-4",children:Object(g.jsx)(S,{})}),Object(g.jsx)(u.a,{span:12,className:"hp-pl-4",children:Object(g.jsx)(L,{})})]}),centered:!0,closeIcon:Object(g.jsx)(s.k,{className:"remix-icon text-color-black-100",size:24}),width:916,children:Object(g.jsx)(l.a,{layout:"vertical",form:M,name:"userForm",autoComplete:"off",onFinish:function(){null==e.rowdata.id?function(){var t,i,a,n,r={id:0,name:null===(t=e.rowdata)||void 0===t?void 0:t.name,type:null===(i=e.rowdata)||void 0===i?void 0:i.type,latitude:null===(a=e.rowdata)||void 0===a?void 0:a.latitude,longitude:null===(n=e.rowdata)||void 0===n?void 0:n.longitude,state_id:e.rowdata.state_id,district_id:e.rowdata.district_id,zone_id:e.rowdata.zone_id,division_id:e.rowdata.division_id,cluster_id:e.rowdata.cluster_id,city_id:e.rowdata.city_id,area_id:e.rowdata.area_id,address:e.rowdata.address,pincode:e.rowdata.pincode,is_active:e.rowdata.is_active,mobile:e.rowdata.mobile};e.counterAdd(r)}():function(){var t,i,a,n,r,s={id:null===(t=e.rowdata)||void 0===t?void 0:t.id,name:null===(i=e.rowdata)||void 0===i?void 0:i.name,type:null===(a=e.rowdata)||void 0===a?void 0:a.type,latitude:null===(n=e.rowdata)||void 0===n?void 0:n.latitude,longitude:null===(r=e.rowdata)||void 0===r?void 0:r.longitude,state_id:e.rowdata.state_id,district_id:e.rowdata.district_id,zone_id:e.rowdata.zone_id,division_id:e.rowdata.division_id,cluster_id:e.rowdata.cluster_id,city_id:e.rowdata.city_id,area_id:e.rowdata.area_id,address:e.rowdata.address,pincode:e.rowdata.pincode,is_active:e.rowdata.is_active,mobile:e.rowdata.mobile};e.counterAdd(s)}()},children:Object(g.jsxs)(d.a,{children:[Object(g.jsx)(u.a,{md:6,xs:24,className:"hp-pr-sm-0 hp-pr-12",children:Object(g.jsx)(l.a.Item,{label:"Counter Name :",name:"name",rules:[{required:!0,message:"Please input your Counter Name!"}],hasFeedback:!0,children:Object(g.jsx)(m.a,{id:"Countername",name:"name",style:{width:"100%"},placeholder:"Countername",value:null===(t=e.rowdata)||void 0===t?void 0:t.name,onChange:D})})}),Object(g.jsx)(u.a,{md:6,xs:24,className:"hp-pr-sm-0 hp-pr-12",children:Object(g.jsx)(l.a.Item,{label:"Counter Type",name:"type",rules:[{required:!0,message:"Please select your Counter Type!"}],hasFeedback:!0,children:Object(g.jsx)(h.a,{showSearch:!0,filterOption:function(e,t){return t.children.toLowerCase().includes(e.toLowerCase())},placeholder:"Select Counter Type",optionFilterProp:"type",onChange:function(t){e.InputChangeValue({key:"type",value:t})},value:null==e.rowdata.type?"":null===(i=e.rowdata)||void 0===i?void 0:i.type,children:[{id:1,name:"Physical"},{id:2,name:"Virtual"}].map((function(e,t){return Object(g.jsx)(Option,{value:e.id,children:e.name},t)}))})})}),Object(g.jsx)(u.a,{md:6,xs:24,className:"hp-pr-sm-0 hp-pr-12",children:Object(g.jsx)(l.a.Item,{label:"Zone Name:",name:"zone_id",rules:[{required:!0,message:"Please input your Zone Name!"}],hasFeedback:!0,children:Object(g.jsx)(h.a,{showSearch:!0,placeholder:"Select  Zone",optionFilterProp:"zone",filterOption:function(e,t){return t.children.toLowerCase().includes(e.toLowerCase())},onChange:function(t){e.getMiniDivisions({zone:t}),e.InputChangeValue({key:"zone_id",value:t})},value:null==e.rowdata.zone_id?"":null===(r=e.rowdata)||void 0===r?void 0:r.zone_id,children:e.miniZonesList.map((function(e,t){return Object(g.jsx)(Option,{value:e.id,children:e.name},t)}))})})}),Object(g.jsx)(u.a,{md:6,xs:24,className:"hp-pr-sm-0 hp-pr-12",children:Object(g.jsx)(l.a.Item,{label:"Mobile Number :",name:"mobile",rules:[{required:!0,message:"Please input your Mobile Number!"},{min:10,message:"Not a valid Mobile Number!"}],hasFeedback:!0,children:Object(g.jsx)(p.a,{id:"mobile",name:"mobile",style:{width:"100%"},placeholder:"Mobile Number",value:e.rowdata.mobile,maxLength:10,onChange:e.InputChangeValue})})}),Object(g.jsx)(u.a,{md:6,xs:24,className:"hp-pr-sm-0 hp-pr-12",children:Object(g.jsx)(l.a.Item,{label:"Division Name:",name:"division_id",rules:[{required:!0,message:"Please input your Division Name!"}],hasFeedback:!0,children:Object(g.jsx)(h.a,{showSearch:!0,placeholder:"Select  Division",optionFilterProp:"division",filterOption:function(e,t){return t.children.toLowerCase().includes(e.toLowerCase())},onChange:function(t){e.getMiniClusters({division:t}),e.InputChangeValue({key:"division_id",value:t})},value:null==e.rowdata.division_id?"":null===(b=e.rowdata)||void 0===b?void 0:b.division_id,children:e.miniDivisionsList.map((function(e,t){return Object(g.jsx)(Option,{value:e.id,children:e.name},t)}))})})}),Object(g.jsx)(u.a,{md:6,xs:24,className:"hp-pr-sm-0 hp-pr-12",children:Object(g.jsx)(l.a.Item,{label:"Cluster Name:",name:"cluster_id",rules:[{required:!0,message:"Please input your Cluster Name!"}],hasFeedback:!0,children:Object(g.jsx)(h.a,{showSearch:!0,placeholder:"Select Cluster",optionFilterProp:"cluster",filterOption:function(e,t){return t.children.toLowerCase().includes(e.toLowerCase())},onChange:function(t){e.InputChangeValue({key:"cluster_id",value:t})},value:null==e.rowdata.cluster_id?"":null===(v=e.rowdata)||void 0===v?void 0:v.cluster_id,children:e.miniClustersList.map((function(e,t){return Object(g.jsx)(Option,{value:e.id,children:e.name},t)}))})})}),Object(g.jsx)(u.a,{md:6,xs:24,className:"hp-pr-sm-0 hp-pr-12",children:Object(g.jsx)(l.a.Item,{label:"Longitude :",name:"longitude",rules:[{required:!0,message:"Please input your Longitude Number!"},{pattern:new RegExp(/^-?([1]?[1-7][1-9]|[1]?[1-8][0]|[1-9]?[0-9])\.{1}\d{1,6}$/),message:"Please enter your Longitude Number!"}],hasFeedback:!0,children:Object(g.jsx)(p.a,{id:"Longitude",name:"longitude",style:{width:"100%"},placeholder:"Longitude",value:e.rowdata.longitude,onChange:e.InputChangeValue})})}),Object(g.jsx)(u.a,{md:6,xs:24,className:"hp-pr-sm-0 hp-pr-12",children:Object(g.jsx)(l.a.Item,{label:"Latitude :",name:"latitude",rules:[{required:!0,message:"Please input your Latitude Number!"},{pattern:new RegExp(/^-?([1-8]?[1-9]|[1-9]0)\.{1}\d{1,6}$/),message:"Please input your Latitude Number!"}],hasFeedback:!0,children:Object(g.jsx)(p.a,{id:"Latitude",name:"latitude",style:{width:"100%"},placeholder:"Latitude",value:e.rowdata.latitude,onChange:e.InputChangeValue})})}),Object(g.jsx)(u.a,{md:10,xs:24,children:Object(g.jsxs)(d.a,{children:[Object(g.jsx)(u.a,{md:12,xs:24,className:"hp-pr-sm-0 hp-pr-12",children:Object(g.jsx)(l.a.Item,{label:"State :",name:"state_id",rules:[{required:!0,message:"Please select your State!"}],hasFeedback:!0,children:Object(g.jsx)(h.a,{showSearch:!0,placeholder:"Select State",optionFilterProp:"state",filterOption:function(e,t){return t.children.toLowerCase().includes(e.toLowerCase())},onChange:function(t){e.getMiniDistrict({state:t}),e.InputChangeValue({key:"state_id",value:t})},value:null==e.rowdata.state_id?"":null===(O=e.rowdata)||void 0===O?void 0:O.state_id,children:e.miniStatesList.map((function(e,t){return Object(g.jsx)(Option,{value:e.id,children:e.name},t)}))})})}),Object(g.jsx)(u.a,{md:12,xs:24,className:"hp-pr-sm-0 hp-pr-12",children:Object(g.jsx)(l.a.Item,{label:"District :",name:"district_id",rules:[{required:!0,message:"Please select your District!"}],hasFeedback:!0,children:Object(g.jsx)(h.a,{showSearch:!0,placeholder:"Select  District",optionFilterProp:"district",filterOption:function(e,t){return t.children.toLowerCase().includes(e.toLowerCase())},onChange:function(t){e.getMiniCity({district:t}),e.InputChangeValue({key:"district_id",value:t})},value:null==e.rowdata.district_id?"":null===(x=e.rowdata)||void 0===x?void 0:x.district_id,children:e.miniDistrictList.map((function(e,t){return Object(g.jsx)(Option,{value:e.id,children:e.name},t)}))})})})]})}),Object(g.jsx)(u.a,{md:14,xs:24,children:Object(g.jsxs)(d.a,{children:[Object(g.jsx)(u.a,{md:8,xs:24,className:"hp-pr-sm-0 hp-pr-12",children:Object(g.jsx)(l.a.Item,{label:"City :",name:"city_id",rules:[{required:!0,message:"Please select your City!"}],hasFeedback:!0,children:Object(g.jsx)(h.a,{showSearch:!0,placeholder:"Select  City",optionFilterProp:"city",filterOption:function(e,t){return t.children.toLowerCase().includes(e.toLowerCase())},onChange:function(t){e.getMiniArea({city:t}),e.InputChangeValue({key:"city_id",value:t})},value:null==e.rowdata.city_id?"":null===(C=e.rowdata)||void 0===C?void 0:C.city_id,children:e.miniCityList.map((function(e,t){return Object(g.jsx)(Option,{value:e.id,children:e.name},t)}))})})}),Object(g.jsx)(u.a,{md:8,xs:24,className:"hp-pr-sm-0 hp-pr-12",children:Object(g.jsx)(l.a.Item,{label:"Area :",name:"area_id",rules:[{required:!0,message:"Please select your Area!"}],hasFeedback:!0,children:Object(g.jsx)(h.a,{showSearch:!0,placeholder:"Select  Area",optionFilterProp:"area",filterOption:function(e,t){return t.children.toLowerCase().includes(e.toLowerCase())},onChange:function(t){e.InputChangeValue({key:"area_id",value:t})},value:null==e.rowdata.area_id?"":null===(f=e.rowdata)||void 0===f?void 0:f.area_id,children:e.miniAreaList.map((function(e,t){return Object(g.jsx)(Option,{value:e.id,children:e.name},t)}))})})}),Object(g.jsx)(u.a,{md:8,xs:24,className:"hp-pr-sm-0 hp-pr-12",children:Object(g.jsx)(l.a.Item,{label:"Pincode :",name:"pincode",rules:[{required:!0,message:"Please input your pincode!"},{pattern:new RegExp(/^\d{6}$/g),message:"Please type correct pincode"}],getValueProps:function(){},hasFeedback:!0,children:Object(g.jsx)(p.a,{id:"Pincode",name:"pincode",style:{width:"100%"},placeholder:"Pincode",maxLength:6,value:null==e.rowdata.pincode?"":null===(w=e.rowdata)||void 0===w?void 0:w.pincode,onChange:e.InputChangeValue})})})]})}),Object(g.jsx)(u.a,{md:24,xs:24,className:"hp-pr-sm-0 hp-pr-12",children:Object(g.jsx)(l.a.Item,{label:"Address ",name:"address",rules:[{required:!0,message:"Please input your Address "}],hasFeedback:!0,children:Object(g.jsx)(m.a.TextArea,{id:"Address",name:"address",style:{width:"100%"},placeholder:"Address",value:null===(y=e.rowdata)||void 0===y?void 0:y.address,onChange:D})})}),Object(g.jsx)(u.a,{md:24,xs:24,children:Object(g.jsx)(l.a.Item,{label:"Counter Status",name:"is_active",className:"hp-m-0",children:Object(g.jsx)(j.a,{id:"is_active",size:"default",checkedChildren:"Active",unCheckedChildren:"Inactive",checked:e.rowdata.is_active,onChange:function(t){e.InputChangeValue({key:"is_active",value:t})}})})})]})})})}))},702:function(e,t,i){"use strict";i.r(t);var a=i(1),n=i(0),r=i(550),s=i(610),l=i(538),o=i(519),c=i(521),d=i(531),u=i(154),m=i(337),h=i(340),j=i(539),p=i(676),b=i(8),v=i(350),g=i(361),O=i(32),x=i(534),C=i(588),f=i(216),w=i(125),y=i(15),_=i(10),M=i(524),D=i(527),P=i(677),L=i(215),S=i(19),k=i.n(S),N=i(3),I=new Date;I.getFullYear(),I.getMonth();var F=Object(O.b)((function(e){var t=e.counters,i=e.mini;return{drawer:t.drawer,countersParams:t.countersParams,miniStatesList:i.miniStatesList,miniDistrictList:i.miniDistrictList,miniCityList:i.miniCityList,miniCountryList:i.miniCountryList,miniClustersList:i.miniClustersList,miniDivisionsList:i.miniDivisionsList,miniZonesList:i.miniZonesList,miniAreaList:i.miniAreaList}}),{isDrawerVisible:w.k,SetCountersParams:w.c,FilterInputChangeValue:w.a,getCounters:w.j,getMiniStates:y.U,getMiniDistrict:y.y,getMiniCity:y.q,getMinicountry:y.gb,getMiniClusters:y.s,getMiniDivisions:y.A,getMiniZones:y.eb,getMiniArea:y.j,getMiniStatesClearData:y.V,getMiniDistrictClearData:y.z,getMiniCityClearData:y.r,getMinicountryClearData:y.hb,getMiniZonesClearData:y.fb,getMiniClustersClearData:y.t,getMiniDivisionsClearData:y.B,getMiniAreaClearData:y.k})((function(e){var t,i,r,s,l,d,m,h,j,p=M.a.useForm(),b=Object(_.a)(p,1)[0];Object(n.useEffect)((function(){e.getMinicountry(),e.getMiniStates(),e.getMiniDistrict(),e.getMiniCity(),e.getMiniArea(),e.getMiniZones(),e.getMiniClusters(),e.getMiniDivisions()}),[]);function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{startDate:!1,endDate:!1},t=e.startDate,i=e.endDate;return function(e){var a=!0,n=!0;return t&&(a=e&&e<k()(t+" 00:00:01","YYYY-MM-DD HH:mm:ss")),i&&(n=e&&e>k()(k()(i).format("YYYY-MM-DD")+" 23:59:59","YYYY-MM-DD HH:mm:ss")),t&&a||i&&n}}return Object(n.useEffect)((function(){var t,i,a,n,r,s,l,o,c,d;b.setFieldsValue({start_date:null===(t=e.countersParams)||void 0===t?void 0:t.start_date,end_date:null===(i=e.countersParams)||void 0===i?void 0:i.end_date,zone:null===(a=e.countersParams)||void 0===a?void 0:a.zone,division:null===(n=e.countersParams)||void 0===n?void 0:n.division,cluster:null===(r=e.countersParams)||void 0===r?void 0:r.cluster,country:null===(s=e.countersParams)||void 0===s?void 0:s.country,state:null===(l=e.countersParams)||void 0===l?void 0:l.state,district:null===(o=e.countersParams)||void 0===o?void 0:o.district,city:null===(c=e.countersParams)||void 0===c?void 0:c.city,area:null===(d=e.countersParams)||void 0===d?void 0:d.area})}),[e.countersParams]),Object(N.jsx)(o.a,{gutter:[24,24],children:Object(N.jsx)(c.a,{span:24,children:Object(N.jsx)(D.a,{title:"Filters",width:420,className:"hp-drawer-mobile",onClose:function(){e.isDrawerVisible(!1)},placement:"right",visible:e.drawer,bodyStyle:{paddingBottom:10},children:Object(N.jsxs)(M.a,{form:b,layout:"vertical",name:"basic",initialValues:{remember:!0},onFinish:function(){e.SetCountersParams(Object(a.a)(Object(a.a)({},e.countersParams),{},{start_date:e.countersParams.start_date,end_date:e.countersParams.end_date,page:1,search:"",page_size:10})),e.getCounters(Object(a.a)(Object(a.a)({},e.countersParams),{},{start_date:null!=e.countersParams.start_date&&""!=e.countersParams.start_date?k()(e.countersParams.start_date).format("YYYY-MM-DD"):"",end_date:null!=e.countersParams.end_date&&""!=e.countersParams.end_date?k()(e.countersParams.end_date).add(1,"days").format("YYYY-MM-DD"):"",page:1,search:"",page_size:10})),e.isDrawerVisible(!1)},children:[Object(N.jsxs)(o.a,{gutter:[12,12],children:[Object(N.jsx)(c.a,{span:12,children:Object(N.jsx)(M.a.Item,{label:"From Date",name:"start_date",children:Object(N.jsx)(P.a,{style:{width:"100%"},picker:"date",placeholder:"Choose Date",format:"DD-MM-YYYY",disabledDate:v({endDate:new Date}),onChange:function(t){e.FilterInputChangeValue({key:"start_date",value:null==t?"":t}),null==t&&e.FilterInputChangeValue({key:"end_date",value:""})}})})}),Object(N.jsx)(c.a,{span:12,children:Object(N.jsx)(M.a.Item,{label:"To Date",name:"end_date",children:Object(N.jsx)(P.a,{style:{width:"100%"},picker:"date",placeholder:"Choose Date",format:"DD-MM-YYYY",disabledDate:v({endDate:k()().format("YYYY-MM-DD"),startDate:k()(null===(t=e.countersParams)||void 0===t?void 0:t.start_date).format("YYYY-MM-DD")}),disabled:null==e.countersParams.start_date||""==e.countersParams.start_date,onChange:function(t){e.FilterInputChangeValue({key:"end_date",value:null==t?"":t})}})})}),Object(N.jsx)(c.a,{span:12,children:Object(N.jsx)(M.a.Item,{label:"Zone Name :",name:"zone",children:Object(N.jsx)(L.a,{showSearch:!0,allowClear:!0,placeholder:"Select  Zone",optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().includes(e.toLowerCase())},onChange:function(t){e.getMiniDivisions({zone:t}),e.getMiniDivisionsClearData(),e.getMiniClustersClearData(),e.FilterInputChangeValue({key:"zone",value:t})},value:null==e.countersParams.zone_id?"":null===(i=e.countersParams)||void 0===i?void 0:i.zone_id,children:e.miniZonesList.map((function(e,t){return Object(N.jsx)(Option,{value:e.id,children:e.name},t)}))})})}),Object(N.jsx)(c.a,{span:12,children:Object(N.jsx)(M.a.Item,{label:"Division Name:",name:"division",children:Object(N.jsx)(L.a,{showSearch:!0,allowClear:!0,placeholder:"Select  Division",optionFilterProp:"division",filterOption:function(e,t){return t.children.toLowerCase().includes(e.toLowerCase())},onChange:function(t){e.getMiniClusters({division:t}),e.getMiniClustersClearData(),e.FilterInputChangeValue({key:"division",value:t})},value:null==e.countersParams.division_id?"":null===(r=e.countersParams)||void 0===r?void 0:r.division_id,children:e.miniDivisionsList.map((function(e,t){return Object(N.jsx)(Option,{value:e.id,children:e.name},t)}))})})}),Object(N.jsx)(c.a,{span:12,children:Object(N.jsx)(M.a.Item,{label:"Cluster Name:",name:"cluster",children:Object(N.jsx)(L.a,{showSearch:!0,allowClear:!0,placeholder:"Select Cluster",optionFilterProp:"cluster",filterOption:function(e,t){return t.children.toLowerCase().includes(e.toLowerCase())},onChange:function(t){e.FilterInputChangeValue({key:"cluster",value:t})},value:null==e.countersParams.cluster_id?"":null===(s=e.countersParams)||void 0===s?void 0:s.cluster_id,children:e.miniClustersList.map((function(e,t){return Object(N.jsx)(Option,{value:e.id,children:e.name},t)}))})})}),Object(N.jsx)(c.a,{span:12,children:Object(N.jsx)(M.a.Item,{label:"Country :",name:"country",children:Object(N.jsx)(L.a,{showSearch:!0,allowClear:!0,placeholder:"Select Country",optionFilterProp:"children",onChange:function(t){e.getMiniStates({country:t}),e.getMiniStatesClearData(),e.getMiniDistrictClearData(),e.getMiniCityClearData(),e.FilterInputChangeValue({key:"country",value:t})},value:null==e.countersParams.country_id?"":null===(l=e.countersParams)||void 0===l?void 0:l.country_id,children:e.miniCountryList.map((function(e,t){return Object(N.jsx)(Option,{value:e.id,children:e.name},t)}))})})}),Object(N.jsx)(c.a,{span:12,children:Object(N.jsx)(M.a.Item,{label:"State :",name:"state",children:Object(N.jsx)(L.a,{showSearch:!0,allowClear:!0,filterOption:function(e,t){return t.children.toLowerCase().includes(e.toLowerCase())},placeholder:"Select State",optionFilterProp:"state",onChange:function(t){e.getMiniDistrict({state:t}),e.getMiniDistrictClearData(),e.getMiniCityClearData(),e.FilterInputChangeValue({key:"state",value:t})},value:null==e.countersParams.state_id?"":null===(d=e.countersParams)||void 0===d?void 0:d.state_id,children:e.miniStatesList.map((function(e,t){return Object(N.jsx)(Option,{value:e.id,children:e.name},t)}))})})}),Object(N.jsx)(c.a,{span:12,children:Object(N.jsx)(M.a.Item,{label:"District :",name:"district",children:Object(N.jsx)(L.a,{showSearch:!0,allowClear:!0,filterOption:function(e,t){return t.children.toLowerCase().includes(e.toLowerCase())},placeholder:"Select District",optionFilterProp:"district",onChange:function(t){e.getMiniCity({district:t}),e.getMiniCityClearData(),e.FilterInputChangeValue({key:"district",value:t})},value:null==e.countersParams.district_id?"":null===(m=e.countersParams)||void 0===m?void 0:m.district_id,children:e.miniDistrictList.map((function(e,t){return Object(N.jsx)(Option,{value:e.id,children:e.name},t)}))})})}),Object(N.jsx)(c.a,{span:12,children:Object(N.jsx)(M.a.Item,{label:"City :",name:"city",children:Object(N.jsx)(L.a,{showSearch:!0,allowClear:!0,filterOption:function(e,t){return t.children.toLowerCase().includes(e.toLowerCase())},placeholder:"Select City",optionFilterProp:"city",onChange:function(t){e.getMiniArea({city:t}),e.getMiniAreaClearData(),e.FilterInputChangeValue({key:"city",value:t})},value:null==e.countersParams.city_id?"":null===(h=e.countersParams)||void 0===h?void 0:h.city_id,children:e.miniCityList.map((function(e,t){return Object(N.jsx)(Option,{value:e.id,children:e.name},t)}))})})}),Object(N.jsx)(c.a,{span:12,children:Object(N.jsx)(M.a.Item,{label:"Area :",name:"area",children:Object(N.jsx)(L.a,{showSearch:!0,allowClear:!0,filterOption:function(e,t){return t.children.toLowerCase().includes(e.toLowerCase())},placeholder:"Select Area",optionFilterProp:"area",onChange:function(t){e.FilterInputChangeValue({key:"area",value:t})},value:null==e.countersParams.area_id?"":null===(j=e.countersParams)||void 0===j?void 0:j.area_id,children:e.miniAreaList.map((function(e,t){return Object(N.jsx)(Option,{value:e.id,children:e.name},t)}))})})})]}),Object(N.jsxs)(o.a,{gutter:[12,12],children:[Object(N.jsx)(c.a,{md:12,children:Object(N.jsx)(u.a,{block:!0,type:"secondary",className:"hp-submit-btn hp-mt-10",onClick:function(){e.SetCountersParams({start_date:"",end_date:"",page:1,search:"",page_size:10}),e.getCounters({start_date:"",end_date:"",page:1,search:"",page_size:10}),e.getMiniZones(),e.getMiniClusters(),e.getMiniDivisions(),e.getMinicountry(),e.getMiniStates(),e.getMiniDistrict(),e.getMiniCity(),e.getMiniArea()},htmlType:"button",children:"Clear"})}),Object(N.jsx)(c.a,{md:12,children:Object(N.jsx)(u.a,{block:!0,type:"primary",className:"hp-submit-btn hp-mt-10",onClick:function(){b.submit()},children:"Apply"})})]})]})})})})}));t.default=Object(O.b)((function(e){var t=e.counters,i=e.system;return{counterslist:t.counterslist,noofpages:t.noofpages,listCount:t.listCount,countersParams:t.countersParams,loading:t.loading,userAccessList:i.userAccessList}}),{getCounters:w.j,counterEdit:w.g,counterDelete:w.f,isModelVisible:w.l,getMiniStates:y.U,getMiniDistrict:y.y,getMiniDivisions:y.A,getMiniZones:y.eb,getMiniClusters:y.s,SetCountersParams:w.c,getMiniCity:y.q,getMiniArea:y.j,isDrawerVisible:w.k})((function(e){var t,i,O,w,y=r.a.Search,_="hp-p1-body hp-text-color-black-50 hp-text-color-dark-0 hp-font-weight-500 ";Object(n.useEffect)((function(){e.getCounters(Object(a.a)(Object(a.a)({},e.countersParams),{},{page:1})),e.getMiniZones()}),[]);var M=[{title:"S.No",dataIndex:"index",width:"5%"},{title:"Code",dataIndex:"code",filterSearch:!0,width:"20%"},{title:"Counter Name",render:function(e){return Object(N.jsx)("span",{className:_,children:e.name})},filterMode:"tree",filterSearch:!0,width:"20%"},{title:"Status",width:"20%",render:function(e){return Object(N.jsx)(j.b,{size:"middle",children:e.is_active?Object(N.jsx)(s.a,{color:"green",children:"Active"}):Object(N.jsx)(s.a,{color:"red",children:"Inactive"})})}},{title:"Zone",render:function(e){var t;return Object(N.jsx)("span",{className:_,children:null===(t=e.zone)||void 0===t?void 0:t.name})},filterMode:"tree",filterSearch:!0,width:"20%"},{title:"Division",render:function(e){var t;return Object(N.jsx)("span",{className:_,children:null===(t=e.division)||void 0===t?void 0:t.name})},filterMode:"tree",filterSearch:!0,width:"20%"},{title:"Cluster",render:function(e){var t;return Object(N.jsx)("span",{className:_,children:null===(t=e.cluster)||void 0===t?void 0:t.name})},filterMode:"tree",filterSearch:!0,width:"20%"},{title:"Counter Type",render:function(e){return Object(N.jsx)("span",{className:_,children:e.type_name})},filterMode:"tree",filterSearch:!0,width:"20%"},{title:"Actions",key:"action",width:"10%",render:function(t,i){var a,n;return Object(N.jsxs)(j.b,{size:"middle",children:[-1!==(null===(a=e.userAccessList)||void 0===a?void 0:a.indexOf("Masters.change_counter"))&&Object(N.jsx)("i",{className:"ri-edit-box-line hp-mr-2 ",style:{cursor:"pointer",color:"#fc6f03"},onClick:function(){e.counterEdit(t),e.getMiniDivisions({zone:t.zone.id}),e.getMiniClusters({division:t.division.id}),e.getMiniDistrict({state:t.state.id}),e.getMiniCity({district:t.district.id}),e.getMiniArea({city:t.city.id}),e.isModelVisible(!0)}}),-1!==(null===(n=e.userAccessList)||void 0===n?void 0:n.indexOf("Masters.delete_counter"))&&Object(N.jsx)(l.a,{placement:"topRight",title:"Are you sure to delete this Record?",onConfirm:function(){return e.counterDelete(i.id)},okText:"Yes",cancelText:"No",className:"hp-ml-8",icon:Object(N.jsx)(b.n,{className:"remix-icon hp-text-color-primary-1"}),children:Object(N.jsx)("i",{className:"ri-delete-bin-2-line ",style:{cursor:"pointer",color:"#ff0000"}})})]})}}],D=e.counterslist.map((function(t,i){return Object(a.a)(Object(a.a)({},t),{},{index:(e.countersParams.page-1)*e.countersParams.page_size+i+1,zonename:t.zone.name,clustername:t.cluster.name,divisionname:t.division.name,typeIndex:t.type_name})}));return Object(N.jsxs)(o.a,{gutter:[32,32],className:"hp-mt-32",children:[Object(N.jsx)(x.a,{pageTitle:"Counter Master",addModelTile:-1!==(null===(t=e.userAccessList)||void 0===t?void 0:t.indexOf("Masters.add_counter"))&&"Add Counter",goBack:!0,setIsModalVisible:e.isModelVisible,isModalVisible:e.model}),Object(N.jsx)(c.a,{span:24,children:Object(N.jsxs)(d.a,{children:[Object(N.jsxs)(o.a,{className:"hp-mb-12",gutter:[12,12],children:[Object(N.jsx)(c.a,{span:24,xs:24,sm:24,md:12,lg:12,xl:12,xxl:12,children:Object(N.jsx)(y,{placeholder:"Search...",allowClear:!0,onChange:function(t){""==t.target.value&&(e.getCounters(Object(a.a)(Object(a.a)({},e.countersParams),{},{page:1,search:""})),e.SetCountersParams(Object(a.a)(Object(a.a)({},e.countersParams),{},{page:1,search:""})))},onSearch:function(t){var i;i=t,e.SetCountersParams(Object(a.a)(Object(a.a)({},e.countersParams),{},{search:i})),e.getCounters(Object(a.a)(Object(a.a)({},e.countersParams),{},{search:i}))}})}),Object(N.jsx)(c.a,{span:24,xs:11,sm:11,md:4,lg:4,xl:4,xxl:4,children:Object(N.jsx)(u.a,{onClick:function(){e.isDrawerVisible(!0)},className:"hp-w-100 hp-p-10",icon:Object(N.jsx)(v.a,{className:"hp-mr-10"}),children:!f.isMobile&&"Filter"})}),-1!==(null===(i=e.userAccessList)||void 0===i?void 0:i.indexOf("Masters.export_counter"))&&Object(N.jsx)(c.a,{span:24,xs:11,sm:11,md:4,lg:4,xl:4,xxl:4,children:Object(N.jsx)(u.a,{onClick:function(){exportData()},className:"hp-w-100 hp-p-10",icon:Object(N.jsx)(g.a,{className:"hp-mr-10"}),children:!f.isMobile&&"Export"})})]}),Object(N.jsxs)(o.a,{children:[Object(N.jsx)(c.a,{span:24,children:Object(N.jsx)(m.a,{tip:"Loading...",spinning:e.loading,delay:500,children:Object(N.jsx)(p.a,{columns:M,dataSource:D,scroll:{x:500},pagination:!1,size:"middle"})})}),Object(N.jsx)(c.a,{span:24,children:Object(N.jsx)(h.a,{size:"small",current:null===(O=e.countersParams)||void 0===O?void 0:O.page,pageSize:null===(w=e.countersParams)||void 0===w?void 0:w.page_size,total:e.listCount,showTotal:function(e){return"Total "+e+" items"},showSizeChanger:!0,onChange:function(t,i){e.SetCountersParams(Object(a.a)(Object(a.a)({},e.countersParams),{},{page_size:i,page:0==t?1:t})),e.getCounters(Object(a.a)(Object(a.a)({},e.countersParams),{},{page_size:i,page:0==t?1:t}))},className:"hp-mb-12 hp-mt-24 hp-float-right"})})]})]})}),Object(N.jsx)(C.a,{}),Object(N.jsx)(F,{})]})}))}}]);
//# sourceMappingURL=43.9d5f4130.chunk.js.map