(this["webpackJsonpwheelsmart-admin-react"]=this["webpackJsonpwheelsmart-admin-react"]||[]).push([[22],{534:function(e,a,t){"use strict";t.d(a,"a",(function(){return p}));t(0);var i=t(521),r=t(531),n=t(519),c=t(154),l=t(51),s=t(43),o=t(8),d=t(216),u=t(3);function p(e){var a=Object(l.f)(),t=e.pageTitle,p=e.pageText,m=e.addModelTile,h=e.goBack,j=e.setIsModalVisible;return Object(u.jsx)(i.a,{span:24,children:Object(u.jsx)(r.a,{className:"hp-m-0",children:Object(u.jsxs)(n.a,{children:[Object(u.jsxs)(i.a,{span:18,children:[h&&Object(u.jsx)(s.b,{to:"#",onClick:function(){return a.goBack()},className:"action-icon text-primary  hp-mr-12 hp-d-inline-block",children:Object(u.jsx)(o.d,{className:"remix-icon",size:24})}),Object(u.jsxs)(n.a,{className:"hp-d-inline-block",children:[Object(u.jsx)(i.a,{span:24,children:t&&Object(u.jsx)("h2",{className:"hp-m-0",children:t})}),Object(u.jsx)(i.a,{span:24,children:p&&Object(u.jsx)("p",{className:"hp-mb-0 hp-p1-body",children:p})})]})]}),Object(u.jsx)(i.a,{span:6,children:m&&Object(u.jsx)(c.a,{className:"hp-float-right",type:"primary",onClick:function(){return j(!0)},block:!0,icon:Object(u.jsx)(o.b,{className:"remix-icon",size:22}),children:!d.isMobile&&m})})]})})})}},535:function(e,a,t){"use strict";t.d(a,"a",(function(){return c}));var i=t(1),r=t(550),n=t(3);function c(e){var a=e.value,t=e.onChange,c=e.onBlur;return Object(n.jsx)(r.a,Object(i.a)(Object(i.a)({},e),{},{onChange:function(a){var i=a.target.value;(/^-?\d*(\.\d*)?$/.test(i)||""===i||"-"===i)&&t({key:e.name,value:i})},onBlur:e.onBlur&&function(){var t=a;"."!==a.charAt(a.length-1)&&"-"!==a||(t=a.slice(0,-1)),c({key:e.name,value:t.replace(/0*(\d+)/,"$1")})}}))}},536:function(e,a,t){"use strict";t.d(a,"a",(function(){return u}));t(0);var i=t(521),r=t(519),n=t(154),c=t(51),l=t(43),s=t(8),o=t(216),d=t(3);function u(e){var a=Object(c.f)(),t=e.pageTitle,u=e.pageText,p=e.goBack,m=e.addModelTile,h=e.addModelTile2,j=e.setIsModalVisible,b=e.setIsModalVisible2;return Object(d.jsx)(i.a,{span:24,className:"hp-mt-12",children:Object(d.jsxs)(r.a,{children:[Object(d.jsxs)(i.a,{span:16,xs:16,md:12,xl:16,children:[p&&Object(d.jsx)(l.b,{to:"#",onClick:function(){a.goBack()},className:"action-icon text-primary  hp-mr-12 hp-d-inline-block",children:Object(d.jsx)(s.d,{className:"remix-icon",size:24})}),Object(d.jsxs)(r.a,{className:"hp-d-inline-block",children:[Object(d.jsx)(i.a,{span:24,children:t&&Object(d.jsx)("h3",{className:"hp-mb-2 hp-mt-4",children:t})}),Object(d.jsx)(i.a,{span:24,children:u&&Object(d.jsx)("p",{className:"hp-mb-0 hp-p1-body",children:u})})]})]}),Object(d.jsx)(i.a,{span:8,xs:8,md:12,xl:8,children:Object(d.jsxs)("div",{className:"hp-float-right hp-d-inline-block",children:[m&&Object(d.jsx)("div",{className:"hp-pl-4 hp-d-inline-block",children:Object(d.jsx)(n.a,{className:"",type:"primary",onClick:function(){return j(!0)},icon:Object(d.jsx)(s.b,{className:"remix-icon",size:22}),children:!o.isMobile&&m})}),h&&Object(d.jsx)("div",{className:"hp-pl-4 hp-d-inline-block",children:Object(d.jsx)(n.a,{className:"hp-pr-12",type:"primary",onClick:function(){return b(!0)},icon:Object(d.jsx)(s.b,{className:"remix-icon",size:22}),children:!o.isMobile&&h})})]})})]})})}},538:function(e,a,t){"use strict";var i=t(9),r=t(10),n=t(181),c=t(11),l=t.n(c),s=t(52),o=t(23),d=t(0),u=t(154),p=t(182),m=t(83),h=t(84),j=t(140),b=t(283),x=t(262),O=t(263),v=t(38),f=void 0,g=function(e,a){var t={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&a.indexOf(i)<0&&(t[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)a.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(t[i[r]]=e[i[r]])}return t},w=d.forwardRef((function(e,a){var t=d.useContext(m.b).getPrefixCls,n=Object(s.a)(!1,{value:e.visible,defaultValue:e.defaultVisible}),c=Object(r.a)(n,2),w=c[0],y=c[1],A=function(a,t){var i;y(a,!0),null===(i=e.onVisibleChange)||void 0===i||i.call(e,a,t)},k=function(e){A(!1,e)},N=function(a){var t;return null===(t=e.onConfirm)||void 0===t?void 0:t.call(f,a)},P=function(a){var t;A(!1,a),null===(t=e.onCancel)||void 0===t||t.call(f,a)},S=e.prefixCls,C=e.placement,V=e.children,R=e.overlayClassName,_=g(e,["prefixCls","placement","children","overlayClassName"]),T=t("popover",S),M=t("popconfirm",S),I=l()(M,R),D=d.createElement(h.a,{componentName:"Popconfirm",defaultLocale:j.a.Popconfirm},(function(a){return function(a,r){var n=e.okButtonProps,c=e.cancelButtonProps,l=e.title,s=e.cancelText,o=e.okText,m=e.okType,h=e.icon,j=e.showCancel,b=void 0===j||j;return d.createElement("div",{className:"".concat(a,"-inner-content")},d.createElement("div",{className:"".concat(a,"-message")},h,d.createElement("div",{className:"".concat(a,"-message-title")},Object(O.a)(l))),d.createElement("div",{className:"".concat(a,"-buttons")},b&&d.createElement(u.a,Object(i.a)({onClick:P,size:"small"},c),s||r.cancelText),d.createElement(x.a,{buttonProps:Object(i.a)(Object(i.a)({size:"small"},Object(p.a)(m)),n),actionFn:N,close:k,prefixCls:t("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},o||r.okText)))}(T,a)}));return d.createElement(b.a,Object(i.a)({},_,{prefixCls:T,placement:C,onVisibleChange:function(a){e.disabled||A(a)},visible:w,_overlay:D,overlayClassName:I,ref:a}),Object(v.a)(V,{onKeyDown:function(e){var a,t;d.isValidElement(V)&&(null===(t=null===V||void 0===V?void 0:(a=V.props).onKeyDown)||void 0===t||t.call(a,e)),function(e){e.keyCode===o.a.ESC&&w&&A(!1,e)}(e)}}))}));w.defaultProps={placement:"top",trigger:"click",okType:"primary",icon:d.createElement(n.a,null),disabled:!1},a.a=w},539:function(e,a,t){"use strict";t.d(a,"a",(function(){return h}));var i=t(9),r=t(7),n=t(10),c=t(11),l=t.n(c),s=t(54),o=t(0),d=t(83),u=t(282);function p(e){var a=e.className,t=e.direction,n=e.index,c=e.marginDirection,l=e.children,s=e.split,d=e.wrap,u=o.useContext(h),p=u.horizontalSize,m=u.verticalSize,j=u.latestIndex,b={};return u.supportFlexGap||("vertical"===t?n<j&&(b={marginBottom:p/(s?2:1)}):b=Object(i.a)(Object(i.a)({},n<j&&Object(r.a)({},c,p/(s?2:1))),d&&{paddingBottom:m})),null===l||void 0===l?null:o.createElement(o.Fragment,null,o.createElement("div",{className:a,style:b},l),n<j&&s&&o.createElement("span",{className:"".concat(a,"-split"),style:b},s))}var m=function(e,a){var t={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&a.indexOf(i)<0&&(t[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)a.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(t[i[r]]=e[i[r]])}return t},h=o.createContext({latestIndex:0,horizontalSize:0,verticalSize:0,supportFlexGap:!1}),j={small:8,middle:16,large:24};a.b=function(e){var a,t=o.useContext(d.b),c=t.getPrefixCls,b=t.space,x=t.direction,O=e.size,v=void 0===O?(null===b||void 0===b?void 0:b.size)||"small":O,f=e.align,g=e.className,w=e.children,y=e.direction,A=void 0===y?"horizontal":y,k=e.prefixCls,N=e.split,P=e.style,S=e.wrap,C=void 0!==S&&S,V=m(e,["size","align","className","children","direction","prefixCls","split","style","wrap"]),R=Object(u.a)(),_=o.useMemo((function(){return(Array.isArray(v)?v:[v,v]).map((function(e){return function(e){return"string"===typeof e?j[e]:e||0}(e)}))}),[v]),T=Object(n.a)(_,2),M=T[0],I=T[1],D=Object(s.a)(w,{keepEmpty:!0}),E=void 0===f&&"horizontal"===A?"center":f,L=c("space",k),z=l()(L,"".concat(L,"-").concat(A),(a={},Object(r.a)(a,"".concat(L,"-rtl"),"rtl"===x),Object(r.a)(a,"".concat(L,"-align-").concat(E),E),a),g),F="".concat(L,"-item"),B="rtl"===x?"marginLeft":"marginRight",U=0,G=D.map((function(e,a){null!==e&&void 0!==e&&(U=a);var t=e&&e.key||"".concat(F,"-").concat(a);return o.createElement(p,{className:F,key:t,direction:A,index:a,marginDirection:B,split:N,wrap:C},e)})),Y=o.useMemo((function(){return{horizontalSize:M,verticalSize:I,latestIndex:U,supportFlexGap:R}}),[M,I,U,R]);if(0===D.length)return null;var q={};return C&&(q.flexWrap="wrap",R||(q.marginBottom=-I)),R&&(q.columnGap=M,q.rowGap=I),o.createElement("div",Object(i.a)({className:z,style:Object(i.a)(Object(i.a)({},q),P)},V),o.createElement(h.Provider,{value:Y},G))}},542:function(e,a,t){"use strict";a.a=t.p+"static/media/noimg.b2f3d4d2.png"},695:function(e,a,t){"use strict";t.r(a);var i=t(1),r=t(0),n=t(525),c=t(538),l=t(550),s=t(519),o=t(521),d=t(154),u=t(531),p=t(337),m=t(340),h=t(539),j=t(676),b=t(32),x=t(235),O=(t(534),t(8)),v=t(216),f=t(59),g=t(536),w=t(15),y=t(10),A=(t(533),t(524)),k=t(526),N=t(215),P=t(680),S=t(141),C=t(240),V=t(535),R=t(3);var _=Object(b.b)((function(e){var a=e.repairAmount,t=e.mini;return{rowdata:a.rowdata,model:a.model,miniCountersList:t.miniCountersList,rowDataView:a.rowDataView,miniRepairTypesList:t.miniRepairTypesList,purchaseAvaliableStockList:t.purchaseAvaliableStockList,purchaseAvailableStockParams:t.purchaseAvailableStockParams}}),{repairAmountAdd:f.k,isModelVisible:f.i,InputChangeValue:f.a,getMiniCounters:w.v,getMiniRepairTypes:w.R,getRepairTypeImageUpload:f.h,getPurchaseAvailableStock:w.ib,setPurchaseAvailableStockParams:w.dc})((function(e){var a,t,n,c,u,p,m,h,j,b=A.a.useForm(),v=Object(y.a)(b,1)[0];Object(r.useEffect)((function(){e.getMiniCounters(),e.getMiniRepairTypes()}),[]);var f=function(){e.isModelVisible(!1)},g=function(){return null==e.rowdata.id||0==e.rowdata.id?Object(R.jsx)(r.Fragment,{children:Object(R.jsx)(d.a,{onClick:function(){v.submit()},type:"primary",block:!0,children:"Add"})}):Object(R.jsx)(r.Fragment,{children:Object(R.jsx)(d.a,{type:"primary",onClick:function(){v.submit()},block:!0,children:"Update"})})},w=function(){return Object(R.jsx)(r.Fragment,{children:Object(R.jsx)(d.a,{onClick:function(){f()},type:"primary",block:!0,ghost:!0,children:"Cancel"})})},_=Object(R.jsxs)("h5",{className:"modal-title",children:[null==e.rowdata.id||0==e.rowdata.id?"Add":"Update"," ","Repair Amount"]});var T=Object(R.jsxs)(R.Fragment,{children:[" ",Object(R.jsxs)("div",{className:"hp-center hp-mt-0 ",children:[e.imageLooading?Object(R.jsx)(S.a,{}):Object(R.jsx)(x.a,{className:"hp-mt-16"}),Object(R.jsx)("div",{className:"hp-mt-8 hp-mb-16",children:"Upload"})]})]});return Object(r.useEffect)((function(){v.setFieldsValue({counter_id:e.rowdata.counter_id,purchase_id:e.rowdata.purchase_id,amount:e.rowdata.amount,description:e.rowdata.description,repair_id:e.rowdata.repair_id})}),[e.rowdata]),console.log("miniRepairTypesList",e.miniRepairTypesList),Object(R.jsx)(k.a,{visible:e.model,title:_,onCancel:function(){f(),v.resetFields(),e.isModelVisible(!1)},className:"hp-modal-p-24",footer:Object(R.jsxs)(s.a,{justify:"center",children:[Object(R.jsx)(o.a,{span:12,className:"hp-pr-4",children:Object(R.jsx)(w,{})}),Object(R.jsx)(o.a,{span:12,className:"hp-pl-4",children:Object(R.jsx)(g,{})})]}),centered:!0,closeIcon:Object(R.jsx)(O.k,{className:"remix-icon text-color-black-100",size:24}),width:616,children:Object(R.jsxs)(A.a,{layout:"vertical",form:v,name:"userForm",autoComplete:"off",onFinish:function(){null==e.rowdata.id?function(){var a,t={id:0,amount:null===(a=e.rowdata)||void 0===a?void 0:a.amount,description:e.rowdata.description,counter_id:e.rowdata.counter_id,purchase_id:e.rowdata.purchase_id,repair_id:e.rowdata.repair_id,attachment:e.rowdata.attachment,attachment_id:e.rowdata.attachment_id};e.repairAmountAdd(t)}():function(){var a,t,i,r={id:null===(a=e.rowdata)||void 0===a?void 0:a.id,amount:null===(t=e.rowdata)||void 0===t?void 0:t.amount,description:null===(i=e.rowdata)||void 0===i?void 0:i.description,counter_id:e.rowdata.counter_id,purchase_id:e.rowdata.purchase_id,repair_id:e.rowdata.repair_id,attachment:e.rowdata.attachment,attachment_id:e.rowdata.attachment_id};e.repairAmountAdd(r)}()},children:[Object(R.jsxs)(s.a,{gutter:[12,0],children:[Object(R.jsx)(o.a,{span:24,xs:24,xl:12,md:12,children:Object(R.jsx)(A.a.Item,{label:"Counter",name:"counter_id",rules:[{required:!0,message:"Please Select Counter"}],hasFeedback:!0,children:Object(R.jsx)(N.a,{showSearch:!0,placeholder:"Select a counter",optionFilterProp:"counter",filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},onBlur:function(a){e.getPurchaseAvailableStock(Object(i.a)(Object(i.a)({},e.purchaseAvailableStockParams),{},{counter:e.rowdata.counter_id,page:1})),e.setPurchaseAvailableStockParams(Object(i.a)(Object(i.a)({},e.purchaseAvailableStockParams),{},{counter:e.rowdata.counter_id,page:1}))},onChange:function(a){e.InputChangeValue({key:"counter_id",value:a})},value:null==e.rowdata.counter_id?"":null===(a=e.rowdata)||void 0===a?void 0:a.counter_id,children:e.miniCountersList.map((function(e,a){return Object(R.jsx)(Option,{value:e.id,children:e.name},a)}))})})}),Object(R.jsx)(o.a,{span:24,xs:24,xl:12,md:12,children:null==e.rowdata.id?Object(R.jsx)(A.a.Item,{label:"Purchase",name:"purchase_id",rules:[{required:!0,message:"Please Select Purchase"}],hasFeedback:!0,children:Object(R.jsx)(N.a,{showSearch:!0,placeholder:"Select a Purchase",optionFilterProp:"Purchase",filterOption:function(e,a){return(a.children+"").toLowerCase().includes(e.toLowerCase())},disabled:null!=e.rowdata.id,onSearch:function(a){e.setPurchaseAvailableStockParams(Object(i.a)(Object(i.a)({},e.purchaseAvailableStockParams),{},{page:1,search:a})),e.getPurchaseAvailableStock(Object(i.a)(Object(i.a)({},e.purchaseAvailableStockParams),{},{page:1,search:a}))},onChange:function(a){e.InputChangeValue({key:"purchase_id",value:a})},value:null==e.rowdata.purchase_id?"":null===(t=e.rowdata)||void 0===t?void 0:t.purchase_id,onPopupScroll:function(){e.purchaseAvailableStockParams.page<e.purchaseAvailableStockParams.no_of_pages&&(e.setPurchaseAvailableStockParams(Object(i.a)(Object(i.a)({},e.purchaseAvailableStockParams),{},{page:e.purchaseAvailableStockParams.page+1})),e.getPurchaseAvailableStock(Object(i.a)(Object(i.a)({},e.purchaseAvailableStockParams),{},{page:e.purchaseAvailableStockParams.page+1})))},children:e.purchaseAvaliableStockList.map((function(e,a){var t;return Object(R.jsxs)(Option,{value:e.id,children:[null===(t=e.vehicle)||void 0===t?void 0:t.vehicleno," - ",e.code]},a)}))})}):Object(R.jsx)(A.a.Item,{label:"Purchase",children:Object(R.jsx)(l.a,{id:"purchase_id",name:"purchase_id",style:{width:"100%"},value:null===(n=e.rowDataView)||void 0===n||null===(c=n.purchase)||void 0===c?void 0:c.code,disabled:!0})})}),Object(R.jsx)(o.a,{span:24,xs:24,xl:12,md:12,children:Object(R.jsx)(A.a.Item,{label:"Amount :",name:"amount",rules:[{required:!0,message:"Please input your Amount!"}],getValueProps:function(){},hasFeedback:!0,children:Object(R.jsx)(V.a,{id:"amount",name:"amount",style:{width:"100%"},placeholder:"Amount",maxLength:6,onBlur:function(a){var t;t=a,parseInt(t.value)>0&&parseInt(t.value)<=99&&(e.InputChangeValue({key:t.key,value:""}),k.a.error({icon:Object(R.jsx)("span",{className:"remix-icon",children:Object(R.jsx)(O.o,{})}),title:Object(R.jsx)("h5",{className:"hp-mb-0 hp-font-weight-500",children:"Amount Validation"}),content:Object(R.jsx)("div",{children:Object(R.jsx)("p",{className:"hp-p1-body hp-text-color-black-80",children:"Amount must be minimum 3 Digits"})})}))},value:null==(null===(u=e.rowdata)||void 0===u?void 0:u.amount)?"":null===(p=e.rowdata)||void 0===p?void 0:p.amount,onChange:e.InputChangeValue})})}),Object(R.jsx)(o.a,{span:24,xs:24,xl:12,md:12,children:Object(R.jsx)(A.a.Item,{label:"Repair Type :",name:"repair_id",rules:[{required:!0,message:"Please input your Repair Type!"}],hasFeedback:!0,children:Object(R.jsx)(N.a,{showSearch:!0,placeholder:"Select a Repair Type",optionFilterProp:"children",onSearch:function(e){console.log("search:",e)},filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},onChange:function(a){e.InputChangeValue({key:"repair_id",value:a})},value:null==e.rowdata.repair_id?"":null===(m=e.rowdata)||void 0===m?void 0:m.repair_id,children:e.miniRepairTypesList.map((function(e,a){return Object(R.jsx)(Option,{value:e.id,children:e.name},a)}))})})}),Object(R.jsx)(o.a,{md:24,xs:24,children:Object(R.jsx)(A.a.Item,{label:"Description :",name:"description",children:Object(R.jsx)(l.a.TextArea,{id:"description",name:"description",style:{width:"100%"},placeholder:"Description",value:null===(h=e.rowdata)||void 0===h?void 0:h.description,onChange:function(a){e.InputChangeValue({key:a.target.name,value:a.target.value})}})})})]}),Object(R.jsx)(s.a,{gutter:[12,0],children:Object(R.jsxs)(o.a,{span:24,xs:24,xl:10,className:"hp-pr-sm-0 hp-pr-12",children:[Object(R.jsx)("p",{className:"hp-pb-xs-16 hp-mb-2 hp-text-color-primary-1 hp-font-weight-600",children:"Receipt Image"}),Object(R.jsx)(P.a,{listType:"picture-card hp-w-100",className:"avatar-uploader",showUploadList:!1,accept:"image/*",beforeUpload:function(e){var a="image/jpeg"===e.type||"image/png"===e.type;a||message.error("You can only upload JPG/PNG file!");var t=e.size/1024/1024<2;return t||message.error("Image must smaller than 2MB!"),a&&t},customRequest:function(a){e.getRepairTypeImageUpload({file:a.file,imageType:"attachment"})},children:null!=e.rowdata.attachment?Object(R.jsxs)("div",{className:"hp-d-flex",children:[Object(R.jsx)("img",{className:"ant-upload-select-picture-card hp-preview-img",src:null===(j=e.rowdata.attachment)||void 0===j?void 0:j.file,alt:"avatar",style:{width:"100%"}}),Object(R.jsx)(C.a,{})]}):T})]})})]})})})),T=t(532),M=t(682),I=t(542);var D=Object(b.b)((function(e){var a=e.repairAmount,t=e.system;return{repairViewModel:a.repairViewModel,rowDataView:a.rowDataView,userAccessList:t.userAccessList}}),{isRepairAmountViewModelVisible:f.j,repairAmountApproveStatus:f.m})((function(e){var a,t,i,n,u,p,m,h,j,b,x,v,f,g,w=Object(r.useState)({}),N=Object(y.a)(w,2),P=N[0],S=N[1],C=Object(r.useState)(0),V=Object(y.a)(C,2),_=V[0],D=V[1],E=A.a.useForm(),L=Object(y.a)(E,1)[0];var z=[{title:"CODE",description:null==e.rowDataView.code?"none":e.rowDataView.code},{title:"COUNTER",description:null==(null===(a=e.rowDataView.counter)||void 0===a?void 0:a.name)?"none":null===(t=e.rowDataView.counter)||void 0===t?void 0:t.name},{title:"PURCHASE",description:null==(null===(i=e.rowDataView.purchase)||void 0===i?void 0:i.code)?"none":null===(n=e.rowDataView.purchase)||void 0===n?void 0:n.code},{title:"VEHICLE NUMBER",description:null==(null===(u=e.rowDataView.purchase)||void 0===u||null===(p=u.vehicle)||void 0===p?void 0:p.vehicleno)?"none":null===(m=e.rowDataView.purchase)||void 0===m||null===(h=m.vehicle)||void 0===h?void 0:h.vehicleno},{title:"AMOUNT",description:null==e.rowDataView.amount?"none":e.rowDataView.amount},{title:"DESCRIPTION",description:null==e.rowDataView.description?"none":e.rowDataView.description},{title:"REPAIR TYPE",description:null==(null===(j=e.rowDataView.repair)||void 0===j?void 0:j.name)?"none":null===(b=e.rowDataView.repair)||void 0===b?void 0:b.name}],F=[{title:"RECEIPT IMAGE",imgFile:null!=e.rowDataView.attachment?null===(x=e.rowDataView.attachment)||void 0===x?void 0:x.file:I.a,ImgFileThumbnail:null!=e.rowDataView.attachment?null===(v=e.rowDataView.attachment)||void 0===v?void 0:v.file_thumbnail:I.a,createdon:null===(f=e.rowDataView.attachment)||void 0===f?void 0:f.createdon,alt:"RECEIPT IMAGE"}],B=function(){return Object(R.jsx)(r.Fragment,{children:Object(R.jsx)(c.a,{placement:"topRight",title:"Are you sure to Approve this Record?",onConfirm:function(){L.submit(),D(2)},okText:"Yes",cancelText:"No",icon:Object(R.jsx)(O.n,{className:"remix-icon hp-text-color-primary-1"}),children:Object(R.jsx)(d.a,{block:!0,className:"hp-px-12 hp-accept-btn hp-font-weight-400",children:"Approve"})})})},U=function(){return Object(R.jsx)(r.Fragment,{children:Object(R.jsx)(c.a,{placement:"topRight",title:"Are you sure to Reject this Record?",onConfirm:function(){L.submit(),D(3)},okText:"Yes",cancelText:"No",className:"hp-ml-8",icon:Object(R.jsx)(O.n,{className:"remix-icon hp-text-color-primary-1"}),children:Object(R.jsx)(d.a,{block:!0,className:"hp-px-12 hp-reject-btn hp-font-weight-400",children:"Reject"})})})},G=Object(R.jsx)("h5",{className:"modal-title",children:"Repair Amount View"});return Object(R.jsx)(k.a,{visible:e.repairViewModel,title:G,onCancel:function(){L.resetFields(),e.isRepairAmountViewModelVisible(!1),e.isRepairAmountViewModelVisible(!1)},className:"hp-modal-p-24",footer:Object(R.jsx)(R.Fragment,{children:1==e.rowDataView.repairapprovalstatus&&Object(R.jsx)(R.Fragment,{children:-1!==(null===(g=e.userAccessList)||void 0===g?void 0:g.indexOf("StockTransfer.approve_repairamount"))&&Object(R.jsxs)(s.a,{justify:"center",children:[Object(R.jsx)(o.a,{span:12,className:"hp-pl-4",children:Object(R.jsx)(B,{})}),Object(R.jsx)(o.a,{span:12,className:"hp-pr-4",children:Object(R.jsx)(U,{})})]})})}),centered:!0,closeIcon:Object(R.jsx)(O.k,{className:"remix-icon text-color-black-100",size:24}),width:516,children:Object(R.jsxs)(s.a,{children:[Object(R.jsxs)(o.a,{span:24,md:24,children:[Object(R.jsx)(T.b,{grid:{gutter:16,xs:1,sm:2,md:3,lg:3,xl:3,xxl:3},dataSource:z,renderItem:function(e){return Object(R.jsx)(T.b.Item,{children:Object(R.jsx)(T.b.Item.Meta,{title:Object(R.jsx)("span",{children:e.title}),description:Object(R.jsx)("span",{children:e.description})})})}}),1==e.rowDataView.repairapprovalstatus&&Object(R.jsx)(R.Fragment,{children:Object(R.jsx)(A.a,{layout:"vertical",form:L,onFinish:function(){!function(){var a;e.repairAmountApproveStatus({repairAmountObj:{rejectdescription:null===(a=P.target)||void 0===a?void 0:a.value,repairapprovalstatus:_},id:e.rowDataView.id}),L.resetFields()}()},children:Object(R.jsx)(A.a.Item,{name:"rejectdescription",rules:[{required:!0,message:"Please Input description"}],hasFeedback:!0,children:Object(R.jsx)(l.a.TextArea,{id:"rejectdescription",name:"rejectdescription",style:{width:"100%"},placeholder:"Write Remarks...",onChange:function(e){return S(e)}})})})})]}),Object(R.jsx)(s.a,{gutter:[12,12],children:F.map((function(e){return Object(R.jsxs)(o.a,{span:24,xs:12,md:24,xl:24,children:[Object(R.jsx)("p",{className:" hp-m-0 hp-text-color-primary-1 hp-font-weight-600 hp-font-size-12",children:e.title}),Object(R.jsx)(M.a.PreviewGroup,{children:Object(R.jsx)(M.a,{className:"ant-upload-select-picture-card hp-preview-img",src:e.imgFile,alt:e.alt})})]})}))})]})})})),E=t(19),L=t.n(E),z=n.a.Text;n.a.Link;a.default=Object(b.b)((function(e){var a=e.repairAmount,t=e.mini,i=e.system;return{repairAmountList:a.repairAmountList,noofpages:a.noofpages,listCount:a.listCount,reapirAmountParams:a.reapirAmountParams,loading:a.loading,userAccessList:i.userAccessList,purchaseStockParams:t.purchaseStockParams}}),{getRepairAmount:f.f,getRepairAmountByID:f.g,repairAmountDelete:f.o,isModelVisible:f.i,SetRepairAmountParams:f.b,getPurchaseStock:w.jb,setPurchaseStockParams:w.ec,isRepairAmountViewModelVisible:f.j,clearReapirAmountList:f.d})((function(e){var a,t,n;Object(r.useEffect)((function(){e.getRepairAmount({page:1,search:"",page_size:10})}),[]);var b="hp-p1-body hp-text-color-black-50 hp-text-color-dark-0 hp-font-weight-500 ",f=[{title:"S.No",dataIndex:"index",width:70,fixed:v.isMobile?null:"left"},{title:"Code",dataIndex:"code",filterSearch:!0,width:100,fixed:v.isMobile?null:"left"},{title:"Date",render:function(e){return Object(R.jsx)("span",{className:b,children:L()(e.createdon).format("DD-MM-YYYY")})},filterMode:"tree",filterSearch:!0,width:120},{title:"Counter",render:function(e){var a;return Object(R.jsx)("span",{className:b,children:null===(a=e.counter)||void 0===a?void 0:a.name})},filterMode:"tree",filterSearch:!0,width:120},{title:"Vehicle Number",render:function(e){var a,t;return Object(R.jsx)("span",{className:b,children:null===(a=e.purchase)||void 0===a||null===(t=a.vehicle)||void 0===t?void 0:t.vehicleno})},filterMode:"tree",filterSearch:!0,width:120},{title:"Purchase",render:function(e){var a;return Object(R.jsx)("span",{className:b,children:null===(a=e.purchase)||void 0===a?void 0:a.code})},filterMode:"tree",filterSearch:!0,width:160},{title:"Amount",render:function(e){return Object(R.jsx)("span",{className:b,children:e.amount})},filterMode:"tree",filterSearch:!0,width:100},{title:"Description",render:function(e){return Object(R.jsx)("span",{className:b,children:e.description})},filterMode:"tree",filterSearch:!0,width:100},{title:"Repair Type",render:function(e){var a;return Object(R.jsx)("span",{className:b,children:null===(a=e.repair)||void 0===a?void 0:a.name})},filterMode:"tree",filterSearch:!0,width:120},{title:"Status",width:100,render:function(e){return Object(R.jsx)("span",{className:b,children:Object(R.jsx)(z,{type:2==e.repairapprovalstatus||4==e.transferstatus?"success":3==e.repairapprovalstatus||5==e.transferstatus?"danger":"warning",children:null==e.repairapprovalstatus_name?"Pending":e.repairapprovalstatus_name})})}},{title:"Reason",render:function(e){return Object(R.jsx)("span",{className:b,children:e.rejectdescription})},filterMode:"tree",filterSearch:!0,width:100},{title:"Actions",key:"action",width:100,fixed:v.isMobile?null:"right",render:function(a,t){var r,n,l;return Object(R.jsxs)(h.b,{size:"middle",children:[1==a.repairapprovalstatus&&Object(R.jsxs)(R.Fragment,{children:[-1!==(null===(r=e.userAccessList)||void 0===r?void 0:r.indexOf("StockTransfer.change_repairamount"))&&Object(R.jsx)("i",{className:"ri-edit-box-line hp-mr-2 ",style:{cursor:"pointer",color:"#fc6f03"},onClick:function(){e.getPurchaseStock(Object(i.a)(Object(i.a)({},e.purchaseStockParams),{},{page:1})),e.setPurchaseStockParams(Object(i.a)(Object(i.a)({},e.purchaseStockParams),{},{page:1})),e.getRepairAmountByID(a.id),e.isModelVisible(!0)}}),-1!==(null===(n=e.userAccessList)||void 0===n?void 0:n.indexOf("StockTransfer.delete_repairamount"))&&Object(R.jsx)(c.a,{placement:"topRight",title:"Are you sure to delete this Record?",onConfirm:function(){return e.repairAmountDelete(t.id)},okText:"Yes",cancelText:"No",className:"hp-ml-8",icon:Object(R.jsx)(O.n,{className:"remix-icon hp-text-color-primary-1"}),children:Object(R.jsx)("i",{className:"ri-delete-bin-2-line ",style:{cursor:"pointer",color:"#ff0000"}})})]}),-1!==(null===(l=e.userAccessList)||void 0===l?void 0:l.indexOf("StockTransfer.view_repairamount"))&&Object(R.jsx)("i",{className:"ri-eye-line hp-mr-2 ",style:{cursor:"pointer",color:"#fc6f03"},onClick:function(){e.getRepairAmountByID(a.id),e.isRepairAmountViewModelVisible(!0)}})]})}}],w=l.a.Search,y=e.repairAmountList.map((function(a,t){return Object(i.a)(Object(i.a)({},a),{},{index:(e.reapirAmountParams.page-1)*e.reapirAmountParams.page_size+t+1})}));return Object(R.jsxs)(s.a,{gutter:[12,12],children:[Object(R.jsx)(g.a,{pageTitle:"Repair Amount"}),Object(R.jsx)(o.a,{span:24,children:Object(R.jsxs)(s.a,{gutter:[12,12],className:"hp-ecommerce-app-header ",children:[Object(R.jsx)(o.a,{span:24,xs:24,sm:24,md:14,className:"hp-ecommerce-app-header-search ",children:Object(R.jsx)(w,{placeholder:"Search...",allowClear:!0,onChange:function(a){""==a.target.value&&(e.getRepairAmount(Object(i.a)(Object(i.a)({},e.reapirAmountParams),{},{page:1,search:""})),e.SetRepairAmountParams(Object(i.a)(Object(i.a)({},e.reapirAmountParams),{},{page:1,search:""})))},onSearch:function(a){var t;t=a,e.SetRepairAmountParams(Object(i.a)(Object(i.a)({},e.reapirAmountParams),{},{search:t})),e.getRepairAmount(Object(i.a)(Object(i.a)({},e.reapirAmountParams),{},{search:t}))}})}),-1!==(null===(a=e.userAccessList)||void 0===a?void 0:a.indexOf("StockTransfer.add_repairamount"))&&Object(R.jsx)(o.a,{span:24,xs:8,sm:8,md:6,children:Object(R.jsx)(d.a,{onClick:function(){e.isModelVisible(!0)},className:"hp-w-100 hp-p-12",icon:Object(R.jsx)(x.a,{className:"hp-mr-10"}),children:!v.isMobile&&"Add Repair Amount"})})]})}),Object(R.jsx)(o.a,{span:24,children:Object(R.jsx)(u.a,{children:Object(R.jsxs)(s.a,{className:"hp-mb-12",children:[Object(R.jsx)(o.a,{span:24,children:Object(R.jsx)(p.a,{tip:"Loading...",spinning:e.loading,delay:500,children:Object(R.jsx)(j.a,{columns:f,dataSource:y,scroll:{x:1300},pagination:!1,size:"middle"})})}),Object(R.jsx)(o.a,{span:24,children:Object(R.jsx)(m.a,{size:"small",current:null===(t=e.reapirAmountParams)||void 0===t?void 0:t.page,pageSize:null===(n=e.reapirAmountParams)||void 0===n?void 0:n.page_size,total:e.listCount,showTotal:function(e){return"Total "+e+" items"},showSizeChanger:!0,onChange:function(a,t){e.clearReapirAmountList(),e.SetRepairAmountParams(Object(i.a)(Object(i.a)({},e.reapirAmountParams),{},{page_size:t,page:0==a?1:a})),e.getRepairAmount(Object(i.a)(Object(i.a)({},e.reapirAmountParams),{},{page_size:t,page:0==a?1:a}))},className:"hp-mb-12 hp-mt-24 hp-float-right"})})]})})}),Object(R.jsx)(_,{}),Object(R.jsx)(D,{})]})}))}}]);
//# sourceMappingURL=22.009ed6ec.chunk.js.map