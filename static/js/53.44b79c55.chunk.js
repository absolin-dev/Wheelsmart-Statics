(this["webpackJsonpwheelsmart-admin-react"]=this["webpackJsonpwheelsmart-admin-react"]||[]).push([[53],{535:function(e,a,t){"use strict";t.d(a,"a",(function(){return r}));var i=t(1),s=t(550),c=t(3);function r(e){var a=e.value,t=e.onChange,r=e.onBlur;return Object(c.jsx)(s.a,Object(i.a)(Object(i.a)({},e),{},{onChange:function(a){var i=a.target.value;(/^-?\d*(\.\d*)?$/.test(i)||""===i||"-"===i)&&t({key:e.name,value:i})},onBlur:e.onBlur&&function(){var t=a;"."!==a.charAt(a.length-1)&&"-"!==a||(t=a.slice(0,-1)),r({key:e.name,value:t.replace(/0*(\d+)/,"$1")})}}))}},536:function(e,a,t){"use strict";t.d(a,"a",(function(){return d}));t(0);var i=t(521),s=t(519),c=t(154),r=t(51),l=t(43),n=t(8),o=t(216),p=t(3);function d(e){var a=Object(r.f)(),t=e.pageTitle,d=e.pageText,h=e.goBack,m=e.addModelTile,b=e.addModelTile2,j=e.setIsModalVisible,u=e.setIsModalVisible2;return Object(p.jsx)(i.a,{span:24,className:"hp-mt-12",children:Object(p.jsxs)(s.a,{children:[Object(p.jsxs)(i.a,{span:16,xs:16,md:12,xl:16,children:[h&&Object(p.jsx)(l.b,{to:"#",onClick:function(){a.goBack()},className:"action-icon text-primary  hp-mr-12 hp-d-inline-block",children:Object(p.jsx)(n.d,{className:"remix-icon",size:24})}),Object(p.jsxs)(s.a,{className:"hp-d-inline-block",children:[Object(p.jsx)(i.a,{span:24,children:t&&Object(p.jsx)("h3",{className:"hp-mb-2 hp-mt-4",children:t})}),Object(p.jsx)(i.a,{span:24,children:d&&Object(p.jsx)("p",{className:"hp-mb-0 hp-p1-body",children:d})})]})]}),Object(p.jsx)(i.a,{span:8,xs:8,md:12,xl:8,children:Object(p.jsxs)("div",{className:"hp-float-right hp-d-inline-block",children:[m&&Object(p.jsx)("div",{className:"hp-pl-4 hp-d-inline-block",children:Object(p.jsx)(c.a,{className:"",type:"primary",onClick:function(){return j(!0)},icon:Object(p.jsx)(n.b,{className:"remix-icon",size:22}),children:!o.isMobile&&m})}),b&&Object(p.jsx)("div",{className:"hp-pl-4 hp-d-inline-block",children:Object(p.jsx)(c.a,{className:"hp-pr-12",type:"primary",onClick:function(){return u(!0)},icon:Object(p.jsx)(n.b,{className:"remix-icon",size:22}),children:!o.isMobile&&b})})]})})]})})}},537:function(e,a,t){"use strict";a.a=t.p+"static/media/empty-list.6fd5c5d1.svg"},686:function(e,a,t){"use strict";t.r(a);var i=t(10),s=t(1),c=t(0),r=t(32),l=t(550),n=t(519),o=t(521),p=t(154),d=t(531),h=t(337),m=t(532),b=t(340),j=t(202),u=t(350),x=t(235),O=t(361),k=t(343),v=t(357),f=t(536),R=t(537),g=t(216),D=t(28),N=t(183),M=t(530),w=t(345),_=t(344),y=t(19),S=t.n(y),Y=t(3);var C=Object(r.b)((function(e){return{stockRepairViewModel:e.stockRequest.stockRepairViewModel}}),{isRepairViewModelVisible:D.F,getStockTransferRepairById:D.t})((function(e){var a,t,i,s=e.value;return e.stockType,Object(Y.jsx)(o.a,{span:24,xs:24,md:12,xl:8,xxl:6,className:"hp-mb-32",children:Object(Y.jsx)(d.a,{className:"hp-border-color-black-40 hp-card-6 hp-eCommerceCardOne hp-eCommerceCardOne-wishlist",children:Object(Y.jsx)(n.a,{children:Object(Y.jsxs)(o.a,{span:24,children:[Object(Y.jsxs)(o.a,{className:"hp-mb-16 hp-mt-0",children:[Object(Y.jsx)("p",{className:"hp-mb-0 hp-caption hp-font-weight-600 hp-text-color-black-80 hp-text-color-dark-80 hp-p1-body",children:"Stock Repair Details"}),Object(Y.jsxs)("p",{className:"hp-mb-4 hp-text-color-black-100 hp-mb-16 hp-text-color-dark-0 hp-p1-body hp-font-weight-500",children:["Doc No : ",s.code]}),Object(Y.jsx)("p",{className:"hp-mb-0 hp-caption hp-font-weight-400 hp-text-color-black-80 hp-text-color-dark-30",children:"Vehicle Number"}),null!==s.purchase?Object(Y.jsx)("p",{className:"hp-mb-4 hp-text-color-black-100 hp-mb-16 hp-text-color-dark-0 hp-p1-body hp-font-weight-500",children:null===(a=s.purchase)||void 0===a||null===(t=a.vehicle)||void 0===t?void 0:t.vehicleno}):Object(Y.jsx)("p",{className:"hp-mb-4 hp-text-color-black-100 hp-mb-16 hp-text-color-dark-0 hp-p1-body hp-font-weight-500",children:"None"})]}),Object(Y.jsxs)(o.a,{span:24,children:[Object(Y.jsx)("p",{className:"hp-mb-0 hp-caption hp-font-weight-400 hp-mb-5 hp-text-color-black-80 hp-text-color-dark-30",children:"Out Time"}),Object(Y.jsx)("p",{className:"hp-mb-4 hp-text-color-black-100 hp-mb-10 hp-text-color-dark-0 hp-p1-body hp-font-weight-500",children:S()(s.out_time).format("DD-MM-YYYY, h:mm:ss a")})]}),Object(Y.jsxs)(o.a,{span:24,children:[Object(Y.jsx)("p",{className:"hp-mb-0 hp-caption hp-font-weight-400 hp-mb-5 hp-text-color-black-80 hp-text-color-dark-30",children:"In Time"}),null!=s.in_time?Object(Y.jsx)("p",{className:"hp-mb-4 hp-text-color-black-100 hp-mb-0 hp-text-color-dark-0 hp-p1-body hp-font-weight-500",children:S()(s.in_time).format("DD-MM-YYYY, h:mm:ss a")}):Object(Y.jsx)("p",{className:"hp-mb-4 hp-text-color-black-100 hp-mb-10 hp-text-color-dark-0 hp-p1-body hp-font-weight-500",children:"None"})]}),Object(Y.jsxs)(n.a,{gutter:[24,24],className:"hp-mb-10",children:[Object(Y.jsx)(o.a,{span:8,children:Object(Y.jsx)(M.a,{size:55,icon:Object(Y.jsx)(w.a,{})})}),Object(Y.jsxs)(o.a,{span:16,children:[Object(Y.jsx)("p",{className:"hp-mb-0 hp-caption hp-font-weight-400 hp-mb-5 hp-text-color-black-80 hp-text-color-dark-30",children:"From Counter"}),Object(Y.jsx)("p",{className:"hp-mb-4 hp-text-color-black-100 hp-mb-0 hp-text-color-dark-0 hp-p1-body hp-font-weight-500",children:null===(i=s.counter)||void 0===i?void 0:i.name})]})]}),Object(Y.jsxs)(n.a,{gutter:[24,24],className:"hp-mb-10",children:[Object(Y.jsx)(o.a,{span:8,children:Object(Y.jsx)(M.a,{className:"hp-bg-color-danger-4",size:55,icon:Object(Y.jsx)(_.a,{className:"hp-text-color-danger-1"})})}),Object(Y.jsxs)(o.a,{span:16,children:[Object(Y.jsx)("p",{className:"hp-mb-0 hp-caption hp-font-weight-400 hp-mb-5 hp-text-color-black-80 hp-text-color-dark-30",children:"To Mechanic"}),Object(Y.jsxs)("p",{className:"hp-mb-4 hp-text-color-black-100 hp-mb-0 hp-text-color-dark-0 hp-p1-body hp-font-weight-500",children:[s.mechanicname," (",s.mobile,")"]})]})]}),Object(Y.jsx)(n.a,{gutter:[8,8],children:Object(Y.jsx)(o.a,{span:24,className:"hp-w-100",children:Object(Y.jsx)(p.a,{block:!0,onClick:function(){e.getStockTransferRepairById(s.id),e.isRepairViewModelVisible(!0)},className:"hp-px-12 hp-btn-bg-color",children:"View"})})})]})})})},s.id)})),T=(t(533),t(8)),V=t(524),A=t(538),I=t(526);var P=Object(r.b)((function(e){var a=e.stockRequest,t=e.system;return{stockRepairViewModel:a.stockRepairViewModel,stockTransferRepairDetails:a.stockTransferRepairDetails,userAccessList:t.userAccessList}}),{isRepairViewModelVisible:D.F,stockTransferRepair:D.fb})((function(e){var a,t,s,r,l,d,h,b,j,u,x,O,k,v=Object(c.useState)({}),f=Object(i.a)(v,2),R=(f[0],f[1],V.a.useForm()),g=Object(i.a)(R,1)[0];var D=[{title:"FROM COUNTER",description:null==(null===(a=e.stockTransferRepairDetails.counter)||void 0===a?void 0:a.name)?"none":null===(t=e.stockTransferRepairDetails.counter)||void 0===t?void 0:t.name},{title:"MECHANIC NAME",description:null==e.stockTransferRepairDetails.mechanicname?"none":e.stockTransferRepairDetails.mechanicname},{title:"MECHANIC MOBILE",description:null==e.stockTransferRepairDetails.mobile?"none":e.stockTransferRepairDetails.mobile},{title:"VEHICLE NUMBER",description:null==(null===(s=e.stockTransferRepairDetails.purchase)||void 0===s||null===(r=s.vehicle)||void 0===r?void 0:r.vehicleno)?"none":null===(l=e.stockTransferRepairDetails.purchase)||void 0===l||null===(d=l.vehicle)||void 0===d?void 0:d.vehicleno},{title:"VERSION INFO",description:null==(null===(h=e.stockTransferRepairDetails.purchase)||void 0===h||null===(b=h.vehicle)||void 0===b||null===(j=b.version)||void 0===j?void 0:j.name)?"none":null===(u=e.stockTransferRepairDetails.purchase)||void 0===u||null===(x=u.vehicle)||void 0===x||null===(O=x.version)||void 0===O?void 0:O.name},{title:"OUT TIME",description:null==e.stockTransferRepairDetails.out_time?"none":S()(e.stockTransferRepairDetails.out_time).format("DD-MM-YYYY, h:mm:ss a")},{title:"IN TIME",description:null==e.stockTransferRepairDetails.in_time?"none":S()(e.stockTransferRepairDetails.in_time).format("DD-MM-YYYY, h:mm:ss a")},{title:"DESCRIPTION",description:null==e.stockTransferRepairDetails.description?"none":e.stockTransferRepairDetails.description}],N=function(){return Object(Y.jsx)(c.Fragment,{children:Object(Y.jsx)(A.a,{disabled:null!=e.stockTransferRepairDetails.in_time,placement:"topRight",title:"Are you sure to Submit this Record?",onConfirm:function(){return e.stockTransferRepair({id:e.stockTransferRepairDetails.id}),void g.resetFields()},okText:"Yes",cancelText:"No",icon:Object(Y.jsx)(T.n,{className:"remix-icon hp-text-color-primary-1"}),children:Object(Y.jsx)(p.a,{block:!0,className:"hp-px-12",type:"primary",disabled:null!=e.stockTransferRepairDetails.in_time,children:"Received"})})})},M=Object(Y.jsx)("h5",{className:"modal-title",children:"Stock Transfer Repair View"});return Object(Y.jsx)(I.a,{visible:e.stockRepairViewModel,title:M,onCancel:function(){g.resetFields(),e.isRepairViewModelVisible(!1),e.isRepairViewModelVisible(!1)},className:"hp-modal-p-24",footer:Object(Y.jsx)(Y.Fragment,{children:-1!==(null===(k=e.userAccessList)||void 0===k?void 0:k.indexOf("StockTransfer.change_repairvechicle"))&&Object(Y.jsx)(n.a,{justify:"center",children:Object(Y.jsx)(o.a,{span:12,className:"hp-pl-4",children:Object(Y.jsx)(N,{})})})}),centered:!0,closeIcon:Object(Y.jsx)(T.k,{className:"remix-icon text-color-black-100",size:24}),width:516,children:Object(Y.jsx)(n.a,{children:Object(Y.jsx)(o.a,{span:24,md:24,children:Object(Y.jsx)(m.b,{grid:{gutter:16,xs:1,sm:2,md:3,lg:3,xl:3,xxl:3},dataSource:D,renderItem:function(e){return Object(Y.jsx)(m.b.Item,{children:Object(Y.jsx)(m.b.Item.Meta,{title:Object(Y.jsx)("span",{children:e.title}),description:Object(Y.jsx)("span",{children:e.description})})})}})})})})})),F=t(539),L=t(676);t(37);var z=Object(r.b)((function(e){var a=e.stockRequest,t=e.system;return{noofpages:a.noofpages,stockRepairlistCount:a.stockRepairlistCount,stockRepairViewModel:a.stockRepairViewModel,stockRepairList:a.stockRepairList,addRepairModel:a.addRepairModel,stockRepairparams:a.stockRepairparams,userAccessList:t.userAccessList}}),{getStockTransferRepairById:D.t,isRepairViewModelVisible:D.F,isRepairModelVisible:D.E,stockRepairEdit:D.V,stockRepairDelete:D.U,getStockRepairList:D.q,setStockRepairParams:D.N})((function(e){var a=e.stockRepairList;Object(c.useEffect)((function(){}),[]);var t="hp-p1-body hp-text-color-black-100 hp-text-color-dark-0 hp-font-weight-600 ",i=[{title:"S.No",width:"5%",dataIndex:"index"},{title:"Code",render:function(e){return Object(Y.jsx)("span",{className:t,children:e.code})},width:"5%"},{title:"Mechanic Name",width:"10%",render:function(e){return Object(Y.jsx)("span",{className:t,children:e.mechanicname})}},{title:"Mechanic Mobile",width:"10%",render:function(e){return Object(Y.jsx)("span",{className:t,children:e.mobile})}},{title:"Out Time",width:"20%",render:function(e){return Object(Y.jsx)("span",{className:t,children:S()(null===e||void 0===e?void 0:e.out_time).format("DD-MM-YYYY, h:mm:ss a")})}},{title:"Out Time",width:"20%",render:function(e){return Object(Y.jsx)("span",{className:t,children:S()(null===e||void 0===e?void 0:e.in_time).format("DD-MM-YYYY, h:mm:ss a")})}},{title:"Vehicle No",width:"10%",render:function(e){var a,i;return Object(Y.jsx)("span",{className:t,children:null===(a=e.purchase)||void 0===a||null===(i=a.vehicle)||void 0===i?void 0:i.vehicleno})}},{title:"Description",width:"10%",render:function(e){return Object(Y.jsx)("span",{className:t,children:e.description})}},{title:"Actions",key:"action",width:"10%",render:function(a,t){var i,s;return Object(Y.jsx)(F.b,{size:"middle",children:Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)("i",{className:"ri-eye-line hp-mr-2 ",style:{cursor:"pointer",color:"#fc6f03"},onClick:function(){e.getStockTransferRepairById(a.id),e.isRepairViewModelVisible(!0)}}),null==a.in_time&&Object(Y.jsxs)(Y.Fragment,{children:[-1!==(null===(i=e.userAccessList)||void 0===i?void 0:i.indexOf("StockTransfer.change_repairvechicle"))&&Object(Y.jsx)("i",{className:"ri-edit-box-line hp-mr-2 ",style:{cursor:"pointer",color:"#fc6f03"},onClick:function(){e.stockRepairEdit(a),e.isRepairModelVisible(!0)}}),-1!==(null===(s=e.userAccessList)||void 0===s?void 0:s.indexOf("StockTransfer.delete_repairvechicle"))&&Object(Y.jsx)(A.a,{placement:"topRight",title:"Are you sure to delete this Record?",onConfirm:function(){return e.stockRepairDelete(a.id)},okText:"Yes",cancelText:"No",className:"hp-ml-8",icon:Object(Y.jsx)(T.n,{className:"remix-icon hp-text-color-primary-1"}),children:Object(Y.jsx)("i",{className:"ri-delete-bin-2-line ",style:{cursor:"pointer",color:"#ff0000"}})})]})]})})}}],r=a.map((function(a,t){return Object(s.a)(Object(s.a)({},a),{},{index:(e.stockRepairparams.page-1)*e.stockRepairparams.page_size+(t+1)})}));return Object(Y.jsx)(n.a,{className:"hp-mb-12",children:Object(Y.jsx)(o.a,{span:24,children:Object(Y.jsx)(L.a,{columns:i,rowClassName:"hp-btn-bg-color-none",dataSource:r,scroll:{x:500},pagination:!1,size:"middle"})})})})),E=t(215),B=t(535),q=t(15);var H=Object(r.b)((function(e){var a=e.stockRequest,t=e.mini;return{repairData:a.repairData,addRepairModel:a.addRepairModel,purchaseDetails:a.purchaseDetails,purchaseAvaliableStockList:t.purchaseAvaliableStockList,purchaseAvailableStockParams:t.purchaseAvailableStockParams}}),{isRepairModelVisible:D.E,RepairInputChangeValue:D.e,stockRepairAdd:D.T,setPurchaseAvailableStockParams:q.dc,getPurchaseAvailableStock:q.ib,getPurchaseById:D.n,getFormulaExecuter:D.m})((function(e){var a,t,r,d,h,m,b,j=V.a.useForm(),u=Object(i.a)(j,1)[0],x=E.a.Option;function O(a){e.RepairInputChangeValue({key:a.target.name,value:a.target.value})}Object(c.useEffect)((function(){e.getPurchaseAvailableStock(Object(s.a)({},e.purchaseAvailableStockParams))}),[]);var k=function(){u.resetFields(),e.isRepairModelVisible(!1)},v=function(){return null==e.repairData.id||0==e.repairData.id?Object(Y.jsx)(c.Fragment,{children:Object(Y.jsx)(p.a,{onClick:function(){u.submit()},type:"primary",block:!0,children:"Add"})}):Object(Y.jsx)(c.Fragment,{children:Object(Y.jsx)(p.a,{type:"primary",onClick:function(){u.submit()},block:!0,children:"Update"})})},f=function(){return Object(Y.jsx)(c.Fragment,{children:Object(Y.jsx)(p.a,{onClick:function(){k()},type:"primary",block:!0,ghost:!0,children:"Cancel"})})},R=Object(Y.jsxs)("h5",{className:"modal-title",children:[null==e.repairData.id||0==e.repairData.id?"Add":"Update"," ","Repair"]});return Object(c.useEffect)((function(){var a,t;u.setFieldsValue({mechanicname:e.repairData.mechanicname,mobile:e.repairData.mobile,purchase_id:e.repairData.purchase_id,vehicleno:null===(a=e.purchaseDetails)||void 0===a||null===(t=a.vehicle)||void 0===t?void 0:t.vehicleno,description:e.repairData.description})}),[e.repairData]),Object(Y.jsx)(I.a,{visible:e.addRepairModel,title:R,onCancel:function(){k(),u.resetFields(),e.isRepairModelVisible(!1)},className:"hp-modal-p-24",footer:Object(Y.jsxs)(n.a,{justify:"center",children:[Object(Y.jsx)(o.a,{span:12,className:"hp-pr-4",children:Object(Y.jsx)(f,{})}),Object(Y.jsx)(o.a,{span:12,className:"hp-pl-4",children:Object(Y.jsx)(v,{})})]}),centered:!0,closeIcon:Object(Y.jsx)(T.k,{className:"remix-icon text-color-black-100",size:24}),width:616,children:Object(Y.jsx)(V.a,{layout:"vertical",form:u,onFinish:function(){null==e.repairData.id?function(){var a,t,i,s,c={id:0,mechanicname:null===(a=e.repairData)||void 0===a?void 0:a.mechanicname,mobile:null===(t=e.repairData)||void 0===t?void 0:t.mobile,purchase_id:null===(i=e.repairData)||void 0===i?void 0:i.purchase_id,description:null===(s=e.repairData)||void 0===s?void 0:s.description};e.stockRepairAdd(c)}():function(){var a,t,i,s,c,r={id:null===(a=e.repairData)||void 0===a?void 0:a.id,mechanicname:null===(t=e.repairData)||void 0===t?void 0:t.mechanicname,mobile:null===(i=e.repairData)||void 0===i?void 0:i.mobile,purchase_id:null===(s=e.repairData)||void 0===s?void 0:s.purchase_id,description:null===(c=e.repairData)||void 0===c?void 0:c.description};e.stockRepairAdd(r)}()},children:Object(Y.jsxs)(n.a,{children:[Object(Y.jsx)(o.a,{md:12,xs:24,className:"hp-pr-sm-0 hp-pr-12",children:Object(Y.jsx)(V.a.Item,{label:"Mechanic Name",name:"mechanicname",rules:[{required:!0,message:"Please Input Mechanic Name"},{pattern:new RegExp(/^[a-zA-Z][a-zA-Z\s]+$/i),message:"field does not accept numbers"}],hasFeedback:!0,children:Object(Y.jsx)(l.a,{id:"mechanicname",name:"mechanicname",style:{width:"100%"},placeholder:"Mechanic Name",value:e.repairData.mechanicname,onChange:O})})}),Object(Y.jsx)(o.a,{md:12,xs:24,className:"hp-pr-sm-0 hp-pr-12",children:Object(Y.jsx)(V.a.Item,{label:"Mobile Number",name:"mobile",rules:[{required:!0,message:"Please Input Mobile Number"}],getValueProps:function(){},hasFeedback:!0,children:Object(Y.jsx)(B.a,{id:"mobile",name:"mobile",maxLength:10,style:{width:"100%"},placeholder:"Mobile Number",value:null==e.repairData.mobile?"":null===(a=e.repairData)||void 0===a?void 0:a.mobile,onChange:e.RepairInputChangeValue})})}),null==e.repairData.id?Object(Y.jsx)(o.a,{md:12,xs:24,className:"hp-pr-sm-0 hp-pr-12",children:Object(Y.jsx)(V.a.Item,{label:"Vehicle Number",name:"vehicle_id",rules:[{required:!0,message:"Please Input Vehicle Number"}],hasFeedback:!0,children:Object(Y.jsx)(E.a,{showSearch:!0,placeholder:"Select vehicle ",optionFilterProp:"vehicle",filterOption:!1,onSearch:function(a){e.setPurchaseAvailableStockParams(Object(s.a)(Object(s.a)({},e.purchaseAvailableStockParams),{},{page:1,search:a})),e.getPurchaseAvailableStock(Object(s.a)(Object(s.a)({},e.purchaseAvailableStockParams),{},{page:1,search:a}))},onChange:function(a){var t;t=a,e.purchaseAvaliableStockList.forEach((function(a){a.id==t&&e.getPurchaseById(a)})),e.RepairInputChangeValue({key:"purchase_id",value:a})},onPopupScroll:function(){e.purchaseAvailableStockParams.page<e.purchaseAvailableStockParams.no_of_pages&&(e.setPurchaseAvailableStockParams(Object(s.a)(Object(s.a)({},e.purchaseAvailableStockParams),{},{page:e.purchaseAvailableStockParams.page+1})),e.getPurchaseAvailableStock(Object(s.a)(Object(s.a)({},e.purchaseAvailableStockParams),{},{page:e.purchaseAvailableStockParams.page+1})))},value:null==e.repairData.vehicle_id?"":null===(t=e.repairData)||void 0===t?void 0:t.vehicle_id,children:e.purchaseAvaliableStockList.map((function(e,a){return Object(Y.jsxs)(x,{value:e.id,children:[null===e||void 0===e?void 0:e.vehicle.vehicleno," - ",null===e||void 0===e?void 0:e.code]},a)}))})})}):Object(Y.jsx)(o.a,{md:12,xs:24,className:"hp-pr-sm-0 hp-pr-12",children:Object(Y.jsx)(V.a.Item,{label:"Vehicle Number",name:"vehicleno",children:Object(Y.jsx)(l.a,{id:"vehicleno",name:"vehicleno",style:{width:"100%"},placeholder:"Vehicle Number",value:null===(r=e.purchaseDetails)||void 0===r||null===(d=r.vehicle)||void 0===d?void 0:d.vehicleno,disabled:!0})})}),Object(Y.jsx)(o.a,{md:12,xs:24,className:"hp-pr-sm-0 hp-pr-12",children:Object(Y.jsx)(V.a.Item,{label:"Vehicle Info",children:Object(Y.jsx)(l.a,{id:"vehicleVersion",name:"vehicleVersion",style:{width:"100%"},placeholder:"Vehicle Info",value:null===(h=e.purchaseDetails)||void 0===h||null===(m=h.vehicle)||void 0===m||null===(b=m.version)||void 0===b?void 0:b.name,disabled:!0})})}),Object(Y.jsx)(o.a,{md:24,xs:24,className:"hp-pr-sm-0 hp-pr-12",children:Object(Y.jsx)(V.a.Item,{label:"Remarks",name:"description",rules:[{required:!0,message:"Please Input Description"}],hasFeedback:!0,children:Object(Y.jsx)(l.a.TextArea,{id:"description",name:"description",style:{width:"100%"},placeholder:"Write Remarks...",value:e.repairData.description,onChange:O})})})]})})})})),U=t(527),$=t(677),J=new Date;J.getFullYear(),J.getMonth();var Z=Object(r.b)((function(e){var a=e.stockRequest;return e.mini,{stockRepairDrawer:a.stockRepairDrawer,stockRepairparams:a.stockRepairparams}}),{getStockRepairList:D.q,isRepairDrawerVisible:D.D,setStockRepairParams:D.N,RepairFilterInputChangeValue:D.d})((function(e){var a,t=V.a.useForm(),r=Object(i.a)(t,1)[0];Object(c.useEffect)((function(){}),[]);function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{startDate:!1,endDate:!1},a=e.startDate,t=e.endDate;return function(e){var i=!0,s=!0;return a&&(i=e&&e<S()(a+" 00:00:01","YYYY-MM-DD HH:mm:ss")),t&&(s=e&&e>S()(S()(t).format("YYYY-MM-DD")+" 23:59:59","YYYY-MM-DD HH:mm:ss")),a&&i||t&&s}}return Object(c.useEffect)((function(){var a,t;r.setFieldsValue({start_date:null===(a=e.stockRepairparams)||void 0===a?void 0:a.start_date,end_date:null===(t=e.stockRepairparams)||void 0===t?void 0:t.end_date})}),[e.stockRepairparams]),Object(Y.jsx)(n.a,{gutter:[24,24],children:Object(Y.jsx)(o.a,{span:24,children:Object(Y.jsx)(U.a,{title:"Filters",width:420,onClose:function(){e.isRepairDrawerVisible(!1)},placement:"right",visible:e.stockRepairDrawer,bodyStyle:{paddingBottom:10},children:Object(Y.jsxs)(V.a,{form:r,layout:"vertical",name:"basic",initialValues:{remember:!0},onFinish:function(){e.setStockRepairParams(Object(s.a)(Object(s.a)({},e.stockRepairparams),{},{start_date:e.stockRepairparams.start_date,end_date:e.stockRepairparams.end_date,page:1,search:"",page_size:10})),e.getStockRepairList(Object(s.a)(Object(s.a)({},e.stockRepairparams),{},{start_date:null!=e.stockRepairparams.start_date&&""!=e.stockRepairparams.start_date?S()(e.stockRepairparams.start_date).format("YYYY-MM-DD"):"",end_date:null!=e.stockRepairparams.end_date&&""!=e.stockRepairparams.end_date?S()(e.stockRepairparams.end_date).add(1,"days").format("YYYY-MM-DD"):"",page:1,search:"",page_size:10})),e.isRepairDrawerVisible(!1)},children:[Object(Y.jsxs)(n.a,{gutter:[12,12],children:[Object(Y.jsx)(o.a,{span:12,children:Object(Y.jsx)(V.a.Item,{label:"From Date",name:"start_date",children:Object(Y.jsx)($.a,{style:{width:"100%"},picker:"date",placeholder:"Choose Date",format:"DD-MM-YYYY",disabledDate:l({endDate:new Date}),onChange:function(a){e.RepairFilterInputChangeValue({key:"start_date",value:null==a?"":a}),null==a&&e.RepairFilterInputChangeValue({key:"end_date",value:""})}})})}),Object(Y.jsx)(o.a,{span:12,children:Object(Y.jsx)(V.a.Item,{label:"To Date",name:"end_date",children:Object(Y.jsx)($.a,{style:{width:"100%"},picker:"date",placeholder:"Choose Date",format:"DD-MM-YYYY",disabledDate:l({endDate:S()().format("YYYY-MM-DD"),startDate:S()(null===(a=e.stockRepairparams)||void 0===a?void 0:a.start_date).format("YYYY-MM-DD")}),disabled:null==e.stockRepairparams.start_date||""==e.stockRepairparams.start_date,onChange:function(a){e.RepairFilterInputChangeValue({key:"end_date",value:null==a?"":a})}})})})]}),Object(Y.jsxs)(n.a,{gutter:[12,12],children:[Object(Y.jsx)(o.a,{md:12,children:Object(Y.jsx)(p.a,{block:!0,type:"secondary",className:"hp-submit-btn hp-mt-10",onClick:function(){e.setStockRepairParams({start_date:"",end_date:"",page:1,search:"",page_size:10}),e.getStockRepairList({start_date:"",end_date:"",page:1,search:"",page_size:10})},htmlType:"button",children:"Clear"})}),Object(Y.jsx)(o.a,{md:12,children:Object(Y.jsx)(p.a,{block:!0,type:"primary",className:"hp-submit-btn hp-mt-10",onClick:function(){r.submit()},children:"Apply"})})]})]})})})})}));a.default=Object(r.b)((function(e){var a=e.stockRequest,t=e.system;return{stockRepairList:a.stockRepairList,stockRepairparams:a.stockRepairparams,noofpages:a.noofpages,stockRepairlistCount:a.stockRepairlistCount,loading:a.loading,userAccessList:t.userAccessList}}),{getStockRepairList:D.q,setStockRepairParams:D.N,isRepairModelVisible:D.E,isRepairDrawerVisible:D.D,getReportList:N.f})((function(e){var a,t,r,D,N,M,w,_=l.a.Search;Object(c.useEffect)((function(){e.getStockRepairList(Object(s.a)(Object(s.a)({},e.stockRepairparams),{},{page:1,search:"",page_size:10})),e.setStockRepairParams(Object(s.a)(Object(s.a)({},e.stockRepairparams),{},{page:1,search:"",page_size:10}))}),[]);var y=Object(c.useState)(!1),S=Object(i.a)(y,2),T=S[0],V=S[1];function A(a,t){e.setStockRepairParams(Object(s.a)(Object(s.a)({},e.stockRepairparams),{},{page_size:t,page:0==a?1:a})),e.getStockRepairList(Object(s.a)(Object(s.a)({},e.stockRepairparams),{},{page_size:t,page:0==a?1:a}))}function I(e){return"Total "+e+" items"}return Object(Y.jsxs)(n.a,{gutter:[12,12],children:[Object(Y.jsx)(f.a,{pageTitle:"Stock Transfer Repairs",goBack:!1}),Object(Y.jsx)(o.a,{span:24,children:Object(Y.jsxs)(n.a,{gutter:[12,12],className:"hp-ecommerce-app-header ",children:[Object(Y.jsx)(o.a,{span:24,xs:24,sm:24,md:-1!==(null===(a=e.userAccessList)||void 0===a?void 0:a.indexOf("Purchase.export_purchase"))?12:15,className:"hp-ecommerce-app-header-search ",children:Object(Y.jsx)(_,{placeholder:"Search for date, doc, number, customer, counter, vehicle",allowClear:!0,onChange:function(a){""==a.target.value&&(e.getStockRepairList(Object(s.a)(Object(s.a)({},e.stockRepairparams),{},{page:1,search:""})),e.setStockRepairParams(Object(s.a)(Object(s.a)({},e.stockRepairparams),{},{page:1,search:""})))},onSearch:function(a){var t;t=a,e.setStockRepairParams(Object(s.a)(Object(s.a)({},e.stockRepairparams),{},{search:t})),e.getStockRepairList(Object(s.a)(Object(s.a)({},e.stockRepairparams),{},{search:t}))}})}),Object(Y.jsx)(o.a,{span:24,xs:4,sm:4,md:3,children:Object(Y.jsx)(p.a,{onClick:function(){e.isRepairDrawerVisible(!0)},className:"hp-w-100 hp-p-10",icon:Object(Y.jsx)(u.a,{className:"hp-mr-10"}),children:!g.isMobile&&"Filter"})}),-1!==(null===(t=e.userAccessList)||void 0===t?void 0:t.indexOf("StockTransfer.add_repairvechicle"))&&Object(Y.jsx)(o.a,{span:24,xs:4,sm:4,md:4,children:Object(Y.jsx)(p.a,{onClick:function(){e.isRepairModelVisible(!0)},className:"hp-w-100 hp-p-10",icon:Object(Y.jsx)(x.a,{className:"hp-mr-10"}),children:!g.isMobile&&"Add Repair"})}),-1!==(null===(r=e.userAccessList)||void 0===r?void 0:r.indexOf("StockTransfer.export_repairvechicle"))&&Object(Y.jsx)(o.a,{span:24,xs:4,sm:4,md:3,children:Object(Y.jsx)(p.a,{onClick:function(){e.getReportList({objData:{file_format:0,model_name:"RepairVechicle"},ParamsData:Object(s.a)(Object(s.a)({},e.stockRepairparams),{},{start_date:null!=e.stockRepairparams.start_date&&""!=e.stockRepairparams.start_date?moment(e.stockRepairparams.start_date).format("YYYY-MM-DD"):"",end_date:null!=e.stockRepairparams.end_date&&""!=e.stockRepairparams.end_date?moment(e.stockRepairparams.end_date).add(1,"days").format("YYYY-MM-DD"):""})})},className:"hp-w-100 hp-p-10",icon:Object(Y.jsx)(O.a,{className:"hp-mr-10"}),children:!g.isMobile&&"Export"})}),Object(Y.jsx)(o.a,{span:24,xs:6,sm:5,md:1,children:Object(Y.jsx)(p.a,{className:"hp-w-100 hp-p-12",icon:Object(Y.jsx)(k.a,{}),onClick:function(){return V(!1)}})}),Object(Y.jsx)(o.a,{span:24,xs:6,sm:5,md:1,children:Object(Y.jsx)(p.a,{className:"hp-w-100 hp-p-12",icon:Object(Y.jsx)(v.a,{}),onClick:function(){return V(!0)}})})]})}),Object(Y.jsx)(o.a,{span:24,xs:24,className:"hp-purchase-app-content",productListToggle:T,setProductListToggle:V,children:Object(Y.jsx)(d.a,{children:Object(Y.jsx)(h.a,{tip:"loading",spinning:e.loading,delay:500,children:0!==e.stockRepairList.length?Object(Y.jsx)(Y.Fragment,{children:T?Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(z,{stockTransferList:e.stockRepairList})," ",Object(Y.jsx)(b.a,{size:"small",current:null===(M=e.stockRepairparams)||void 0===M?void 0:M.page,pageSize:null===(w=e.stockRepairparams)||void 0===w?void 0:w.page_size,total:e.stockRepairlistCount,showTotal:I,showSizeChanger:!0,onChange:A,className:"hp-mb-12 hp-mt-24 hp-float-right"})]}):Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(m.b,{dataSource:e.stockRepairList,renderItem:function(e){return Object(Y.jsx)(C,{value:e})}}),Object(Y.jsx)(b.a,{size:"small",current:null===(D=e.stockRepairparams)||void 0===D?void 0:D.page,pageSize:null===(N=e.stockRepairparams)||void 0===N?void 0:N.page_size,total:e.stockRepairlistCount,showTotal:I,showSizeChanger:!0,onChange:A,className:"hp-mb-12 hp-mt-24 hp-float-right"})]})}):Object(Y.jsx)(d.a,{children:Object(Y.jsx)(j.a,{className:"hp-m-32",image:R.a,imageStyle:{height:160},description:Object(Y.jsx)("h5",{children:"Your Stock Transfer Repair list is empty"})})})})})}),Object(Y.jsx)(P,{}),Object(Y.jsx)(H,{}),Object(Y.jsx)(Z,{})]})}))}}]);
//# sourceMappingURL=53.44b79c55.chunk.js.map