(this["webpackJsonpwheelsmart-admin-react"]=this["webpackJsonpwheelsmart-admin-react"]||[]).push([[18],{535:function(e,a,n){"use strict";n.d(a,"a",(function(){return s}));var t=n(1),r=n(550),i=n(3);function s(e){var a=e.value,n=e.onChange,s=e.onBlur;return Object(i.jsx)(r.a,Object(t.a)(Object(t.a)({},e),{},{onChange:function(a){var t=a.target.value;(/^-?\d*(\.\d*)?$/.test(t)||""===t||"-"===t)&&n({key:e.name,value:t})},onBlur:e.onBlur&&function(){var n=a;"."!==a.charAt(a.length-1)&&"-"!==a||(n=a.slice(0,-1)),s({key:e.name,value:n.replace(/0*(\d+)/,"$1")})}}))}},536:function(e,a,n){"use strict";n.d(a,"a",(function(){return d}));n(0);var t=n(521),r=n(519),i=n(154),s=n(51),c=n(43),l=n(8),o=n(216),u=n(3);function d(e){var a=Object(s.f)(),n=e.pageTitle,d=e.pageText,m=e.goBack,p=e.addModelTile,h=e.addModelTile2,j=e.setIsModalVisible,b=e.setIsModalVisible2;return Object(u.jsx)(t.a,{span:24,className:"hp-mt-12",children:Object(u.jsxs)(r.a,{children:[Object(u.jsxs)(t.a,{span:16,xs:16,md:12,xl:16,children:[m&&Object(u.jsx)(c.b,{to:"#",onClick:function(){a.goBack()},className:"action-icon text-primary  hp-mr-12 hp-d-inline-block",children:Object(u.jsx)(l.d,{className:"remix-icon",size:24})}),Object(u.jsxs)(r.a,{className:"hp-d-inline-block",children:[Object(u.jsx)(t.a,{span:24,children:n&&Object(u.jsx)("h3",{className:"hp-mb-2 hp-mt-4",children:n})}),Object(u.jsx)(t.a,{span:24,children:d&&Object(u.jsx)("p",{className:"hp-mb-0 hp-p1-body",children:d})})]})]}),Object(u.jsx)(t.a,{span:8,xs:8,md:12,xl:8,children:Object(u.jsxs)("div",{className:"hp-float-right hp-d-inline-block",children:[p&&Object(u.jsx)("div",{className:"hp-pl-4 hp-d-inline-block",children:Object(u.jsx)(i.a,{className:"",type:"primary",onClick:function(){return j(!0)},icon:Object(u.jsx)(l.b,{className:"remix-icon",size:22}),children:!o.isMobile&&p})}),h&&Object(u.jsx)("div",{className:"hp-pl-4 hp-d-inline-block",children:Object(u.jsx)(i.a,{className:"hp-pr-12",type:"primary",onClick:function(){return b(!0)},icon:Object(u.jsx)(l.b,{className:"remix-icon",size:22}),children:!o.isMobile&&h})})]})})]})})}},537:function(e,a,n){"use strict";a.a=n.p+"static/media/empty-list.6fd5c5d1.svg"},538:function(e,a,n){"use strict";var t=n(9),r=n(10),i=n(181),s=n(11),c=n.n(s),l=n(52),o=n(23),u=n(0),d=n(154),m=n(182),p=n(83),h=n(84),j=n(140),b=n(283),v=n(262),O=n(263),x=n(38),g=void 0,f=function(e,a){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(n[t]=e[t]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(t=Object.getOwnPropertySymbols(e);r<t.length;r++)a.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(n[t[r]]=e[t[r]])}return n},D=u.forwardRef((function(e,a){var n=u.useContext(p.b).getPrefixCls,i=Object(l.a)(!1,{value:e.visible,defaultValue:e.defaultVisible}),s=Object(r.a)(i,2),D=s[0],I=s[1],y=function(a,n){var t;I(a,!0),null===(t=e.onVisibleChange)||void 0===t||t.call(e,a,n)},C=function(e){y(!1,e)},N=function(a){var n;return null===(n=e.onConfirm)||void 0===n?void 0:n.call(g,a)},w=function(a){var n;y(!1,a),null===(n=e.onCancel)||void 0===n||n.call(g,a)},M=e.prefixCls,A=e.placement,_=e.children,E=e.overlayClassName,k=f(e,["prefixCls","placement","children","overlayClassName"]),Y=n("popover",M),F=n("popconfirm",M),V=c()(F,E),P=u.createElement(h.a,{componentName:"Popconfirm",defaultLocale:j.a.Popconfirm},(function(a){return function(a,r){var i=e.okButtonProps,s=e.cancelButtonProps,c=e.title,l=e.cancelText,o=e.okText,p=e.okType,h=e.icon,j=e.showCancel,b=void 0===j||j;return u.createElement("div",{className:"".concat(a,"-inner-content")},u.createElement("div",{className:"".concat(a,"-message")},h,u.createElement("div",{className:"".concat(a,"-message-title")},Object(O.a)(c))),u.createElement("div",{className:"".concat(a,"-buttons")},b&&u.createElement(d.a,Object(t.a)({onClick:w,size:"small"},s),l||r.cancelText),u.createElement(v.a,{buttonProps:Object(t.a)(Object(t.a)({size:"small"},Object(m.a)(p)),i),actionFn:N,close:C,prefixCls:n("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},o||r.okText)))}(Y,a)}));return u.createElement(b.a,Object(t.a)({},k,{prefixCls:Y,placement:A,onVisibleChange:function(a){e.disabled||y(a)},visible:D,_overlay:P,overlayClassName:V,ref:a}),Object(x.a)(_,{onKeyDown:function(e){var a,n;u.isValidElement(_)&&(null===(n=null===_||void 0===_?void 0:(a=_.props).onKeyDown)||void 0===n||n.call(a,e)),function(e){e.keyCode===o.a.ESC&&D&&y(!1,e)}(e)}}))}));D.defaultProps={placement:"top",trigger:"click",okType:"primary",icon:u.createElement(i.a,null),disabled:!1},a.a=D},539:function(e,a,n){"use strict";n.d(a,"a",(function(){return h}));var t=n(9),r=n(7),i=n(10),s=n(11),c=n.n(s),l=n(54),o=n(0),u=n(83),d=n(282);function m(e){var a=e.className,n=e.direction,i=e.index,s=e.marginDirection,c=e.children,l=e.split,u=e.wrap,d=o.useContext(h),m=d.horizontalSize,p=d.verticalSize,j=d.latestIndex,b={};return d.supportFlexGap||("vertical"===n?i<j&&(b={marginBottom:m/(l?2:1)}):b=Object(t.a)(Object(t.a)({},i<j&&Object(r.a)({},s,m/(l?2:1))),u&&{paddingBottom:p})),null===c||void 0===c?null:o.createElement(o.Fragment,null,o.createElement("div",{className:a,style:b},c),i<j&&l&&o.createElement("span",{className:"".concat(a,"-split"),style:b},l))}var p=function(e,a){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(n[t]=e[t]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(t=Object.getOwnPropertySymbols(e);r<t.length;r++)a.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(n[t[r]]=e[t[r]])}return n},h=o.createContext({latestIndex:0,horizontalSize:0,verticalSize:0,supportFlexGap:!1}),j={small:8,middle:16,large:24};a.b=function(e){var a,n=o.useContext(u.b),s=n.getPrefixCls,b=n.space,v=n.direction,O=e.size,x=void 0===O?(null===b||void 0===b?void 0:b.size)||"small":O,g=e.align,f=e.className,D=e.children,I=e.direction,y=void 0===I?"horizontal":I,C=e.prefixCls,N=e.split,w=e.style,M=e.wrap,A=void 0!==M&&M,_=p(e,["size","align","className","children","direction","prefixCls","split","style","wrap"]),E=Object(d.a)(),k=o.useMemo((function(){return(Array.isArray(x)?x:[x,x]).map((function(e){return function(e){return"string"===typeof e?j[e]:e||0}(e)}))}),[x]),Y=Object(i.a)(k,2),F=Y[0],V=Y[1],P=Object(l.a)(D,{keepEmpty:!0}),L=void 0===g&&"horizontal"===y?"center":g,S=s("space",C),U=c()(S,"".concat(S,"-").concat(y),(a={},Object(r.a)(a,"".concat(S,"-rtl"),"rtl"===v),Object(r.a)(a,"".concat(S,"-align-").concat(L),L),a),f),R="".concat(S,"-item"),T="rtl"===v?"marginLeft":"marginRight",z=0,B=P.map((function(e,a){null!==e&&void 0!==e&&(z=a);var n=e&&e.key||"".concat(R,"-").concat(a);return o.createElement(m,{className:R,key:n,direction:y,index:a,marginDirection:T,split:N,wrap:A},e)})),G=o.useMemo((function(){return{horizontalSize:F,verticalSize:V,latestIndex:z,supportFlexGap:E}}),[F,V,z,E]);if(0===P.length)return null;var q={};return A&&(q.flexWrap="wrap",E||(q.marginBottom=-V)),E&&(q.columnGap=F,q.rowGap=V),o.createElement("div",Object(t.a)({className:U,style:Object(t.a)(Object(t.a)({},q),w)},_),o.createElement(h.Provider,{value:G},B))}},540:function(e,a,n){"use strict";a.a=n.p+"static/media/broken_img.203310e1.png"},542:function(e,a,n){"use strict";a.a=n.p+"static/media/noimg.b2f3d4d2.png"},549:function(e,a,n){"use strict";var t=n(10),r=n(0),i=n(32),s=(n(533),n(8)),c=n(524),l=n(538),o=n(154),u=n(526),d=n(519),m=n(521),p=n(532),h=n(682),j=n(550),b=n(19),v=n.n(b),O=n(542),x=n(48),g=n(540),f=n(3);a.a=Object(i.b)((function(e){var a=e.newInsurance,n=e.system;return{viewInsuranceModel:a.viewInsuranceModel,insuranceData:a.insuranceData,userAccessList:n.userAccessList}}),{isInsuranceViewModelVisible:x.C,insuranceApprove:x.u})((function(e){var a,n,i,b,x,D,I,y,C,N,w,M,A,_,E,k,Y,F,V,P,L,S,U,R,T,z,B=e.buttons,G=Object(r.useState)({}),q=Object(t.a)(G,2),H=q[0],K=q[1],J=c.a.useForm(),Q=Object(t.a)(J,1)[0];function W(a){var n;e.insuranceApprove({approveObj:{reviewer_description:null===(n=H.target)||void 0===n?void 0:n.value,insurancestatus:a},id:e.insuranceData.id}),Q.resetFields()}var $=[{title:"CUSTOMER NAME",description:null==(null===(a=e.insuranceData)||void 0===a?void 0:a.customername)?"none":e.insuranceData.customername},{title:"CUSTOMER MOBILE",description:null==e.insuranceData.customermobile?"none":e.insuranceData.customermobile},{title:"AADHAR NUMBER",description:null==e.insuranceData.aadharno?"none":e.insuranceData.aadharno},{title:"COUNTER NAME",description:null==(null===(n=e.insuranceData.counter)||void 0===n?void 0:n.name)?"none":null===(i=e.insuranceData.counter)||void 0===i?void 0:i.name},{title:"VEHICLE NUMBER",description:null==(null===(b=e.insuranceData.vehicle)||void 0===b?void 0:b.vehicleno)?"none":null===(x=e.insuranceData.vehicle)||void 0===x?void 0:x.vehicleno},{title:"CUSTOMER AMOUNT",description:null==e.insuranceData.customeramount?"none":e.insuranceData.customeramount},{title:"REQUESTED AMOUNT",description:null==e.insuranceData.requestedamount?"none":e.insuranceData.requestedamount},{title:"INSURANCE CATEGORY",description:null==e.insuranceData.insurancecategory_name?"none":e.insuranceData.insurancecategory_name},{title:"APPROVED BY",description:null==(null===(D=e.insuranceData.reviewer)||void 0===D?void 0:D.fullname)?"none":null===(I=e.insuranceData.reviewer)||void 0===I?void 0:I.fullname},{title:"APPROVED ON",description:null==e.insuranceData.reviewedon?"none":v()(e.insuranceData.reviewedon).format("DD-MM-YYYY")},{title:"REQUESTED ON",description:null==e.insuranceData.processedon?"none":v()(e.insuranceData.processedon).format("DD-MM-YYYY")},{title:"INSURANCE AGENT",description:null==(null===(y=e.insuranceData.insurer)||void 0===y?void 0:y.fullname)?"none":null===(C=e.insuranceData.insurer)||void 0===C?void 0:C.fullname},{title:"INSURANCE SUBMITTED DATE",description:null==e.insuranceData.processedon?"none":v()(e.insuranceData.processedon).format("DD-MM-YYYY")},{title:"REMARKS",description:null==e.insuranceData.reviewer_description?"none":e.insuranceData.reviewer_description}],X=[{title:"AADHAR FRONT IMAGE",imgFile:null!=e.insuranceData.aadharfront_image?null===(N=e.insuranceData.aadharfront_image)||void 0===N?void 0:N.file:null,ImgFileThumbnail:null!=e.insuranceData.aadharfront_image?null===(w=e.insuranceData.aadharfront_image)||void 0===w?void 0:w.file_thumbnail:null,createdon:null===(M=e.insuranceData.aadharfront_image)||void 0===M?void 0:M.createdon,alt:"AADHAR FRONT IMAGE"},{title:"AADHAR BACK IMAGE",imgFile:null!=e.insuranceData.aadharback_image?null===(A=e.insuranceData.aadharback_image)||void 0===A?void 0:A.file:null,ImgFileThumbnail:null!=e.insuranceData.aadharback_image?null===(_=e.insuranceData.aadharback_image)||void 0===_?void 0:_.file_thumbnail:null,createdon:null===(E=e.insuranceData.aadharback_image)||void 0===E?void 0:E.createdon,alt:"AADHAR BACK IMAGE"},{title:"C BOOK IMAGE",imgFile:null!=e.insuranceData.cbook_image?null===(k=e.insuranceData.cbook_image)||void 0===k?void 0:k.file:null,ImgFileThumbnail:null!=e.insuranceData.cbook_image?null===(Y=e.insuranceData.cbook_image)||void 0===Y?void 0:Y.file_thumbnail:null,createdon:null===(F=e.insuranceData.cbook_image)||void 0===F?void 0:F.createdon,alt:"C BOOK IMAGE"},{title:"OLD POLICY IMAGE",imgFile:null!=e.insuranceData.oldpolicy_image?null===(V=e.insuranceData.oldpolicy_image)||void 0===V?void 0:V.file:null,ImgFileThumbnail:null!=e.insuranceData.oldpolicy_image?null===(P=e.insuranceData.oldpolicy_image)||void 0===P?void 0:P.file_thumbnail:null,createdon:null===(L=e.insuranceData.oldpolicy_image)||void 0===L?void 0:L.createdon,alt:"OLD POLICY IMAGE"}],Z=[{title:"INSURANCE UPDATE IMAGE",imgFile:null!=e.insuranceData.insuranceimage?null===(S=e.insuranceData.insuranceimage)||void 0===S?void 0:S.file:null,ImgFileThumbnail:null!=e.insuranceData.insuranceimage?null===(U=e.insuranceData.insuranceimage)||void 0===U?void 0:U.file_thumbnail:null,createdon:null===(R=e.insuranceData.insuranceimage)||void 0===R?void 0:R.createdon,alt:"INSURANCE UPDATE IMAGE"}],ee=[{title:"AMOUNT",description:null==e.insuranceData.amount?"none":e.insuranceData.amount},{title:"INSURANCE COMPANY NAME",description:null==e.insuranceData.insurancecompany?"none":null===(T=e.insuranceData.insurancecompany)||void 0===T?void 0:T.name},{title:"INSURANCE NUMBER",description:null==e.insuranceData.number?"none":e.insuranceData.number},{title:"EXPIRE DATE",description:null==e.insuranceData.expdate?"none":v()(e.insuranceData.expdate).format("DD-MM-YYYY")}],ae=function(){return Object(f.jsx)(r.Fragment,{children:Object(f.jsx)(l.a,{placement:"topRight",title:"Are you sure to Approve this Record?",onConfirm:function(){return W(2)},okText:"Yes",cancelText:"No",icon:Object(f.jsx)(s.n,{className:"remix-icon hp-text-color-primary-1"}),children:Object(f.jsx)(o.a,{block:!0,className:"hp-px-12 hp-accept-btn hp-font-weight-400",children:"Approve"})})})},ne=function(){return Object(f.jsx)(r.Fragment,{children:Object(f.jsx)(l.a,{placement:"topRight",title:"Are you sure to Reject this Record?",onConfirm:function(){return Q.submit()},okText:"Yes",cancelText:"No",className:"hp-ml-8",icon:Object(f.jsx)(s.n,{className:"remix-icon hp-text-color-primary-1"}),children:Object(f.jsx)(o.a,{block:!0,className:"hp-px-12 hp-reject-btn hp-font-weight-400",children:"Reject"})})})},te=Object(f.jsx)("h5",{className:"modal-title",children:"Insurance View"});return Object(f.jsx)(u.a,{visible:e.viewInsuranceModel,title:te,onCancel:function(){Q.resetFields(),e.isInsuranceViewModelVisible(!1),e.isInsuranceViewModelVisible(!1)},className:"hp-modal-p-24",footer:Object(f.jsx)(f.Fragment,{children:B&&Object(f.jsx)(f.Fragment,{children:1==e.insuranceData.insurancestatus&&Object(f.jsx)(f.Fragment,{children:-1!==(null===(z=e.userAccessList)||void 0===z?void 0:z.indexOf("InsuranceRto.approve_insurance"))&&Object(f.jsxs)(d.a,{justify:"center",children:[Object(f.jsx)(m.a,{span:12,className:"hp-pl-4",children:Object(f.jsx)(ae,{})}),Object(f.jsx)(m.a,{span:12,className:"hp-pr-4",children:Object(f.jsx)(ne,{})})]})})})}),centered:!0,closeIcon:Object(f.jsx)(s.k,{className:"remix-icon text-color-black-100",size:24}),width:816,children:Object(f.jsx)(d.a,{gutter:[12,12],children:Object(f.jsxs)(m.a,{span:24,md:24,children:[Object(f.jsx)(p.b,{grid:{gutter:16,xs:1,sm:2,md:3,lg:3,xl:4,xxl:3},dataSource:$,renderItem:function(e){return Object(f.jsx)(p.b.Item,{children:Object(f.jsx)(p.b.Item.Meta,{title:Object(f.jsx)("span",{children:e.title}),description:Object(f.jsx)("span",{children:e.description})})})}}),3==e.insuranceData.insurancestatus&&Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(p.b,{grid:{gutter:16,xs:1,sm:2,md:3,lg:3,xl:4,xxl:3},dataSource:ee,renderItem:function(e){return Object(f.jsx)(p.b.Item,{children:Object(f.jsx)(p.b.Item.Meta,{title:Object(f.jsx)("span",{children:e.title}),description:Object(f.jsx)("span",{children:e.description})})})}})}),Object(f.jsx)(d.a,{gutter:[12,12],children:Object(f.jsxs)(h.a.PreviewGroup,{children:[X.map((function(e){return Object(f.jsxs)(m.a,{span:24,xs:12,md:6,xl:6,children:[Object(f.jsx)("p",{className:" hp-m-0 hp-text-color-primary-1 hp-font-weight-600 hp-font-size-12",children:e.title}),null!=e.imgFile?Object(f.jsx)(h.a,{className:"ant-upload-select-picture-card hp-preview-img",src:e.imgFile,alt:e.alt,onError:function(e){var a=e.currentTarget;a.onerror=null,a.src=g.a}}):Object(f.jsx)(h.a,{preview:!1,className:"ant-upload-select-picture-card hp-preview-img",src:O.a,alt:"noImage"})]})})),3==e.insuranceData.insurancestatus&&Object(f.jsx)(f.Fragment,{children:Z.map((function(e){return Object(f.jsxs)(m.a,{span:24,xs:12,md:6,xl:6,children:[Object(f.jsx)("p",{className:" hp-m-0 hp-text-color-primary-1 hp-font-weight-600 hp-font-size-12",children:e.title}),Object(f.jsx)(h.a,{className:"ant-upload-select-picture-card hp-preview-img",src:e.imgFile,alt:e.alt})]})}))})]})}),B&&Object(f.jsx)(f.Fragment,{children:1==e.insuranceData.insurancestatus&&Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(c.a,{className:"hp-mt-10",layout:"vertical",form:Q,onFinish:function(){W(4)},children:Object(f.jsx)(c.a.Item,{name:"reviewer_description",rules:[{required:!0,message:"Please Input  Remarks"}],hasFeedback:!0,children:Object(f.jsx)(j.a.TextArea,{id:"reviewer_description",name:"reviewer_description",style:{width:"100%"},placeholder:"Write Remarks...",onChange:function(e){return K(e)}})})})})})]})})})}))},698:function(e,a,n){"use strict";n.r(a);var t=n(1),r=n(0),i=n(32),s=n(550),c=n(539),l=n(519),o=n(521),u=n(154),d=n(531),m=n(337),p=n(676),h=n(340),j=n(350),b=n(536),v=(n(537),n(19)),O=n.n(v),x=n(48),g=n(10),f=n(524),D=n(527),I=n(677),y=n(215),C=n(15),N=n(60),w=n(3),M=new Date;M.getFullYear(),M.getMonth();var A=Object(i.b)((function(e){var a=e.newInsurance,n=e.mini;return{drawer:a.drawer,insurerparams:a.insurerparams,miniCountersList:n.miniCountersList,miniVehiclesList:n.miniVehiclesList}}),{getInsurerList:x.r,isDrawerVisible:x.B,setInsurerParams:x.G,InsurerFilterInputChangeValue:x.c,getMiniCounters:C.v,getMiniVehicles:C.Y,SetVehiclesParams:N.c,getVehicles:N.h})((function(e){var a,n,i,s,c,d=f.a.useForm(),m=Object(g.a)(d,1)[0];Object(r.useEffect)((function(){e.getMiniCounters(),e.getMiniVehicles()}),[]);function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{startDate:!1,endDate:!1},a=e.startDate,n=e.endDate;return function(e){var t=!0,r=!0;return a&&(t=e&&e<O()(a+" 00:00:01","YYYY-MM-DD HH:mm:ss")),n&&(r=e&&e>O()(O()(n).format("YYYY-MM-DD")+" 23:59:59","YYYY-MM-DD HH:mm:ss")),a&&t||n&&r}}return Object(r.useEffect)((function(){var a,n,t,r,i;m.setFieldsValue({start_date:null===(a=e.insurerparams)||void 0===a?void 0:a.start_date,end_date:null===(n=e.insurerparams)||void 0===n?void 0:n.end_date,counter:null===(t=e.insurerparams)||void 0===t?void 0:t.counter,insurancecategory:null===(r=e.insurerparams)||void 0===r?void 0:r.insurancecategory,insurancestatus:null===(i=e.insurerparams)||void 0===i?void 0:i.insurancestatus,vehicle:e.insurerparams.vehicle})}),[e.insurerparams]),Object(w.jsx)(l.a,{gutter:[24,24],children:Object(w.jsx)(o.a,{span:24,children:Object(w.jsx)(D.a,{title:"Filters",width:420,className:"hp-drawer-mobile",onClose:function(){e.isDrawerVisible(!1)},placement:"right",visible:e.drawer,bodyStyle:{paddingBottom:10},children:Object(w.jsxs)(f.a,{form:m,layout:"vertical",name:"basic",initialValues:{remember:!0},onFinish:function(){e.setInsurerParams(Object(t.a)(Object(t.a)({},e.insurerparams),{},{start_date:e.insurerparams.start_date,end_date:e.insurerparams.end_date,page:1,search:"",page_size:10})),e.getInsurerList(Object(t.a)(Object(t.a)({},e.insurerparams),{},{start_date:e.insurerparams.start_date,end_date:e.insurerparams.end_date,page:1,search:"",page_size:10})),e.isDrawerVisible(!1)},children:[Object(w.jsxs)(l.a,{gutter:[12,12],children:[Object(w.jsx)(o.a,{span:12,children:Object(w.jsx)(f.a.Item,{label:"From Date",name:"start_date",className:"hp-mb-10",children:Object(w.jsx)(I.a,{style:{width:"100%"},placeholder:"Choose Date",format:"DD-MM-YYYY",disabledDate:p({endDate:new Date}),onChange:function(a){e.InsurerFilterInputChangeValue({key:"start_date",value:null==a?"":a}),null==a&&e.InsurerFilterInputChangeValue({key:"end_date",value:""})}})})}),Object(w.jsx)(o.a,{span:12,children:Object(w.jsx)(f.a.Item,{label:"To Date",name:"end_date",className:"hp-mb-10",children:Object(w.jsx)(I.a,{style:{width:"100%"},picker:"date",placeholder:"Choose Date",format:"DD-MM-YYYY",disabledDate:p({endDate:O()().format("YYYY-MM-DD"),startDate:O()(null===(a=e.insurerparams)||void 0===a?void 0:a.start_date).format("YYYY-MM-DD")}),disabled:null==e.insurerparams.start_date||""==e.insurerparams.start_date,onChange:function(a){e.InsurerFilterInputChangeValue({key:"end_date",value:null==a?"":a})}})})}),Object(w.jsx)(o.a,{span:12,children:Object(w.jsx)(f.a.Item,{label:"Counter",name:"counter",className:"hp-mb-10",children:Object(w.jsx)(y.a,{showSearch:!0,allowClear:!0,placeholder:"Select a Counter",optionFilterProp:"Counter",filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},onChange:function(a){e.InsurerFilterInputChangeValue({key:"counter",value:a})},value:null==e.insurerparams.counter_id?"":null===(n=e.insurerparams)||void 0===n?void 0:n.counter_id,children:e.miniCountersList.map((function(e,a){return Object(w.jsx)(Option,{value:e.id,children:e.name},a)}))})})}),Object(w.jsx)(o.a,{span:12,children:Object(w.jsx)(f.a.Item,{label:"Insurance Category",name:"insurancecategory",className:"hp-mb-10",children:Object(w.jsx)(y.a,{showSearch:!0,allowClear:!0,placeholder:"Insurance Category",optionFilterProp:"paid",filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},onChange:function(a){e.InsurerFilterInputChangeValue({key:"insurancecategory",value:a})},value:null==e.insurerparams.insurancecategory?"":null===(i=e.insurerparams)||void 0===i?void 0:i.insurancecategory,children:[{id:1,name:"1st Party"},{id:2,name:"2nd Party"},{id:3,name:"3rd Party"}].map((function(e,a){return Object(w.jsx)(Option,{value:e.id,children:e.name},a)}))})})}),Object(w.jsx)(o.a,{span:12,children:Object(w.jsx)(f.a.Item,{label:"Vehicle",name:"vehicle",className:"hp-mb-10",children:Object(w.jsx)(y.a,{showSearch:!0,allowClear:!0,placeholder:"Select Vehicle",optionFilterProp:"vehicle",filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},onSearch:function(a){e.SetVehiclesParams(Object(t.a)(Object(t.a)({},e.vehiclesParams),{},{page:1,search:a})),e.getVehicles(Object(t.a)(Object(t.a)({},e.vehiclesParams),{},{page:1,search:a}))},defaultActiveFirstOption:!1,showArrow:!0,onChange:function(a){e.InsurerFilterInputChangeValue({key:"vehicle",value:a})},onPopupScroll:function(){e.vehiclesParams.page<e.vehiclesParams.no_of_pages&&(e.SetVehiclesParams(Object(t.a)(Object(t.a)({},e.vehiclesParams),{},{page:e.vehiclesParams.page+1})),e.getVehicles(Object(t.a)(Object(t.a)({},e.vehiclesParams),{},{page:e.vehiclesParams.page+1})))},value:null==e.insurerparams.vehicle?"":null===(s=e.insurerparams)||void 0===s?void 0:s.vehicle,children:e.miniVehiclesList.map((function(e,a){return Object(w.jsx)(Option,{value:e.id,children:e.vehicleno},a)}))})})}),Object(w.jsx)(o.a,{span:12,children:Object(w.jsx)(f.a.Item,{label:"Insurance Status",name:"insurancestatus",className:"hp-mb-10",children:Object(w.jsx)(y.a,{showSearch:!0,allowClear:!0,placeholder:"Insurance Status",optionFilterProp:"insurancestatus",filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},onChange:function(a){e.InsurerFilterInputChangeValue({key:"insurancestatus",value:a})},value:null==e.insurerparams.insurancestatus?"":null===(c=e.insurerparams)||void 0===c?void 0:c.insurancestatus,children:[{id:1,name:"Requested"},{id:2,name:"Reviewed"},{id:3,name:"Processed"},{id:4,name:"Rejected"}].map((function(e,a){return Object(w.jsx)(Option,{value:e.id,children:e.name},a)}))})})})]}),Object(w.jsxs)(l.a,{gutter:[12,12],children:[Object(w.jsx)(o.a,{md:12,xs:12,children:Object(w.jsx)(u.a,{block:!0,type:"secondary",className:"hp-submit-btn hp-mt-10",onClick:function(){e.setInsurerParams({start_date:"",end_date:"",page:1,search:"",page_size:10}),e.getInsurerList({start_date:"",end_date:"",page:1,search:"",page_size:10}),e.getMiniCounters(),e.getMiniVehicles()},htmlType:"button",children:"Clear"})}),Object(w.jsx)(o.a,{md:12,xs:12,children:Object(w.jsx)(u.a,{block:!0,type:"primary",className:"hp-submit-btn hp-mt-10",onClick:function(){m.submit()},children:"Apply"})})]})]})})})})})),_=n(51),E=(n(533),n(8)),k=n(526),Y=n(680),F=n(535),V=n(141),P=n(235),L=n(240);var S=Object(i.b)((function(e){var a=e.newInsurance,n=e.mini;return e.vehicles,{insuranceData:a.insuranceData,insuranceUpdateData:a.insuranceUpdateData,insurerAddModel:a.insurerAddModel,miniInsuranceList:n.miniInsuranceList}}),{isInsurerAddModelVisible:x.D,InsurerInputChangeValue:x.d,getMiniInsurance:C.F,addInsurerData:x.e,getInsurerImageUpload:x.q,insuranceNumberValidate:x.y})((function(e){var a,n,i,c,d,m,p,h,j=f.a.useForm(),b=Object(g.a)(j,1)[0];Object(_.f)();Object(r.useEffect)((function(){e.getMiniInsurance()}),[]);var v=Object(w.jsxs)(w.Fragment,{children:[" ",Object(w.jsxs)("div",{className:"hp-center hp-mt-0 ",children:[e.imageLooading?Object(w.jsx)(V.a,{}):Object(w.jsx)(P.a,{className:"hp-mt-16"}),Object(w.jsx)("div",{className:"hp-mt-8 hp-mb-16",children:"Upload"})]})]});var x=function(){e.isInsurerAddModelVisible(!1)},D=function(){return Object(w.jsx)(r.Fragment,{children:Object(w.jsx)(u.a,{type:"primary",onClick:function(){b.submit()},block:!0,children:"Update"})})},C=function(){return Object(w.jsx)(r.Fragment,{children:Object(w.jsx)(u.a,{onClick:function(){x()},type:"primary",block:!0,ghost:!0,children:"Cancel"})})},N=Object(w.jsxs)("h5",{className:"modal-title",children:["Update Insurer - ",null===(a=e.insuranceData)||void 0===a||null===(n=a.vehicle)||void 0===n?void 0:n.vehicleno]});return Object(r.useEffect)((function(){var a,n,t,r;b.setFieldsValue({amount:null===(a=e.insuranceUpdateData)||void 0===a?void 0:a.amount,expdate:null===(n=e.insuranceUpdateData)||void 0===n?void 0:n.expdate,number:null===(t=e.insuranceUpdateData)||void 0===t?void 0:t.number,insurancecompany_id:null===(r=e.insuranceUpdateData)||void 0===r?void 0:r.insurancecompany_id})}),[e.insuranceUpdateData]),Object(w.jsx)(k.a,{visible:e.insurerAddModel,title:N,onCancel:function(){x(),b.resetFields(),e.isInsurerAddModelVisible(!1)},className:"hp-modal-p-24",footer:Object(w.jsxs)(l.a,{justify:"center",children:[Object(w.jsx)(o.a,{span:12,className:"hp-pr-4",children:Object(w.jsx)(C,{})}),Object(w.jsx)(o.a,{span:12,className:"hp-pl-4",children:Object(w.jsx)(D,{})})]}),centered:!0,closeIcon:Object(w.jsx)(E.k,{className:"remix-icon text-color-black-100",size:24}),width:516,children:Object(w.jsxs)(f.a,{layout:"vertical",form:b,onFinish:function(){!function(){var a,n=Object(t.a)(Object(t.a)({},e.insuranceUpdateData),{},{expdate:O()(null===(a=e.insuranceUpdateData)||void 0===a?void 0:a.expdate).format("YYYY-MM-DD"),date:O()().format("YYYY-MM-DD")});e.addInsurerData({insurerObj:n,id:e.insuranceData.id})}()},children:[Object(w.jsxs)(l.a,{gutter:[12,0],children:[Object(w.jsx)(o.a,{md:12,xs:24,className:"hp-pr-sm-0 hp-pr-12",children:Object(w.jsx)(f.a.Item,{label:" Amount",name:"amount",rules:[{required:!0,message:"Please Input  Amount"}],hasFeedback:!0,children:Object(w.jsx)(F.a,{id:"amount",name:"amount",style:{width:"100%"},placeholder:" Amount",maxLength:6,value:null==(null===(i=e.insuranceUpdateData)||void 0===i?void 0:i.amount)?"":null===(c=e.insuranceUpdateData)||void 0===c?void 0:c.amount,onChange:e.InsurerInputChangeValue})})}),Object(w.jsx)(o.a,{md:12,xs:24,className:"hp-pr-sm-0 hp-pr-12",children:Object(w.jsx)(f.a.Item,{label:"Expire Date  :",name:"expdate",rules:[{required:!0,message:"Please select your Expire Date!"}],hasFeedback:!0,children:Object(w.jsx)(I.a,{id:"expdate",name:"expdate",style:{width:"100%"},format:"DD-MM-YYYY",disabledDate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{startDate:!1,endDate:!1},a=e.startDate,n=e.endDate;return function(e){var t=!0,r=!0;return a&&(t=e&&e<O()(a,"YYYY-MM-DD")),n&&(r=e&&e>O()(n,"YYYY-MM-DD")),a&&t||n&&r}}({startDate:O()(new Date).add(1,"years")}),placeholder:"Select Expire Date",value:null==e.insuranceUpdateData.expdate?"":null===(d=e.insuranceUpdateData)||void 0===d?void 0:d.expdate,onChange:function(a){e.InsurerInputChangeValue({key:"expdate",value:a})}})})}),Object(w.jsx)(o.a,{md:12,xs:24,className:"hp-pr-sm-0 hp-pr-12",children:Object(w.jsx)(f.a.Item,{label:"Insurance Number",name:"number",rules:[{required:!0,message:"Please input your Insurance Number!"}],hasFeedback:!0,children:Object(w.jsx)(s.a,{id:"number",name:"number",style:{width:"100%"},maxLength:15,placeholder:"Insurance Number",onBlur:function(a){var n,t;e.insuranceNumberValidate({insurancenumber:a.target.value,vehicle_id:null===(n=e.insuranceData)||void 0===n||null===(t=n.vehicle)||void 0===t?void 0:t.id})},value:null===(m=e.insuranceUpdateData)||void 0===m?void 0:m.number,onChange:function(a){e.InsurerInputChangeValue({key:a.target.name,value:a.target.value.toUpperCase()})}})})}),Object(w.jsx)(o.a,{md:12,xs:24,className:"hp-pr-sm-0 hp-pr-12",children:Object(w.jsx)(f.a.Item,{label:"Insurance Company",name:"insurancecompany_id",rules:[{required:!0,message:"Please Select Insurance Company"}],hasFeedback:!0,children:Object(w.jsx)(y.a,{showSearch:!0,placeholder:"Select a Insurance Company",optionFilterProp:"Counter",filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},onChange:function(a){e.InsurerInputChangeValue({key:"insurancecompany_id",value:a})},value:null==e.insuranceUpdateData.insurancecompany_id?"":null===(p=e.insuranceUpdateData)||void 0===p?void 0:p.insurancecompany_id,children:e.miniInsuranceList.map((function(e,a){return Object(w.jsx)(Option,{value:e.id,children:e.name},a)}))})})})]}),Object(w.jsx)(l.a,{gutter:[12,0],children:Object(w.jsxs)(o.a,{span:24,xs:24,md:10,xl:10,className:"hp-pr-sm-0 hp-pr-12",children:[Object(w.jsx)("p",{className:"hp-pb-xs-16 hp-mb-2 hp-text-color-primary-1 hp-font-weight-600",children:"Insurance Image"}),Object(w.jsx)(Y.a,{listType:"picture-card hp-w-100",className:"avatar-uploader",showUploadList:!1,accept:"image/*",beforeUpload:function(e){var a="image/jpeg"===e.type||"image/png"===e.type;a||message.error("You can only upload JPG/PNG file!");var n=e.size/1024/1024<2;return n||message.error("Image must smaller than 2MB!"),a&&n},customRequest:function(a){e.getInsurerImageUpload({file:a.file,imageType:"insuranceimage"})},children:null!=e.insuranceUpdateData.insuranceimage?Object(w.jsxs)("div",{className:"hp-d-flex",children:[Object(w.jsx)("img",{className:"ant-upload-select-picture-card hp-preview-img",src:null===(h=e.insuranceUpdateData.insuranceimage)||void 0===h?void 0:h.file,alt:"avatar",style:{width:"100%"}}),Object(w.jsx)(L.a,{})]}):v})]})})]})})})),U=n(549),R=n(216);a.default=Object(i.b)((function(e){var a=e.newInsurance,n=e.system;return{insurerList:a.insurerList,insurerparams:a.insurerparams,noofpages:a.noofpages,insurerListCount:a.insurerListCount,loading:a.loading,agentInsurerData:a.agentInsurerData,userAccessList:n.userAccessList}}),{getInsurerList:x.r,setInsurerParams:x.G,isInsurerAddModelVisible:x.D,isDrawerVisible:x.B,isInsuranceViewModelVisible:x.C,getInsuranceById:x.m,addInsurerData:x.e,getInsurerData:x.p,clearInsurerList:x.j})((function(e){var a,n,i,v=s.a.Search,O="hp-p1-body hp-text-color-black-100 hp-text-color-dark-0 hp-font-weight-600 ";Object(r.useEffect)((function(){e.getInsurerList(Object(t.a)(Object(t.a)({},e.insurerparams),{},{page:1,search:"",page_size:10}))}),[]);var x=null===(a=e.insurerList)||void 0===a?void 0:a.map((function(a,n){return Object(t.a)(Object(t.a)({},a),{},{index:(e.insurerparams.page-1)*e.insurerparams.page_size+(n+1)})})),g=[{title:"S.No",width:70,dataIndex:"index",fixed:R.isMobile?null:"left"},{title:"Code",render:function(e){return Object(w.jsx)("span",{className:O,children:e.code})},width:100,fixed:R.isMobile?null:"left"},{title:"Date",width:100,render:function(e){return Object(w.jsx)("span",{className:O,children:e.date})}},{title:"Customer Name",width:100,render:function(e){return Object(w.jsx)("span",{className:O,children:e.customername})}},{title:"Customer Mobile",width:110,render:function(e){return Object(w.jsx)("span",{className:O,children:e.customermobile})}},{title:"Aadhar Number",width:130,render:function(e){return Object(w.jsx)("span",{className:O,children:e.aadharno})}},{title:"Counter Name",width:120,render:function(e){var a;return Object(w.jsx)("span",{className:O,children:null===(a=e.counter)||void 0===a?void 0:a.name})}},{title:"Vehicle Number",width:120,render:function(e){var a;return Object(w.jsx)("span",{className:O,children:null===(a=e.vehicle)||void 0===a?void 0:a.vehicleno})}},{title:"Customer Amount",width:100,render:function(e){return Object(w.jsx)("span",{className:O,children:e.customeramount})}},{title:"Requested Amount",width:100,render:function(e){return Object(w.jsx)("span",{className:O,children:e.requestedamount})}},{title:"Insurance Category",width:100,render:function(e){return Object(w.jsx)("span",{className:O,children:e.insurancecategory_name})}},{title:"Amount",width:100,render:function(e){return Object(w.jsx)("span",{className:O,children:e.amount})}},{title:"Actions",key:"action",width:100,fixed:R.isMobile?null:"right",render:function(a,n){var t;return Object(w.jsx)(c.b,{size:"middle",children:Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("i",{className:"ri-eye-line hp-mr-2 ",style:{cursor:"pointer",color:"#fc6f03"},onClick:function(){e.getInsuranceById(a.id),e.isInsuranceViewModelVisible(!0)}}),-1!==(null===(t=e.userAccessList)||void 0===t?void 0:t.indexOf("InsuranceRto.agent_view_insurance"))&&Object(w.jsx)(w.Fragment,{children:(2==a.insurancestatus||3==a.insurancestatus)&&Object(w.jsx)(w.Fragment,{children:Object(w.jsx)("i",{className:"ri-add-box-line hp-mr-2 ",style:{cursor:"pointer",color:"#fc6f03"},onClick:function(){e.getInsuranceById(a.id),e.isInsurerAddModelVisible(!0)}})})})]})})}}];return Object(w.jsxs)(l.a,{gutter:[12,12],children:[Object(w.jsx)(b.a,{pageTitle:"Insurance Agent",goBack:!1}),Object(w.jsx)(o.a,{span:24,children:Object(w.jsxs)(l.a,{gutter:[12,12],className:"hp-ecommerce-app-header ",children:[Object(w.jsx)(o.a,{span:24,xs:18,sm:18,md:14,className:"hp-ecommerce-app-header-search ",children:Object(w.jsx)(v,{placeholder:"Search for date, doc, number, customer, counter, vehicle",allowClear:!0,onChange:function(a){""==a.target.value&&(e.getInsurerList(Object(t.a)(Object(t.a)({},e.insurerparams),{},{page:1,search:""})),e.setInsurerParams(Object(t.a)(Object(t.a)({},e.insurerparams),{},{page:1,search:""})))},onSearch:function(a){var n;n=a,e.setInsurerParams(Object(t.a)(Object(t.a)({},e.insurerparams),{},{search:n})),e.getInsurerList(Object(t.a)(Object(t.a)({},e.insurerparams),{},{search:n}))}})}),Object(w.jsx)(o.a,{span:24,xs:6,sm:6,md:3,children:Object(w.jsx)(u.a,{onClick:function(){e.isDrawerVisible(!0)},className:"hp-w-100 hp-p-12",icon:Object(w.jsx)(j.a,{className:"hp-mr-10"}),children:!R.isMobile&&"Filter"})})]})}),Object(w.jsx)(o.a,{span:24,children:Object(w.jsx)(d.a,{children:Object(w.jsxs)(l.a,{className:"hp-mb-12",children:[Object(w.jsx)(o.a,{span:24,children:Object(w.jsx)(m.a,{tip:"Loading...",spinning:e.loading,delay:500,children:Object(w.jsx)(p.a,{columns:g,rowClassName:"hp-btn-bg-color-none",dataSource:x,scroll:{x:1300},pagination:!1,size:"middle"})})}),Object(w.jsx)(o.a,{span:24,children:Object(w.jsx)(h.a,{size:"small",total:e.insurerListCount,current:null===(n=e.insurerparams)||void 0===n?void 0:n.page,pageSize:null===(i=e.insurerparams)||void 0===i?void 0:i.page_size,showTotal:function(e){return"Total "+e+" items"},showSizeChanger:!0,onChange:function(a,n){e.clearInsurerList(),e.setInsurerParams(Object(t.a)(Object(t.a)({},e.insurerparams),{},{page_size:n,page:0==a?1:a})),e.getInsurerList(Object(t.a)(Object(t.a)({},e.insurerparams),{},{page_size:n,page:0==a?1:a}))},className:"hp-mb-12 hp-mt-24 hp-float-right"})})]})})}),Object(w.jsx)(U.a,{}),Object(w.jsx)(S,{}),Object(w.jsx)(A,{})]})}))}}]);
//# sourceMappingURL=18.99bcc47c.chunk.js.map