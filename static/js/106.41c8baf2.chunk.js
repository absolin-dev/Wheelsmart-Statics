(this["webpackJsonpwheelsmart-admin-react"]=this["webpackJsonpwheelsmart-admin-react"]||[]).push([[106],{534:function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));i(0);var a=i(521),c=i(531),s=i(519),n=i(154),l=i(51),r=i(43),d=i(8),o=i(216),j=i(3);function u(e){var t=Object(l.f)(),i=e.pageTitle,u=e.pageText,m=e.addModelTile,h=e.goBack,b=e.setIsModalVisible;return Object(j.jsx)(a.a,{span:24,children:Object(j.jsx)(c.a,{className:"hp-m-0",children:Object(j.jsxs)(s.a,{children:[Object(j.jsxs)(a.a,{span:18,children:[h&&Object(j.jsx)(r.b,{to:"#",onClick:function(){return t.goBack()},className:"action-icon text-primary  hp-mr-12 hp-d-inline-block",children:Object(j.jsx)(d.d,{className:"remix-icon",size:24})}),Object(j.jsxs)(s.a,{className:"hp-d-inline-block",children:[Object(j.jsx)(a.a,{span:24,children:i&&Object(j.jsx)("h2",{className:"hp-m-0",children:i})}),Object(j.jsx)(a.a,{span:24,children:u&&Object(j.jsx)("p",{className:"hp-mb-0 hp-p1-body",children:u})})]})]}),Object(j.jsx)(a.a,{span:6,children:m&&Object(j.jsx)(n.a,{className:"hp-float-right",type:"primary",onClick:function(){return b(!0)},block:!0,icon:Object(j.jsx)(d.b,{className:"remix-icon",size:22}),children:!o.isMobile&&m})})]})})})}},562:function(e,t,i){"use strict";var a=i(10),c=i(0),s=i(32),n=(i(533),i(8)),l=i(524),r=i(215),d=i(154),o=i(526),j=i(519),u=i(521),m=i(550),h=i(91),b=i(15),p=i(3);t.a=Object(s.b)((function(e){var t=e.city,i=e.mini;return{selectedData:t.rowdata,model:t.model,miniDistrictList:i.miniDistrictList}}),{cityAdd:h.d,isModelVisible:h.k,InputChangeValue:h.a,getMiniDistrict:b.y})((function(e){var t,i,s=l.a.useForm(),h=Object(a.a)(s,1)[0];Object(c.useEffect)((function(){e.getMiniDistrict()}),[]);var b=r.a.Option,O=function(){e.isModelVisible(!1)},x=function(){return null==e.selectedData.id||0==e.selectedData.id?Object(p.jsx)(c.Fragment,{children:Object(p.jsx)(d.a,{onClick:function(){h.submit()},type:"primary",block:!0,children:"Add"})}):Object(p.jsx)(c.Fragment,{children:Object(p.jsx)(d.a,{type:"primary",onClick:function(){h.submit()},block:!0,children:"Update"})})},f=function(){return Object(p.jsx)(c.Fragment,{children:Object(p.jsx)(d.a,{onClick:function(){O()},type:"primary",block:!0,ghost:!0,children:"Cancel"})})},y=Object(p.jsxs)("h5",{className:"modal-title",children:[null==e.selectedData.id||0==e.selectedData.id?"Add":"Update"," ","City"]});return Object(c.useEffect)((function(){h.setFieldsValue({name:e.selectedData.name,district_id:e.selectedData.district_id})}),[e.selectedData]),Object(p.jsx)(o.a,{visible:e.model,title:y,onCancel:function(){O(),h.resetFields(),e.isModelVisible(!1)},className:"hp-modal-p-24",footer:Object(p.jsxs)(j.a,{justify:"center",children:[Object(p.jsx)(u.a,{span:12,className:"hp-pr-4",children:Object(p.jsx)(f,{})}),Object(p.jsx)(u.a,{span:12,className:"hp-pl-4",children:Object(p.jsx)(x,{})})]}),centered:!0,closeIcon:Object(p.jsx)(n.k,{className:"remix-icon text-color-black-100",size:24}),width:416,children:Object(p.jsxs)(l.a,{layout:"vertical",form:h,autoComplete:"off",onFinish:function(){null==e.selectedData.id?function(){var t,i,a={id:0,district_id:null===(t=e.selectedData)||void 0===t?void 0:t.district_id,name:null===(i=e.selectedData)||void 0===i?void 0:i.name};null==a.name&&""!=a.name||e.cityAdd(a)}():function(){var t,i,a,c={id:e.selectedData.id,district_id:null==(null===(t=e.selectedData)||void 0===t?void 0:t.district_id)?e.selectedData.district.id:null===(i=e.selectedData)||void 0===i?void 0:i.district_id,name:null===(a=e.selectedData)||void 0===a?void 0:a.name};e.cityAdd(c)}()},children:[Object(p.jsx)(l.a.Item,{label:"District Name:",name:"district_id",rules:[{required:!0,message:"Please select your District Name!"}],children:Object(p.jsx)(r.a,{showSearch:!0,filterOption:function(e,t){return t.children.toLowerCase().includes(e.toLowerCase())},placeholder:"Select  District",optionFilterProp:"children",onChange:function(t){e.InputChangeValue({key:"district_id",value:t})},value:null==e.selectedData.district_id?"":null===(t=e.selectedData)||void 0===t?void 0:t.district_id,children:e.miniDistrictList.map((function(e,t){return Object(p.jsx)(b,{value:e.id,children:e.name},t)}))})}),Object(p.jsx)(l.a.Item,{label:"City Name :",name:"name",rules:[{required:!0,message:"Please input your City Name!"}],hasFeedback:!0,children:Object(p.jsx)(m.a,{id:"City",name:"name",style:{width:"100%"},placeholder:"City Name",value:null===(i=e.selectedData)||void 0===i?void 0:i.name,onChange:function(t){e.InputChangeValue({key:t.target.name,value:t.target.value})}})})]})})}))},627:function(e,t,i){"use strict";i.r(t);var a=i(1),c=i(0),s=i(550),n=i(538),l=i(519),r=i(521),d=i(531),o=i(337),j=i(340),u=i(539),m=i(676),h=i(8),b=i(32),p=i(534),O=i(562),x=i(15),f=i(91),y=i(3);t.default=Object(b.b)((function(e){var t=e.city,i=e.system;return{citieslist:t.citieslist,noofpages:t.noofpages,listCount:t.listCount,cityParams:t.cityParams,loading:t.loading,userAccessList:i.userAccessList}}),{getCities:f.j,cityEdit:f.g,cityDelete:f.f,isModelVisible:f.k,SetCityParams:f.b,getMiniDistrict:x.y})((function(e){var t,i,b;Object(c.useEffect)((function(){e.getCities({page:1,search:"",page_size:10})}),[]);var x=s.a.Search,f="hp-p1-body hp-text-color-black-50 hp-text-color-dark-0 hp-font-weight-500 ",g=[{title:"S.No",dataIndex:"index",width:"5%"},{title:"Code",dataIndex:"code",filterSearch:!0,width:"15%"},{title:"Country Name",render:function(e){var t;return Object(y.jsx)("span",{className:f,children:null===(t=e.country)||void 0===t?void 0:t.name})},filterMode:"tree",filterSearch:!0,width:"15%"},{title:"State Name",render:function(e){var t;return Object(y.jsx)("span",{className:f,children:null===(t=e.state)||void 0===t?void 0:t.name})},filterMode:"tree",filterSearch:!0,width:"20%"},{title:"District Name",render:function(e){var t;return Object(y.jsx)("span",{className:f,children:null===(t=e.district)||void 0===t?void 0:t.name})},filterMode:"tree",filterSearch:!0,width:"20%"},{title:"City Name",render:function(e){return Object(y.jsx)("span",{className:f,children:e.name})},filterMode:"tree",filterSearch:!0,width:"20%"},{title:"Actions",key:"action",width:"10%",render:function(t,i){var a,c;return Object(y.jsxs)(u.b,{size:"middle",children:[-1!==(null===(a=e.userAccessList)||void 0===a?void 0:a.indexOf("Masters.change_city"))&&Object(y.jsx)("i",{className:"ri-edit-box-line hp-mr-2 ",style:{cursor:"pointer",color:"#fc6f03"},onClick:function(){e.cityEdit(t),e.getMiniDistrict({state:t.state.id}),e.isModelVisible(!0)}}),-1!==(null===(c=e.userAccessList)||void 0===c?void 0:c.indexOf("Masters.delete_city"))&&Object(y.jsx)(n.a,{placement:"topRight",title:"Are you sure to delete this Record?",onConfirm:function(){return e.cityDelete(i.id)},okText:"Yes",cancelText:"No",className:"hp-ml-8",icon:Object(y.jsx)(h.n,{className:"remix-icon hp-text-color-primary-1"}),children:Object(y.jsx)("i",{className:"ri-delete-bin-2-line ",style:{cursor:"pointer",color:"#ff0000"}})})]})}}],v=e.citieslist.map((function(t,i){return Object(a.a)(Object(a.a)({},t),{},{index:(e.cityParams.page-1)*e.cityParams.page_size+i+1,districtname:t.district.name})}));return Object(y.jsxs)(l.a,{gutter:[32,32],className:"hp-mt-32",children:[Object(y.jsx)(p.a,{pageTitle:"City Master",addModelTile:-1!==(null===(t=e.userAccessList)||void 0===t?void 0:t.indexOf("Masters.add_city"))&&"Add City",goBack:!0,setIsModalVisible:e.isModelVisible,isModalVisible:e.model}),Object(y.jsx)(r.a,{span:24,children:Object(y.jsx)(d.a,{children:Object(y.jsxs)(l.a,{className:"hp-mb-12",children:[Object(y.jsx)(r.a,{span:12,xs:24,sm:24,md:12,className:"hp-mb-12",children:Object(y.jsx)(x,{placeholder:"Search...",allowClear:!0,onChange:function(t){""==t.target.value&&(e.getCities(Object(a.a)(Object(a.a)({},e.cityParams),{},{page:1,search:""})),e.SetCityParams(Object(a.a)(Object(a.a)({},e.cityParams),{},{page:1,search:""})))},onSearch:function(t){var i;i=t,e.SetCityParams(Object(a.a)(Object(a.a)({},e.cityParams),{},{search:i})),e.getCities(Object(a.a)(Object(a.a)({},e.cityParams),{},{search:i}))}})}),Object(y.jsx)(r.a,{span:24,children:Object(y.jsx)(o.a,{tip:"Loading...",spinning:e.loading,delay:500,children:Object(y.jsx)(m.a,{columns:g,dataSource:v,scroll:{x:500},pagination:!1,size:"middle"})})}),Object(y.jsx)(r.a,{span:24,children:Object(y.jsx)(j.a,{size:"small",current:null===(i=e.cityParams)||void 0===i?void 0:i.page,pageSize:null===(b=e.cityParams)||void 0===b?void 0:b.page_size,total:e.listCount,showTotal:function(e){return"Total "+e+" items"},showSizeChanger:!0,onChange:function(t,i){e.SetCityParams(Object(a.a)(Object(a.a)({},e.cityParams),{},{page_size:i,page:0==t?1:t})),e.getCities(Object(a.a)(Object(a.a)({},e.cityParams),{},{page_size:i,page:0==t?1:t}))},className:"hp-mb-12 hp-mt-24 hp-float-right"})})]})})}),Object(y.jsx)(O.a,{})]})}))}}]);
//# sourceMappingURL=106.41c8baf2.chunk.js.map