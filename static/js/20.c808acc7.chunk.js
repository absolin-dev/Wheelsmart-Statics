(this["webpackJsonpwheelsmart-admin-react"]=this["webpackJsonpwheelsmart-admin-react"]||[]).push([[20],{534:function(e,a,t){"use strict";t.d(a,"a",(function(){return h}));t(0);var n=t(521),i=t(531),c=t(519),l=t(154),s=t(51),r=t(43),o=t(8),d=t(216),m=t(3);function h(e){var a=Object(s.f)(),t=e.pageTitle,h=e.pageText,p=e.addModelTile,u=e.goBack,j=e.setIsModalVisible;return Object(m.jsx)(n.a,{span:24,children:Object(m.jsx)(i.a,{className:"hp-m-0",children:Object(m.jsxs)(c.a,{children:[Object(m.jsxs)(n.a,{span:18,children:[u&&Object(m.jsx)(r.b,{to:"#",onClick:function(){return a.goBack()},className:"action-icon text-primary  hp-mr-12 hp-d-inline-block",children:Object(m.jsx)(o.d,{className:"remix-icon",size:24})}),Object(m.jsxs)(c.a,{className:"hp-d-inline-block",children:[Object(m.jsx)(n.a,{span:24,children:t&&Object(m.jsx)("h2",{className:"hp-m-0",children:t})}),Object(m.jsx)(n.a,{span:24,children:h&&Object(m.jsx)("p",{className:"hp-mb-0 hp-p1-body",children:h})})]})]}),Object(m.jsx)(n.a,{span:6,children:p&&Object(m.jsx)(l.a,{className:"hp-float-right",type:"primary",onClick:function(){return j(!0)},block:!0,icon:Object(m.jsx)(o.b,{className:"remix-icon",size:22}),children:!d.isMobile&&p})})]})})})}},536:function(e,a,t){"use strict";t.d(a,"a",(function(){return m}));t(0);var n=t(521),i=t(519),c=t(154),l=t(51),s=t(43),r=t(8),o=t(216),d=t(3);function m(e){var a=Object(l.f)(),t=e.pageTitle,m=e.pageText,h=e.goBack,p=e.addModelTile,u=e.addModelTile2,j=e.setIsModalVisible,b=e.setIsModalVisible2;return Object(d.jsx)(n.a,{span:24,className:"hp-mt-12",children:Object(d.jsxs)(i.a,{children:[Object(d.jsxs)(n.a,{span:16,xs:16,md:12,xl:16,children:[h&&Object(d.jsx)(s.b,{to:"#",onClick:function(){a.goBack()},className:"action-icon text-primary  hp-mr-12 hp-d-inline-block",children:Object(d.jsx)(r.d,{className:"remix-icon",size:24})}),Object(d.jsxs)(i.a,{className:"hp-d-inline-block",children:[Object(d.jsx)(n.a,{span:24,children:t&&Object(d.jsx)("h3",{className:"hp-mb-2 hp-mt-4",children:t})}),Object(d.jsx)(n.a,{span:24,children:m&&Object(d.jsx)("p",{className:"hp-mb-0 hp-p1-body",children:m})})]})]}),Object(d.jsx)(n.a,{span:8,xs:8,md:12,xl:8,children:Object(d.jsxs)("div",{className:"hp-float-right hp-d-inline-block",children:[p&&Object(d.jsx)("div",{className:"hp-pl-4 hp-d-inline-block",children:Object(d.jsx)(c.a,{className:"",type:"primary",onClick:function(){return j(!0)},icon:Object(d.jsx)(r.b,{className:"remix-icon",size:22}),children:!o.isMobile&&p})}),u&&Object(d.jsx)("div",{className:"hp-pl-4 hp-d-inline-block",children:Object(d.jsx)(c.a,{className:"hp-pr-12",type:"primary",onClick:function(){return b(!0)},icon:Object(d.jsx)(r.b,{className:"remix-icon",size:22}),children:!o.isMobile&&u})})]})})]})})}},537:function(e,a,t){"use strict";a.a=t.p+"static/media/empty-list.6fd5c5d1.svg"},538:function(e,a,t){"use strict";var n=t(9),i=t(10),c=t(181),l=t(11),s=t.n(l),r=t(52),o=t(23),d=t(0),m=t(154),h=t(182),p=t(83),u=t(84),j=t(140),b=t(283),v=t(262),x=t(263),O=t(38),y=void 0,g=function(e,a){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)a.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(t[n[i]]=e[n[i]])}return t},f=d.forwardRef((function(e,a){var t=d.useContext(p.b).getPrefixCls,c=Object(r.a)(!1,{value:e.visible,defaultValue:e.defaultVisible}),l=Object(i.a)(c,2),f=l[0],k=l[1],_=function(a,t){var n;k(a,!0),null===(n=e.onVisibleChange)||void 0===n||n.call(e,a,t)},S=function(e){_(!1,e)},C=function(a){var t;return null===(t=e.onConfirm)||void 0===t?void 0:t.call(y,a)},N=function(a){var t;_(!1,a),null===(t=e.onCancel)||void 0===t||t.call(y,a)},P=e.prefixCls,M=e.placement,w=e.children,L=e.overlayClassName,V=g(e,["prefixCls","placement","children","overlayClassName"]),D=t("popover",P),Y=t("popconfirm",P),B=s()(Y,L),T=d.createElement(u.a,{componentName:"Popconfirm",defaultLocale:j.a.Popconfirm},(function(a){return function(a,i){var c=e.okButtonProps,l=e.cancelButtonProps,s=e.title,r=e.cancelText,o=e.okText,p=e.okType,u=e.icon,j=e.showCancel,b=void 0===j||j;return d.createElement("div",{className:"".concat(a,"-inner-content")},d.createElement("div",{className:"".concat(a,"-message")},u,d.createElement("div",{className:"".concat(a,"-message-title")},Object(x.a)(s))),d.createElement("div",{className:"".concat(a,"-buttons")},b&&d.createElement(m.a,Object(n.a)({onClick:N,size:"small"},l),r||i.cancelText),d.createElement(v.a,{buttonProps:Object(n.a)(Object(n.a)({size:"small"},Object(h.a)(p)),c),actionFn:C,close:S,prefixCls:t("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},o||i.okText)))}(D,a)}));return d.createElement(b.a,Object(n.a)({},V,{prefixCls:D,placement:M,onVisibleChange:function(a){e.disabled||_(a)},visible:f,_overlay:T,overlayClassName:B,ref:a}),Object(O.a)(w,{onKeyDown:function(e){var a,t;d.isValidElement(w)&&(null===(t=null===w||void 0===w?void 0:(a=w.props).onKeyDown)||void 0===t||t.call(a,e)),function(e){e.keyCode===o.a.ESC&&f&&_(!1,e)}(e)}}))}));f.defaultProps={placement:"top",trigger:"click",okType:"primary",icon:d.createElement(c.a,null),disabled:!1},a.a=f},540:function(e,a,t){"use strict";a.a=t.p+"static/media/broken_img.203310e1.png"},545:function(e,a,t){"use strict";a.a=t.p+"static/media/dummy-img.4128e0e1.jpeg"},546:function(e,a,t){"use strict";a.a=t.p+"static/media/defaultVechicleImg.5d5b5510.svg"},693:function(e,a,t){"use strict";t.r(a);var n=t(1),i=t(10),c=t(0),l=t(524),s=t(550),r=t(519),o=t(521),d=t(154),m=t(538),h=t(337),p=t(532),u=t(340),j=t(531),b=t(202),v=t(350),x=t(361),O=t(343),y=t(357),g=t(32),f=t(19),k=t.n(f),_=(t(534),t(536)),S=t(537),C=t(49),N=t(525),P=t(682),M=(t(545),t(546)),w=t(540),L=t(3);function V(e){var a,t,n,i,c,l,s,d,m=e.value,h=N.a.Text,p=N.a.Link,u=N.a.Title;j.a.Meta;return Object(L.jsx)(o.a,{span:24,xs:12,sm:10,md:8,lg:6,xl:6,xxl:4,className:"hp-mb-32",children:Object(L.jsx)(p,{href:"/pages/mystock-view/"+m.id,children:Object(L.jsx)(j.a,{hoverable:!0,cover:null==m.vehiclefront_image?Object(L.jsx)(P.a,{height:150,src:M.a,alt:"Default Vehicle Image",preview:!1,onError:function(e){var a=e.currentTarget;a.onerror=null,a.src=w.a}}):Object(L.jsx)(P.a,{height:150,src:null===(a=m.vehiclefront_image)||void 0===a?void 0:a.file_thumbnail,alt:null===(t=m.vehiclefront_image)||void 0===t?void 0:t.alt,preview:!1,onError:function(e){var a=e.currentTarget;a.onerror=null,a.src=w.a}}),actions:[],children:Object(L.jsxs)(o.a,{span:24,children:[Object(L.jsx)(r.a,{gutter:[24,24],className:"hp-mb-10",children:Object(L.jsxs)(o.a,{className:" hp-mt-0 hp-p-0",children:[Object(L.jsx)(u,{level:4,className:"hp-mb-0",children:null===(n=m.vehicle)||void 0===n?void 0:n.vehicleno}),Object(L.jsx)(h,{type:"secondary",children:null===(i=m.vehicle)||void 0===i||null===(c=i.version)||void 0===c?void 0:c.name})]})}),Object(L.jsxs)(r.a,{gutter:[24,24],className:"hp-mb-5",children:[Object(L.jsxs)(o.a,{className:"hp-mt-0 hp-p-0",span:12,children:[Object(L.jsx)("p",{className:"hp-mb-0 hp-caption hp-font-weight-400 hp-text-color-black-80 hp-text-color-dark-30",children:"Party Type :"}),Object(L.jsx)("p",{className:"hp-mb-10 hp-p1-body hp-text-blue hp-font-weight-600",children:m.partytype_name})]}),Object(L.jsxs)(o.a,{className:"hp-mt-0 hp-p-0",span:12,children:[Object(L.jsx)("p",{className:"hp-mb-0 hp-caption hp-font-weight-400 hp-text-color-black-80 hp-text-color-dark-30",children:"Stock Status :"}),Object(L.jsx)(h,{type:m.availability?"success":"danger",children:m.availability?"Available":"Not Available"})]})]}),Object(L.jsxs)(r.a,{gutter:[24,24],className:"hp-mb-5",children:[Object(L.jsxs)(o.a,{className:"hp-mt-0 hp-p-0",span:12,children:[Object(L.jsx)("p",{className:"hp-mb-0 hp-caption hp-font-weight-400 hp-text-color-black-80 hp-text-color-dark-30",children:"Counter :"}),Object(L.jsx)("p",{className:"hp-mb-10 hp-p1-body hp-text-blue hp-font-weight-600",children:null===(l=m.counter)||void 0===l?void 0:l.name})]}),Object(L.jsxs)(o.a,{className:"hp-mt-0 hp-p-0",span:12,children:[Object(L.jsx)("p",{className:"hp-mb-0 hp-caption hp-font-weight-400 hp-text-color-black-80 hp-text-color-dark-30",children:"Cluster :"}),Object(L.jsx)("p",{className:"hp-mb-10 hp-p1-body hp-text-blue hp-font-weight-600",children:null===(s=m.counter)||void 0===s||null===(d=s.cluster)||void 0===d?void 0:d.name})]})]}),Object(L.jsx)(r.a,{gutter:[24,24],className:"hp-mb-5",children:Object(L.jsxs)(o.a,{className:"hp-mt-0 hp-p-0",span:24,children:[Object(L.jsx)("p",{className:"hp-mb-0 hp-caption hp-font-weight-400 hp-text-color-black-80 hp-text-color-dark-30",children:"Last Daily Attendence :"}),Object(L.jsx)("p",{className:"hp-mb-10 hp-p1-body hp-text-blue hp-font-weight-600",children:""==m.lastdailyattendence||null==m.lastdailyattendence?"None":k()(m.lastdailyattendence).format("DD-MM-YYYY hh:mm a")})]})}),Object(L.jsx)(r.a,{gutter:[24,24],className:"hp-mb-5",children:Object(L.jsxs)(o.a,{className:"hp-mt-0 hp-p-0",span:24,children:[Object(L.jsx)("p",{className:"hp-mb-0 hp-caption hp-font-weight-400 hp-text-color-black-80 hp-text-color-dark-30",children:"Last Verfication Attendence :"}),Object(L.jsx)("p",{className:"hp-mb-10 hp-p1-body hp-text-blue hp-font-weight-600",children:""==m.lastverficationattendence||null==m.lastverficationattendence?"None":k()(m.lastverficationattendence).format("DD-MM-YYYY hh:mm a")})]})})]})})})},m.id)}var D=t(676),Y=t(43);var B=Object(g.b)((function(e){var a=e.mystock;return{loading:a.loading,myStockParams:a.myStockParams}}),{})((function(e){var a=e.stockList,t="hp-p1-body hp-text-color-black-100 hp-text-color-dark-0 hp-font-weight-600 ",i=[{title:"S.No",dataIndex:"index",width:"3%"},{title:"Date",dataIndex:"date",width:"10%",render:function(e){return Object(L.jsx)("span",{className:t,children:e})}},{title:"Doc No",dataIndex:"code",width:"10%",render:function(e){return Object(L.jsx)("span",{className:t,children:e})}},{title:"Customer",width:"10%",render:function(e){var a;return Object(L.jsx)("span",{className:t,children:null===(a=e.customer)||void 0===a?void 0:a.firstname})}},{title:"Vehicle No",width:"10%",render:function(e){return Object(L.jsx)(Y.b,{to:"/pages/purchases-view/"+e.id,children:e.vehicle.vehicleno})}},{title:"Counter Name",width:"10%",render:function(e){var a;return Object(L.jsx)("span",{className:t,children:null===(a=e.counter)||void 0===a?void 0:a.name})}},{title:"Party Type",width:"10%",render:function(e){return Object(L.jsx)("span",{className:t,children:e.partytype_name})}},{title:"Version",width:"10%",render:function(e){var a,n;return Object(L.jsx)("span",{className:t,children:null===(a=e.vehicle)||void 0===a||null===(n=a.version)||void 0===n?void 0:n.name})}},{title:"Brand",width:"10%",render:function(e){var a,n,i;return Object(L.jsx)("span",{className:t,children:null===(a=e.vehicle)||void 0===a||null===(n=a.version)||void 0===n||null===(i=n.brand)||void 0===i?void 0:i.name})}},{title:"Brand Family",width:"10%",render:function(e){var a,n,i;return Object(L.jsx)("span",{className:t,children:null===(a=e.vehicle)||void 0===a||null===(n=a.version)||void 0===n||null===(i=n.brandfamily)||void 0===i?void 0:i.name})}},{title:"Status",width:"10%",render:function(e){return Object(L.jsx)("span",{className:t,children:e.approvalstatus_name})}}],c=a.map((function(a,t){return Object(n.a)(Object(n.a)({},a),{},{index:(e.myStockParams.page-1)*e.myStockParams.page_size+(t+1)})}));return Object(L.jsx)(j.a,{children:Object(L.jsx)(r.a,{className:"hp-mb-12",children:Object(L.jsx)(o.a,{span:24,children:Object(L.jsx)(h.a,{tip:"Loading...",spinning:e.loading,delay:500,children:Object(L.jsx)(D.a,{columns:i,rowClassName:"hp-btn-bg-color-none",dataSource:c,scroll:{x:1300},pagination:!1,size:"middle"})})})})})})),T=t(215),F=t(677),I=t(15);var z=Object(g.b)((function(e){var a=e.mystock,t=e.mini;return{loading:a.loading,myStockParams:a.myStockParams,miniCountersList:t.miniCountersList,miniModelsList:t.miniModelsList,miniBrandsList:t.miniBrandsList,miniBrandFamilyList:t.miniBrandFamilyList,miniVersionList:t.miniVersionList,miniVehicletypesList:t.miniVehicletypesList}}),{InputChangeValue:C.a,clearData:C.e,getMiniCounters:I.v,getMiniModels:I.J,getMyStockList:C.i,setMyStockParams:C.t,getMiniBrands:I.o,getMiniBrandFamily:I.m,getMiniVersion:I.cb,getMiniVehicletypes:I.ab,getMiniZonesClearData:I.fb,getMiniClustersClearData:I.t,getMiniDivisionsClearData:I.B,getMiniCountersClearData:I.w,getMiniBrandsClearData:I.p,getMiniBrandFamilyClearData:I.n,getMiniModelsClearData:I.K,getMiniVersionClearData:I.db})((function(e){var a,t,s,m,h,p,u,b,v=l.a.useForm(),x=Object(i.a)(v,1)[0];return Object(c.useEffect)((function(){e.clearData(),e.getMiniCounters(),e.getMiniModels(),e.getMiniBrands(),e.getMiniVehicletypes(),e.getMiniVersion(),e.getMiniBrandFamily()}),[]),console.log("props.miniModelsList",e.miniModelsList),Object(c.useEffect)((function(){var a,t,n,i;x.setFieldsValue({counter__zone:null===(a=e.myStockParams)||void 0===a?void 0:a.counter__zone,counter__division:null===(t=e.myStockParams)||void 0===t?void 0:t.counter__division,counter__cluster:null===(n=e.myStockParams)||void 0===n?void 0:n.counter__cluster,counter:e.myStockParams.counter,vehicle__year:e.myStockParams.vehicle__year,vehicle__version__model:e.myStockParams.vehicle__version__model,vehicle__version__brand:e.myStockParams.vehicle__version__brand,vehicle__version__brandfamily:e.myStockParams.vehicle__version__brandfamily,vehicle__version__vehicletype:e.myStockParams.vehicle__version__vehicletype,vehicle__version:e.myStockParams.vehicle__version,availability:null===(i=e.myStockParams)||void 0===i?void 0:i.availability})}),[e.myStockParams]),Object(L.jsx)(r.a,{gutter:[12,12],children:Object(L.jsx)(o.a,{span:24,children:Object(L.jsx)(j.a,{children:Object(L.jsx)(l.a,{form:x,layout:"vertical",name:"basic",initialValues:{remember:!0},onFinish:function(){e.getMyStockList(Object(n.a)(Object(n.a)({},e.myStockParams),{},{page:1,vehicle__year:e.myStockParams.vehicle__year?k()(e.myStockParams.vehicle__year).format("YYYY"):""}))},children:Object(L.jsxs)(r.a,{gutter:[12,12],children:[Object(L.jsx)(o.a,{span:24,xs:24,md:6,xl:6,children:Object(L.jsx)(l.a.Item,{label:"Counter :",name:"counter",className:"hp-mb-0",children:Object(L.jsx)(T.a,{showSearch:!0,allowClear:!0,placeholder:"Select a Counter",optionFilterProp:"children",filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},onChange:function(a){e.InputChangeValue({key:"counter",value:a})},value:null==e.myStockParams.counter_id?"":null===(a=e.myStockParams)||void 0===a?void 0:a.counter_id,children:e.miniCountersList.map((function(e,a){return Object(L.jsx)(Option,{value:e.id,children:e.name},a)}))})})}),Object(L.jsx)(o.a,{span:24,xs:24,md:6,xl:6,children:Object(L.jsx)(l.a.Item,{label:"Brand Name:",name:"vehicle__version__brand",className:"hp-mb-0",children:Object(L.jsx)(T.a,{showSearch:!0,allowClear:!0,placeholder:"Select Brand",optionFilterProp:"brand",filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},onChange:function(a){e.getMiniBrandFamily({brand:a}),e.getMiniBrandFamilyClearData(),e.getMiniModelsClearData(),e.getMiniVersionClearData(),e.InputChangeValue({key:"vehicle__version__brand",value:a})},value:null==e.myStockParams.brand_id?"":null===(t=e.myStockParams)||void 0===t?void 0:t.brand_id,children:e.miniBrandsList.map((function(e,a){return Object(L.jsx)(Option,{value:e.id,children:e.name},a)}))})})}),Object(L.jsx)(o.a,{span:24,xs:24,md:6,xl:6,children:Object(L.jsx)(l.a.Item,{label:"BrandFamily Name:",name:"vehicle__version__brandfamily",className:"hp-mb-0",children:Object(L.jsx)(T.a,{showSearch:!0,allowClear:!0,placeholder:"Select BrandFamily",optionFilterProp:"brandfamily",filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},onChange:function(a){e.getMiniModels({brandfamily:a}),e.getMiniModelsClearData(),e.getMiniVersionClearData(),e.InputChangeValue({key:"vehicle__version__brandfamily",value:a})},value:null==e.myStockParams.brandfamily_id?"":null===(s=e.myStockParams)||void 0===s?void 0:s.brandfamily_id,children:e.miniBrandFamilyList.map((function(e,a){return Object(L.jsx)(Option,{value:e.id,children:e.name},a)}))})})}),Object(L.jsx)(o.a,{span:24,xs:24,md:6,xl:6,className:"hp-pr-sm-0 hp-pr-12",children:Object(L.jsx)(l.a.Item,{label:"Model :",name:"vehicle__version__model",className:"hp-mb-0",children:Object(L.jsx)(T.a,{showSearch:!0,allowClear:!0,filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},placeholder:"Select Model",optionFilterProp:"Model",onChange:function(a){e.getMiniVersion({model:a}),e.getMiniVersionClearData(),e.InputChangeValue({key:"vehicle__version__model",value:a})},value:null==e.myStockParams.model_id?"":null===(m=e.myStockParams)||void 0===m?void 0:m.model_id,children:e.miniModelsList.map((function(e,a){return Object(L.jsx)(Option,{value:e.id,children:e.name},a)}))})})}),Object(L.jsx)(o.a,{span:24,xs:24,md:6,xl:6,children:Object(L.jsx)(l.a.Item,{label:"Version :",name:"vehicle__version",className:"hp-mb-0",children:Object(L.jsx)(T.a,{showSearch:!0,allowClear:!0,filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},placeholder:"Select Version",optionFilterProp:"Version",onChange:function(a){e.InputChangeValue({key:"vehicle__version",value:a})},value:null==e.myStockParams.version_id?"":null===(h=e.myStockParams)||void 0===h?void 0:h.version_id,children:e.miniVersionList.map((function(e,a){return Object(L.jsx)(Option,{value:e.id,children:e.name},a)}))})})}),Object(L.jsx)(o.a,{span:24,xs:24,md:6,xl:6,children:Object(L.jsx)(l.a.Item,{label:"Vehicle Type :",name:"vehicle__version__vehicletype",className:"hp-mb-0",children:Object(L.jsx)(T.a,{showSearch:!0,allowClear:!0,filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},placeholder:"Select Vehicle Type",optionFilterProp:"vehicletype",onChange:function(a){e.InputChangeValue({key:"vehicle__version__vehicletype",value:a})},value:null==e.myStockParams.vehicletype_id?"":null===(p=e.myStockParams)||void 0===p?void 0:p.vehicletype_id,children:e.miniVehicletypesList.map((function(e,a){return Object(L.jsx)(Option,{value:e.id,children:e.name},a)}))})})}),Object(L.jsx)(o.a,{span:24,xs:24,md:6,xl:6,children:Object(L.jsx)(l.a.Item,{label:"Availability",name:"availability",className:"hp-mb-0",children:Object(L.jsx)(T.a,{showSearch:!0,allowClear:!0,placeholder:"Select Availability",optionFilterProp:"availability",filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},onChange:function(a){e.InputChangeValue({key:"availability",value:a})},value:null==e.myStockParams.availability?"":null===(u=e.myStockParams)||void 0===u?void 0:u.availability,children:[{value:!0,name:"Yes"},{value:!1,name:"No"}].map((function(e,a){return Object(L.jsx)(Option,{value:e.value,children:e.name},a)}))})})}),Object(L.jsx)(o.a,{span:24,xs:24,md:6,xl:6,children:Object(L.jsx)(l.a.Item,{label:"Year",name:"vehicle__year",className:"hp-mb-0",children:Object(L.jsx)(F.a,{id:"year",name:"vehicle__year",style:{width:"100%"},picker:"year",format:"YYYY",disabledDate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{startDate:!1,endDate:!1},a=e.startDate,t=e.endDate;return function(e){var n=!0,i=!0;return a&&(n=e&&e<k()(a,"YYYY")),t&&(i=e&&e>k()(t,"YYYY")),a&&n||t&&i}}({endDate:new Date,startDate:1990}),placeholder:"Select Year",value:null===(b=e.myStockParams)||void 0===b?void 0:b.year,onChange:function(a){e.InputChangeValue({key:"vehicle__year",value:a})}})})}),Object(L.jsx)(o.a,{md:4,className:"hp-mt-18",children:Object(L.jsx)(d.a,{block:!0,type:"secondary",className:"hp-submit-btn hp-mt-10",onClick:function(){e.setMyStockParams({page:1,search:"",page_size:10}),e.getMyStockList({page:1,search:"",page_size:10}),e.getMiniCounters(),e.getMiniModels(),e.getMiniVehicletypes(),e.getMiniBrandFamily(),e.getMiniVersion(),e.getMiniBrands()},htmlType:"button",children:"Clear"})}),Object(L.jsx)(o.a,{md:4,className:"hp-mt-18",children:Object(L.jsx)(d.a,{block:!0,type:"primary",className:"hp-submit-btn hp-mt-10",onClick:function(){x.submit()},children:"Apply"})})]})})})})})})),E=t(183),A=t(8);a.default=Object(g.b)((function(e){var a=e.mystock,t=e.system;return{loading:a.loading,myStockParams:a.myStockParams,myStockList:a.myStockList,listCount:a.listCount,userAccessList:t.userAccessList}}),{InputChangeValue:C.a,clearData:C.e,getMyStockList:C.i,setMyStockParams:C.t,getReportList:E.f,clearStockList:C.f})((function(e){var a,t,g,f,C,N=l.a.useForm(),P=Object(i.a)(N,1)[0],M=s.a.Search,w=Object(c.useState)(!1),D=Object(i.a)(w,2),Y=D[0],T=D[1],F=Object(c.useState)(!1),I=Object(i.a)(F,2),E=I[0],R=I[1];function J(a,t){e.clearStockList(),e.setMyStockParams(Object(n.a)(Object(n.a)({},e.myStockParams),{},{page_size:t,page:0==a?1:a})),e.getMyStockList(Object(n.a)(Object(n.a)({},e.myStockParams),{},{page_size:t,page:0==a?1:a}))}function K(e){return"Total "+e+" items"}return Object(c.useEffect)((function(){e.clearData(),e.getMyStockList(Object(n.a)(Object(n.a)({},e.myStockParams),{},{page:1,search:"",page_size:10}))}),[]),Object(c.useEffect)((function(){var a,t;P.setFieldsValue({start_date:null===(a=e.myStockParams)||void 0===a?void 0:a.start_date,end_date:null===(t=e.myStockParams)||void 0===t?void 0:t.end_date})}),[e.myStockParams]),Object(L.jsxs)(r.a,{gutter:[12,12],children:[Object(L.jsx)(_.a,{pageTitle:"My Stock",goBack:!1}),Object(L.jsx)(o.a,{span:24,children:Object(L.jsxs)(r.a,{gutter:[12,12],className:"hp-ecommerce-app-header ",children:[Object(L.jsx)(o.a,{md:14,xs:24,className:"hp-ecommerce-app-header-search ",children:Object(L.jsx)(M,{placeholder:"Search for date, doc, number, customer, counter, vehicle",allowClear:!0,onChange:function(a){""==a.target.value&&(e.getMyStockList(Object(n.a)(Object(n.a)({},e.myStockParams),{},{page:1,search:""})),e.setMyStockParams(Object(n.a)(Object(n.a)({},e.myStockParams),{},{page:1,search:""})))},onSearch:function(a){var t;t=a,e.getMyStockList(Object(n.a)(Object(n.a)({},e.myStockParams),{},{page:1,search:t})),e.setMyStockParams(Object(n.a)(Object(n.a)({},e.myStockParams),{},{page:1,search:t}))}})}),Object(L.jsx)(o.a,{md:4,xs:8,children:Object(L.jsxs)(d.a,{onClick:function(){R((function(e){return!e}))},className:"hp-w-100 hp-p-12 ",icon:Object(L.jsx)(v.a,{className:"hp-mr-10"}),size:"small",children:[" ","Filter"]})}),-1!==(null===(a=e.userAccessList)||void 0===a?void 0:a.indexOf("Purchase.export_stock"))&&Object(L.jsx)(o.a,{md:4,xs:8,children:Object(L.jsx)(m.a,{placement:"topRight",title:"Are you sure to export this Record?",onConfirm:function(){e.getReportList({objData:{file_format:0,model_name:"Stock"},ParamsData:Object(n.a)(Object(n.a)({},e.myStockParams),{},{start_date:null!=e.myStockParams.start_date&&""!=e.myStockParams.start_date?k()(e.myStockParams.start_date).format("YYYY-MM-DD"):"",end_date:null!=e.myStockParams.end_date&&""!=e.myStockParams.end_date?k()(e.myStockParams.end_date).add(1,"days").format("YYYY-MM-DD"):""})})},okText:"Yes",cancelText:"No",className:"hp-ml-8",icon:Object(L.jsx)(A.n,{className:"remix-icon hp-text-color-primary-1"}),children:Object(L.jsx)(d.a,{className:"hp-w-100 hp-p-12",icon:Object(L.jsx)(x.a,{className:"hp-mr-10"}),size:"small",children:"Export"})})}),Object(L.jsx)(o.a,{md:1,xs:4,children:Object(L.jsx)(d.a,{className:"hp-w-100 hp-p-12",icon:Object(L.jsx)(O.a,{}),onClick:function(){return T(!1)}})}),Object(L.jsx)(o.a,{md:1,xs:4,children:Object(L.jsx)(d.a,{className:"hp-w-100 hp-p-12",icon:Object(L.jsx)(y.a,{}),onClick:function(){return T(!0)}})})]})}),E&&Object(L.jsx)(o.a,{span:24,xs:24,children:Object(L.jsx)(z,{})}),Object(L.jsx)(o.a,{span:24,xs:24,className:"hp-purchase-app-content",productListToggle:Y,setProductListToggle:T,children:Object(L.jsx)(h.a,{tip:"Loading...",spinning:e.loading,delay:500,children:0!==e.myStockList.length?Object(L.jsx)(L.Fragment,{children:Y?Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(B,{stockList:e.myStockList})," ",Object(L.jsx)(u.a,{size:"small",current:null===(f=e.myStockParams)||void 0===f?void 0:f.page,pageSize:null===(C=e.myStockParams)||void 0===C?void 0:C.page_size,total:e.listCount,showTotal:K,showSizeChanger:!0,onChange:J,className:"hp-mb-12 hp-mt-24 hp-float-right"})]}):Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(p.b,{dataSource:e.myStockList,renderItem:function(e){return Object(L.jsx)(V,{value:e})}}),Object(L.jsx)(u.a,{size:"small",current:null===(t=e.myStockParams)||void 0===t?void 0:t.page,pageSize:null===(g=e.myStockParams)||void 0===g?void 0:g.page_size,total:e.listCount,showTotal:K,showSizeChanger:!0,onChange:J,className:"hp-mb-12 hp-mt-24 hp-float-right"})]})}):Object(L.jsx)(j.a,{children:Object(L.jsx)(b.a,{className:"hp-m-32",image:S.a,imageStyle:{height:160},description:Object(L.jsx)("h5",{children:"Your Stock list is empty"})})})})})]})}))}}]);
//# sourceMappingURL=20.c808acc7.chunk.js.map