(this["webpackJsonpwheelsmart-admin-react"]=this["webpackJsonpwheelsmart-admin-react"]||[]).push([[2],{682:function(e,t,n){"use strict";var r=n(9),a=n(20),o=n(285),i=n(1),c=n(7),l=n(10),s=n(25),u=n(0),f=n(11),m=n.n(f),p=n(554),v=n(52),d=n(341),b=n(174),O=n(23),g=n(35),w=n(30);function j(e,t,n,r){var a=t+n,o=(n-r)/2;if(n>r){if(t>0)return Object(c.a)({},e,o);if(t<0&&a<r)return Object(c.a)({},e,-o)}else if(t<0||a>r)return Object(c.a)({},e,t<0?o:-o);return{}}var C=["visible","onVisibleChange","getContainer","current","countRender"],h=u.createContext({previewUrls:new Map,setPreviewUrls:function(){return null},current:null,setCurrent:function(){return null},setShowPreview:function(){return null},setMousePosition:function(){return null},registerImage:function(){return function(){return null}},rootClassName:""}),y=h.Provider,P=function(e){var t=e.previewPrefixCls,n=void 0===t?"rc-image-preview":t,o=e.children,i=e.icons,c=void 0===i?{}:i,f=e.preview,m="object"===Object(a.a)(f)?f:{},p=m.visible,d=void 0===p?void 0:p,b=m.onVisibleChange,O=void 0===b?void 0:b,g=m.getContainer,w=void 0===g?void 0:g,j=m.current,h=void 0===j?0:j,P=m.countRender,E=void 0===P?void 0:P,x=Object(s.a)(m,C),N=Object(u.useState)(new Map),k=Object(l.a)(N,2),S=k[0],M=k[1],R=Object(u.useState)(),I=Object(l.a)(R,2),D=I[0],Y=I[1],G=Object(v.a)(!!d,{value:d,onChange:O}),T=Object(l.a)(G,2),X=T[0],L=T[1],U=Object(u.useState)(null),V=Object(l.a)(U,2),A=V[0],H=V[1],F=void 0!==d,J=Array.from(S.keys())[h],W=new Map(Array.from(S).filter((function(e){return!!Object(l.a)(e,2)[1].canPreview})).map((function(e){var t=Object(l.a)(e,2);return[t[0],t[1].url]})));return u.useEffect((function(){Y(J)}),[J]),u.useEffect((function(){!X&&F&&Y(J)}),[J,F,X]),u.createElement(y,{value:{isPreviewGroup:!0,previewUrls:W,setPreviewUrls:M,current:D,setCurrent:Y,setShowPreview:L,setMousePosition:H,registerImage:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=function(){M((function(t){var n=new Map(t);return n.delete(e)?n:t}))};return M((function(r){return new Map(r).set(e,{url:t,canPreview:n})})),r}}},o,u.createElement(z,Object(r.a)({"aria-hidden":!X,visible:X,prefixCls:n,onClose:function(e){e.stopPropagation(),L(!1),H(null)},mousePosition:A,src:W.get(D),icons:c,getContainer:w,countRender:E},x)))},E=["prefixCls","src","alt","onClose","afterClose","visible","icons","rootClassName","countRender"],x=u.useState,N=u.useEffect,k=u.useCallback,S=u.useRef,M=u.useContext,R={x:0,y:0},z=function(e){var t,n=e.prefixCls,a=e.src,o=e.alt,f=e.onClose,v=(e.afterClose,e.visible),C=e.icons,y=void 0===C?{}:C,P=e.rootClassName,z=e.countRender,I=Object(s.a)(e,E),D=y.rotateLeft,Y=y.rotateRight,G=y.zoomIn,T=y.zoomOut,X=y.close,L=y.left,U=y.right,V=x(1),A=Object(l.a)(V,2),H=A[0],F=A[1],J=x(0),W=Object(l.a)(J,2),B=W[0],q=W[1],K=function(e){var t=u.useRef(null),n=u.useState(e),r=Object(l.a)(n,2),a=r[0],o=r[1],c=u.useRef([]);return u.useEffect((function(){return function(){return t.current&&w.a.cancel(t.current)}}),[]),[a,function(e){null===t.current&&(c.current=[],t.current=Object(w.a)((function(){o((function(e){var n=e;return c.current.forEach((function(e){n=Object(i.a)(Object(i.a)({},n),e)})),t.current=null,n}))}))),c.current.push(e)}]}(R),Q=Object(l.a)(K,2),Z=Q[0],$=Q[1],_=S(),ee=S({originX:0,originY:0,deltaX:0,deltaY:0}),te=x(!1),ne=Object(l.a)(te,2),re=ne[0],ae=ne[1],oe=M(h),ie=oe.previewUrls,ce=oe.current,le=oe.isPreviewGroup,se=oe.setCurrent,ue=ie.size,fe=Array.from(ie.keys()),me=fe.indexOf(ce),pe=le?ie.get(ce):a,ve=le&&ue>1,de=x({wheelDirection:0}),be=Object(l.a)(de,2),Oe=be[0],ge=be[1],we=function(){F((function(e){return e+1})),$(R)},je=function(){H>1&&F((function(e){return e-1})),$(R)},Ce=m()(Object(c.a)({},"".concat(n,"-moving"),re)),he="".concat(n,"-operations-operation"),ye="".concat(n,"-operations-icon"),Pe=[{icon:X,onClick:f,type:"close"},{icon:G,onClick:we,type:"zoomIn"},{icon:T,onClick:je,type:"zoomOut",disabled:1===H},{icon:Y,onClick:function(){q((function(e){return e+90}))},type:"rotateRight"},{icon:D,onClick:function(){q((function(e){return e-90}))},type:"rotateLeft"}],Ee=function(){if(v&&re){var e=_.current.offsetWidth*H,t=_.current.offsetHeight*H,n=_.current.getBoundingClientRect(),r=n.left,a=n.top,o=B%180!==0;ae(!1);var c=function(e,t,n,r){var a=Object(p.a)(),o=a.width,c=a.height,l=null;return e<=o&&t<=c?l={x:0,y:0}:(e>o||t>c)&&(l=Object(i.a)(Object(i.a)({},j("x",n,e,o)),j("y",r,t,c))),l}(o?t:e,o?e:t,r,a);c&&$(Object(i.a)({},c))}},xe=function(e){v&&re&&$({x:e.pageX-ee.current.deltaX,y:e.pageY-ee.current.deltaY})},Ne=function(e){if(v){e.preventDefault();var t=e.deltaY;ge({wheelDirection:t})}},ke=k((function(e){v&&ve&&(e.preventDefault(),e.keyCode===O.a.LEFT?me>0&&se(fe[me-1]):e.keyCode===O.a.RIGHT&&me<ue-1&&se(fe[me+1]))}),[me,ue,fe,se,ve,v]);return N((function(){var e=Oe.wheelDirection;e>0?je():e<0&&we()}),[Oe]),N((function(){var e,t,n=Object(b.a)(window,"mouseup",Ee,!1),r=Object(b.a)(window,"mousemove",xe,!1),a=Object(b.a)(window,"wheel",Ne,{passive:!1}),o=Object(b.a)(window,"keydown",ke,!1);try{window.top!==window.self&&(e=Object(b.a)(window.top,"mouseup",Ee,!1),t=Object(b.a)(window.top,"mousemove",xe,!1))}catch(i){Object(g.c)(!1,"[rc-image] ".concat(i))}return function(){n.remove(),r.remove(),a.remove(),o.remove(),e&&e.remove(),t&&t.remove()}}),[v,re,ke]),u.createElement(d.a,Object(r.a)({transitionName:"zoom",maskTransitionName:"fade",closable:!1,keyboard:!0,prefixCls:n,onClose:f,afterClose:function(){F(1),q(0),$(R)},visible:v,wrapClassName:Ce,rootClassName:P},I),u.createElement("ul",{className:"".concat(n,"-operations")},ve&&u.createElement("li",{className:"".concat(n,"-operations-progress")},null!==(t=null===z||void 0===z?void 0:z(me+1,ue))&&void 0!==t?t:"".concat(me+1," / ").concat(ue)),Pe.map((function(e){var t=e.icon,r=e.onClick,a=e.type,o=e.disabled;return u.createElement("li",{className:m()(he,Object(c.a)({},"".concat(n,"-operations-operation-disabled"),!!o)),onClick:r,key:a},u.isValidElement(t)?u.cloneElement(t,{className:ye}):t)}))),u.createElement("div",{className:"".concat(n,"-img-wrapper"),style:{transform:"translate3d(".concat(Z.x,"px, ").concat(Z.y,"px, 0)")}},u.createElement("img",{onMouseDown:function(e){0===e.button&&(e.preventDefault(),e.stopPropagation(),ee.current.deltaX=e.pageX-Z.x,ee.current.deltaY=e.pageY-Z.y,ee.current.originX=Z.x,ee.current.originY=Z.y,ae(!0))},onDoubleClick:function(){v&&(1!==H&&F(1),Z.x===R.x&&Z.y===R.y||$(R))},ref:_,className:"".concat(n,"-img"),src:pe,alt:o,style:{transform:"scale3d(".concat(H,", ").concat(H,", 1) rotate(").concat(B,"deg)")}})),ve&&u.createElement("div",{className:m()("".concat(n,"-switch-left"),Object(c.a)({},"".concat(n,"-switch-left-disabled"),0===me)),onClick:function(e){e.preventDefault(),e.stopPropagation(),me>0&&se(fe[me-1])}},L),ve&&u.createElement("div",{className:m()("".concat(n,"-switch-right"),Object(c.a)({},"".concat(n,"-switch-right-disabled"),me===ue-1)),onClick:function(e){e.preventDefault(),e.stopPropagation(),me<ue-1&&se(fe[me+1])}},U))},I=["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","rootClassName","crossOrigin","decoding","loading","referrerPolicy","sizes","srcSet","useMap"],D=["src","visible","onVisibleChange","getContainer","mask","maskClassName","icons"],Y=0,G=function(e){var t=e.src,n=e.alt,o=e.onPreviewClose,f=e.prefixCls,d=void 0===f?"rc-image":f,b=e.previewPrefixCls,O=void 0===b?"".concat(d,"-preview"):b,g=e.placeholder,w=e.fallback,j=e.width,C=e.height,y=e.style,P=e.preview,E=void 0===P||P,x=e.className,N=e.onClick,k=e.onError,S=e.wrapperClassName,M=e.wrapperStyle,R=e.rootClassName,G=e.crossOrigin,T=e.decoding,X=e.loading,L=e.referrerPolicy,U=e.sizes,V=e.srcSet,A=e.useMap,H=Object(s.a)(e,I),F=g&&!0!==g,J="object"===Object(a.a)(E)?E:{},W=J.src,B=J.visible,q=void 0===B?void 0:B,K=J.onVisibleChange,Q=void 0===K?o:K,Z=J.getContainer,$=void 0===Z?void 0:Z,_=J.mask,ee=J.maskClassName,te=J.icons,ne=Object(s.a)(J,D),re=null!==W&&void 0!==W?W:t,ae=void 0!==q,oe=Object(v.a)(!!q,{value:q,onChange:Q}),ie=Object(l.a)(oe,2),ce=ie[0],le=ie[1],se=Object(u.useState)(F?"loading":"normal"),ue=Object(l.a)(se,2),fe=ue[0],me=ue[1],pe=Object(u.useState)(null),ve=Object(l.a)(pe,2),de=ve[0],be=ve[1],Oe="error"===fe,ge=u.useContext(h),we=ge.isPreviewGroup,je=ge.setCurrent,Ce=ge.setShowPreview,he=ge.setMousePosition,ye=ge.registerImage,Pe=u.useState((function(){return Y+=1})),Ee=Object(l.a)(Pe,1)[0],xe=E&&!Oe,Ne=u.useRef(!1),ke=function(){me("normal")};u.useEffect((function(){return ye(Ee,re)}),[]),u.useEffect((function(){ye(Ee,re,xe)}),[re,xe]),u.useEffect((function(){Oe&&me("normal"),F&&!Ne.current&&me("loading")}),[t]);var Se=m()(d,S,R,Object(c.a)({},"".concat(d,"-error"),Oe)),Me=Oe&&w?w:re,Re={crossOrigin:G,decoding:T,loading:X,referrerPolicy:L,sizes:U,srcSet:V,useMap:A,alt:n,className:m()("".concat(d,"-img"),Object(c.a)({},"".concat(d,"-img-placeholder"),!0===g),x),style:Object(i.a)({height:C},y)};return u.createElement(u.Fragment,null,u.createElement("div",Object(r.a)({},H,{className:Se,onClick:xe?function(e){if(!ae){var t=Object(p.b)(e.target),n=t.left,r=t.top;we?(je(Ee),he({x:n,y:r})):be({x:n,y:r})}we?Ce(!0):le(!0),N&&N(e)}:N,style:Object(i.a)({width:j,height:C},M)}),u.createElement("img",Object(r.a)({},Re,{ref:function(e){Ne.current=!1,"loading"===fe&&(null===e||void 0===e?void 0:e.complete)&&(e.naturalWidth||e.naturalHeight)&&(Ne.current=!0,ke())}},Oe&&w?{src:w}:{onLoad:ke,onError:function(e){k&&k(e),me("error")},src:t})),"loading"===fe&&u.createElement("div",{"aria-hidden":"true",className:"".concat(d,"-placeholder")},g),_&&xe&&u.createElement("div",{className:m()("".concat(d,"-mask"),ee)},_)),!we&&xe&&u.createElement(z,Object(r.a)({"aria-hidden":!ce,visible:ce,prefixCls:O,onClose:function(e){e.stopPropagation(),le(!1),ae||be(null)},mousePosition:de,src:Me,alt:n,getContainer:$,icons:te,rootClassName:R},ne)))};G.PreviewGroup=P,G.displayName="Image";var T=G,X=n(83),L=n(593),U=n(65),V=n(122),A=n(173),H=n(158),F=n(301),J=n(302),W=n(303),B=n(304),q=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},K={rotateLeft:u.createElement(F.a,null),rotateRight:u.createElement(J.a,null),zoomIn:u.createElement(W.a,null),zoomOut:u.createElement(B.a,null),close:u.createElement(V.a,null),left:u.createElement(A.a,null),right:u.createElement(H.a,null)},Q=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},Z=function(e){var t=e.prefixCls,n=e.preview,i=Q(e,["prefixCls","preview"]),c=Object(u.useContext)(X.b),l=c.getPrefixCls,s=c.locale,f=void 0===s?L.a:s,m=c.getPopupContainer,p=l("image",t),v=l(),d=f.Image||L.a.Image,b=u.useMemo((function(){if(!1===n)return n;var e="object"===Object(a.a)(n)?n:{},t=e.getContainer,i=Q(e,["getContainer"]);return Object(r.a)(Object(r.a)({mask:u.createElement("div",{className:"".concat(p,"-mask-info")},u.createElement(o.a,null),null===d||void 0===d?void 0:d.preview),icons:K},i),{getContainer:t||m,transitionName:Object(U.c)(v,"zoom",e.transitionName),maskTransitionName:Object(U.c)(v,"fade",e.maskTransitionName)})}),[n,d]);return u.createElement(T,Object(r.a)({prefixCls:p,preview:b},i))};Z.PreviewGroup=function(e){var t=e.previewPrefixCls,n=e.preview,o=q(e,["previewPrefixCls","preview"]),i=u.useContext(X.b).getPrefixCls,c=i("image-preview",t),l=i(),s=u.useMemo((function(){if(!1===n)return n;var e="object"===Object(a.a)(n)?n:{};return Object(r.a)(Object(r.a)({},e),{transitionName:Object(U.c)(l,"zoom",e.transitionName),maskTransitionName:Object(U.c)(l,"fade",e.maskTransitionName)})}),[n]);return u.createElement(T.PreviewGroup,Object(r.a)({preview:s,previewPrefixCls:c,icons:K},o))};t.a=Z}}]);
//# sourceMappingURL=2.d50d7b2a.chunk.js.map