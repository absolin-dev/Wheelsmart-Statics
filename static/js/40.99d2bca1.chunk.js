(this["webpackJsonpwheelsmart-admin-react"]=this["webpackJsonpwheelsmart-admin-react"]||[]).push([[40],{534:function(e,i,n){"use strict";n.d(i,"a",(function(){return m}));n(0);var a=n(521),t=n(531),r=n(519),l=n(154),o=n(51),c=n(43),u=n(8),s=n(216),d=n(3);function m(e){var i=Object(o.f)(),n=e.pageTitle,m=e.pageText,h=e.addModelTile,p=e.goBack,y=e.setIsModalVisible;return Object(d.jsx)(a.a,{span:24,children:Object(d.jsx)(t.a,{className:"hp-m-0",children:Object(d.jsxs)(r.a,{children:[Object(d.jsxs)(a.a,{span:18,children:[p&&Object(d.jsx)(c.b,{to:"#",onClick:function(){return i.goBack()},className:"action-icon text-primary  hp-mr-12 hp-d-inline-block",children:Object(d.jsx)(u.d,{className:"remix-icon",size:24})}),Object(d.jsxs)(r.a,{className:"hp-d-inline-block",children:[Object(d.jsx)(a.a,{span:24,children:n&&Object(d.jsx)("h2",{className:"hp-m-0",children:n})}),Object(d.jsx)(a.a,{span:24,children:m&&Object(d.jsx)("p",{className:"hp-mb-0 hp-p1-body",children:m})})]})]}),Object(d.jsx)(a.a,{span:6,children:h&&Object(d.jsx)(l.a,{className:"hp-float-right",type:"primary",onClick:function(){return y(!0)},block:!0,icon:Object(d.jsx)(u.b,{className:"remix-icon",size:22}),children:!s.isMobile&&h})})]})})})}},535:function(e,i,n){"use strict";n.d(i,"a",(function(){return l}));var a=n(1),t=n(550),r=n(3);function l(e){var i=e.value,n=e.onChange,l=e.onBlur;return Object(r.jsx)(t.a,Object(a.a)(Object(a.a)({},e),{},{onChange:function(i){var a=i.target.value;(/^-?\d*(\.\d*)?$/.test(a)||""===a||"-"===a)&&n({key:e.name,value:a})},onBlur:e.onBlur&&function(){var n=i;"."!==i.charAt(i.length-1)&&"-"!==i||(n=i.slice(0,-1)),l({key:e.name,value:n.replace(/0*(\d+)/,"$1")})}}))}},536:function(e,i,n){"use strict";n.d(i,"a",(function(){return d}));n(0);var a=n(521),t=n(519),r=n(154),l=n(51),o=n(43),c=n(8),u=n(216),s=n(3);function d(e){var i=Object(l.f)(),n=e.pageTitle,d=e.pageText,m=e.goBack,h=e.addModelTile,p=e.addModelTile2,y=e.setIsModalVisible,v=e.setIsModalVisible2;return Object(s.jsx)(a.a,{span:24,className:"hp-mt-12",children:Object(s.jsxs)(t.a,{children:[Object(s.jsxs)(a.a,{span:16,xs:16,md:12,xl:16,children:[m&&Object(s.jsx)(o.b,{to:"#",onClick:function(){i.goBack()},className:"action-icon text-primary  hp-mr-12 hp-d-inline-block",children:Object(s.jsx)(c.d,{className:"remix-icon",size:24})}),Object(s.jsxs)(t.a,{className:"hp-d-inline-block",children:[Object(s.jsx)(a.a,{span:24,children:n&&Object(s.jsx)("h3",{className:"hp-mb-2 hp-mt-4",children:n})}),Object(s.jsx)(a.a,{span:24,children:d&&Object(s.jsx)("p",{className:"hp-mb-0 hp-p1-body",children:d})})]})]}),Object(s.jsx)(a.a,{span:8,xs:8,md:12,xl:8,children:Object(s.jsxs)("div",{className:"hp-float-right hp-d-inline-block",children:[h&&Object(s.jsx)("div",{className:"hp-pl-4 hp-d-inline-block",children:Object(s.jsx)(r.a,{className:"",type:"primary",onClick:function(){return y(!0)},icon:Object(s.jsx)(c.b,{className:"remix-icon",size:22}),children:!u.isMobile&&h})}),p&&Object(s.jsx)("div",{className:"hp-pl-4 hp-d-inline-block",children:Object(s.jsx)(r.a,{className:"hp-pr-12",type:"primary",onClick:function(){return v(!0)},icon:Object(s.jsx)(c.b,{className:"remix-icon",size:22}),children:!u.isMobile&&p})})]})})]})})}},691:function(e,i,n){"use strict";n.r(i);var a=n(1),t=n(0),r=n(550),l=n(538),o=n(519),c=n(521),u=n(154),s=n(337),d=n(531),m=n(340),h=n(539),p=n(676),y=n(8),v=n(536),b=n(32),j=n(350),q=n(235),O=n(361),x=(n(534),n(19)),g=n.n(x),f=n(74),D=n(216),w=n(15),C=n(10),V=(n(533),n(524)),_=n(215),M=n(526),P=n(677),N=n(535),k=n(3);var S=Object(b.b)((function(e){var i=e.enquiry,n=e.mini;return{enquiryData:i.enquiryData,model:i.model,miniCountersList:n.miniCountersList,miniOccupationList:n.miniOccupationList,miniVersionList:n.miniVersionList,miniBrandsList:n.miniBrandsList,miniBrandFamilyList:n.miniBrandFamilyList,miniModelsList:n.miniModelsList,purchaseAvaliableStockList:n.purchaseAvaliableStockList,purchaseAvailableStockParams:n.purchaseAvailableStockParams}}),{enquiryAdd:f.g,isModelVisible:f.p,InputChangeValue:f.b,getMiniCounters:w.v,getMiniOccupation:w.L,getMiniVersion:w.cb,getMiniBrands:w.o,getMiniBrandFamily:w.m,getMiniModels:w.J,getPurchaseAvailableStock:w.ib,setPurchaseAvailableStockParams:w.dc,getVehicleByID:f.n,clearPurchaseAvaliableStock:w.e})((function(e){var i,n,l,s,d,m,h,p,v,b,j,q,O,x,f,D,w,S,L,I,A,F,E,Y=V.a.useForm(),B=Object(C.a)(Y,1)[0];function T(i){e.InputChangeValue({key:i.target.name,value:i.target.value})}var R=_.a.Option;Object(t.useEffect)((function(){e.getMiniCounters(),e.getMiniOccupation(),e.getMiniBrands()}),[]);var z=function(){e.isModelVisible(!1)},U=function(){return null==e.enquiryData.id||0==e.enquiryData.id?Object(k.jsx)(t.Fragment,{children:Object(k.jsx)(u.a,{onClick:function(){B.submit()},type:"primary",block:!0,children:"Add"})}):Object(k.jsx)(t.Fragment,{children:Object(k.jsx)(u.a,{type:"primary",onClick:function(){B.submit()},block:!0,children:"Update"})})},H=function(){return Object(k.jsx)(t.Fragment,{children:Object(k.jsx)(u.a,{onClick:function(){z()},type:"primary",block:!0,ghost:!0,children:"Cancel"})})},Z=Object(k.jsxs)("h5",{className:"modal-title",children:[null==e.enquiryData.id||0==e.enquiryData.id?"Add":"Update"," ","Enquiry"]});function $(i){parseInt(i.value)>0&&parseInt(i.value)<=99&&(e.InputChangeValue({key:i.key,value:""}),M.a.error({icon:Object(k.jsx)("span",{className:"remix-icon",children:Object(k.jsx)(y.o,{})}),title:Object(k.jsx)("h5",{className:"hp-mb-0 hp-font-weight-500",children:"Amount Validation"}),content:Object(k.jsx)("div",{children:Object(k.jsx)("p",{className:"hp-p1-body hp-text-color-black-80",children:"Amount must be minimum 3 Digits"})})}))}return Object(t.useEffect)((function(){B.setFieldsValue({enquirytype:e.enquiryData.enquirytype,customername:e.enquiryData.customername,customermobile:e.enquiryData.customermobile,counter_id:e.enquiryData.counter_id,occupation_id:e.enquiryData.occupation_id,vehiclenumber:e.enquiryData.vehiclenumber,vehiclerelated:e.enquiryData.vehiclerelated,version_id:e.enquiryData.version_id,vehicle_id:e.enquiryData.vehicle_id,brand_id:e.enquiryData.brand_id,brandfamily_id:e.enquiryData.brandfamily_id,model_id:e.enquiryData.model_id,color:e.enquiryData.color,vehiclereading:e.enquiryData.vehiclereading,planneddays:e.enquiryData.planneddays,year:e.enquiryData.year,requiredamount:e.enquiryData.requiredamount,budget:e.enquiryData.budget,description:e.enquiryData.description})}),[e.enquiryData]),Object(k.jsx)(M.a,{visible:e.model,title:Z,onCancel:function(){z(),B.resetFields(),e.isModelVisible(!1)},className:"hp-modal-p-24",footer:Object(k.jsxs)(o.a,{justify:"center",children:[Object(k.jsx)(c.a,{span:12,className:"hp-pr-4",children:Object(k.jsx)(H,{})}),Object(k.jsx)(c.a,{span:12,className:"hp-pl-4",children:Object(k.jsx)(U,{})})]}),centered:!0,closeIcon:Object(k.jsx)(y.k,{className:"remix-icon text-color-black-100",size:24}),width:816,children:Object(k.jsx)(V.a,{layout:"vertical",form:B,onFinish:function(){null==e.enquiryData.id?function(){var i,n,a,t,r,l,o,c,u,s,d,m,h,p,y,v,b,j,q,O={id:0,enquirytype:null===(i=e.enquiryData)||void 0===i?void 0:i.enquirytype,customername:null===(n=e.enquiryData)||void 0===n?void 0:n.customername,customermobile:null===(a=e.enquiryData)||void 0===a?void 0:a.customermobile,counter_id:null===(t=e.enquiryData)||void 0===t?void 0:t.counter_id,occupation_id:null===(r=e.enquiryData)||void 0===r?void 0:r.occupation_id,vehiclenumber:null===(l=e.enquiryData)||void 0===l?void 0:l.vehiclenumber,vehiclerelated:null===(o=e.enquiryData)||void 0===o?void 0:o.vehiclerelated,vehicle_id:null===(c=e.enquiryData)||void 0===c?void 0:c.vehicle_id,brand_id:null===(u=e.enquiryData)||void 0===u?void 0:u.brand_id,brandfamily_id:null===(s=e.enquiryData)||void 0===s?void 0:s.brandfamily_id,model_id:null===(d=e.enquiryData)||void 0===d?void 0:d.model_id,version_id:null===(m=e.enquiryData)||void 0===m?void 0:m.version_id,color:null===(h=e.enquiryData)||void 0===h?void 0:h.color,vehiclereading:null===(p=e.enquiryData)||void 0===p?void 0:p.vehiclereading,planneddays:null===(y=e.enquiryData)||void 0===y?void 0:y.planneddays,year:g()(null===(v=e.enquiryData)||void 0===v?void 0:v.year).format("YYYY"),requiredamount:null===(b=e.enquiryData)||void 0===b?void 0:b.requiredamount,budget:null===(j=e.enquiryData)||void 0===j?void 0:j.budget,description:null===(q=e.enquiryData)||void 0===q?void 0:q.description};e.enquiryAdd(O)}():function(){var i,n,a,t,r,l,o,c,u,s,d,m,h,p,y,v,b,j,q,O,x={id:null===(i=e.enquiryData)||void 0===i?void 0:i.id,enquirytype:null===(n=e.enquiryData)||void 0===n?void 0:n.enquirytype,customername:null===(a=e.enquiryData)||void 0===a?void 0:a.customername,customermobile:null===(t=e.enquiryData)||void 0===t?void 0:t.customermobile,counter_id:null===(r=e.enquiryData)||void 0===r?void 0:r.counter_id,occupation_id:null===(l=e.enquiryData)||void 0===l?void 0:l.occupation_id,vehiclenumber:null===(o=e.enquiryData)||void 0===o?void 0:o.vehiclenumber,vehiclerelated:null===(c=e.enquiryData)||void 0===c?void 0:c.vehiclerelated,vehicle_id:null===(u=e.enquiryData)||void 0===u?void 0:u.vehicle_id,brand_id:null===(s=e.enquiryData)||void 0===s?void 0:s.brand_id,brandfamily_id:null===(d=e.enquiryData)||void 0===d?void 0:d.brandfamily_id,model_id:null===(m=e.enquiryData)||void 0===m?void 0:m.model_id,version_id:null===(h=e.enquiryData)||void 0===h?void 0:h.version_id,color:null===(p=e.enquiryData)||void 0===p?void 0:p.color,vehiclereading:null===(y=e.enquiryData)||void 0===y?void 0:y.vehiclereading,planneddays:null===(v=e.enquiryData)||void 0===v?void 0:v.planneddays,year:g()(null===(b=e.enquiryData)||void 0===b?void 0:b.year).format("YYYY"),requiredamount:null===(j=e.enquiryData)||void 0===j?void 0:j.requiredamount,budget:null===(q=e.enquiryData)||void 0===q?void 0:q.budget,description:null===(O=e.enquiryData)||void 0===O?void 0:O.description};e.enquiryAdd(x)}()},children:Object(k.jsxs)(o.a,{children:[Object(k.jsx)(c.a,{md:8,xs:24,className:"hp-pr-sm-0 hp-pr-12",children:Object(k.jsx)(V.a.Item,{label:"Enquiry Type ?",name:"enquirytype",rules:[{required:!0,message:"Please Enter Enquiry Type ?"}],hasFeedback:!0,children:Object(k.jsx)(_.a,{showSearch:!0,placeholder:"Enquiry Type",optionFilterProp:"saletype",onChange:function(i){e.clearPurchaseAvaliableStock(),e.InputChangeValue({key:"enquirytype",value:i})},value:null===(i=e.enquiryData)||void 0===i?void 0:i.enquirytype,children:[{id:1,name:"Purchase"},{id:2,name:"Direct Sale"},{id:3,name:"Finance Sale"},{id:4,name:"OVF Sale"}].map((function(e,i){return Object(k.jsx)(R,{value:e.id,children:e.name},i)}))})})}),Object(k.jsx)(c.a,{md:8,xs:24,className:"hp-pr-sm-0 hp-pr-12",children:Object(k.jsx)(V.a.Item,{label:"Customer Name :",name:"customername",rules:[{required:!0,message:"Please input your Customer Name!"},{pattern:new RegExp(/^[a-zA-Z][a-zA-Z\s]+$/i),message:"field does not accept numbers"}],hasFeedback:!0,children:Object(k.jsx)(r.a,{id:"customername",name:"customername",type:"text",maxLength:50,style:{width:"100%"},placeholder:"Customer Name",value:null==e.enquiryData.customername?"":null===(n=e.enquiryData)||void 0===n?void 0:n.customername,onChange:T})})}),Object(k.jsx)(c.a,{md:8,xs:24,className:"hp-pr-sm-0 hp-pr-12",children:Object(k.jsx)(V.a.Item,{label:"Customer Mobile :",name:"customermobile",rules:[{required:!0,message:"Please input your Customer Mobile!"}],getValueProps:function(){},hasFeedback:!0,children:Object(k.jsx)(N.a,{id:"customermobile",name:"customermobile",style:{width:"100%"},placeholder:"Customer Mobile",maxLength:10,value:null==e.enquiryData.customermobile?"":null===(l=e.enquiryData)||void 0===l?void 0:l.customermobile,onChange:e.InputChangeValue})})}),Object(k.jsx)(c.a,{md:8,xs:24,className:"hp-pr-sm-0 hp-pr-12",children:Object(k.jsx)(V.a.Item,{label:"Counter :",name:"counter_id",rules:[{required:!0,message:"Please input your Counter!"}],hasFeedback:!0,children:Object(k.jsx)(_.a,{showSearch:!0,placeholder:"Select a Counter",optionFilterProp:"children",onSearch:function(e){console.log("search:",e)},filterOption:function(e,i){return i.children.toLowerCase().includes(e.toLowerCase())},onChange:function(i){e.InputChangeValue({key:"counter_id",value:i})},onBlur:function(i){2!=e.enquiryData.enquirytype&&3!=e.enquiryData.enquirytype||(e.getPurchaseAvailableStock(Object(a.a)(Object(a.a)({},e.purchaseAvailableStockParams),{},{counter:e.enquiryData.counter_id,page:1})),e.setPurchaseAvailableStockParams(Object(a.a)(Object(a.a)({},e.purchaseAvailableStockParams),{},{counter:e.enquiryData.counter_id,page:1})))},value:null==e.enquiryData.counter_id?"":null===(s=e.enquiryData)||void 0===s?void 0:s.counter_id,children:e.miniCountersList.map((function(e,i){return Object(k.jsx)(R,{value:e.id,children:e.name},i)}))})})}),Object(k.jsx)(c.a,{md:8,xs:24,className:"hp-pr-sm-0 hp-pr-12",children:Object(k.jsx)(V.a.Item,{label:"Occupation :",name:"occupation_id",children:Object(k.jsx)(_.a,{showSearch:!0,filterOption:function(e,i){return i.children.toLowerCase().includes(e.toLowerCase())},placeholder:"Select Occupation",optionFilterProp:"Occupation",onChange:function(i){e.InputChangeValue({key:"occupation_id",value:i})},value:null==e.enquiryData.occupation_id?"":null===(d=e.enquiryData)||void 0===d?void 0:d.occupation_id,children:e.miniOccupationList.map((function(e,i){return Object(k.jsx)(R,{value:e.id,children:e.name},i)}))})})}),(1==e.enquiryData.enquirytype||4==e.enquiryData.enquirytype)&&Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(c.a,{md:8,xs:24,className:"hp-pr-sm-0 hp-pr-12",children:Object(k.jsx)(V.a.Item,{label:"Vehicle Number:",name:"vehiclenumber",rules:[{pattern:new RegExp("^[A-Z]{2}[0-9]{1,2}[A-Z]{1,2}[0-9]{1,4}$"),message:"Please accept valid vehicle number"}],hasFeedback:!0,children:Object(k.jsx)(r.a,{id:"vehiclenumber",name:"vehiclenumber",minLength:7,maxLength:10,style:{width:"100%",textTransform:"uppercase"},placeholder:"Vehicle Number",value:null===(m=e.enquiryData)||void 0===m?void 0:m.vehiclenumber,onChange:function(i){e.InputChangeValue({key:i.target.name,value:i.target.value.toUpperCase()})}})})})}),(2==e.enquiryData.enquirytype||3==e.enquiryData.enquirytype)&&Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(c.a,{md:8,xs:24,className:"hp-pr-sm-0 hp-pr-12",children:Object(k.jsx)(V.a.Item,{label:"Vehicle",name:"vehicle_id",hasFeedback:!0,children:Object(k.jsx)(_.a,{showSearch:!0,allowClear:!0,placeholder:"Select a Vehicle",optionFilterProp:"Vehicle",filterOption:function(e,i){return(i.children+"").toLowerCase().includes(e.toLowerCase())},disabled:!e.enquiryData.counter_id,onSearch:function(i){e.setPurchaseAvailableStockParams(Object(a.a)(Object(a.a)({},e.purchaseAvailableStockParams),{},{page:1,search:i})),e.getPurchaseAvailableStock(Object(a.a)(Object(a.a)({},e.purchaseAvailableStockParams),{},{page:1,search:i}))},onChange:function(i){var n;n=i,e.purchaseAvaliableStockList.forEach((function(i){var a,t,r,l,o,c,u,s,d;i.vehicle.id==n&&(i.vehicle,e.getMiniBrands(),e.getMiniBrandFamily({brand:null===(a=i.vehicle)||void 0===a||null===(t=a.version)||void 0===t||null===(r=t.brand)||void 0===r?void 0:r.id}),e.getMiniModels({brandfamily:null===(l=i.vehicle)||void 0===l||null===(o=l.version)||void 0===o||null===(c=o.brandfamily)||void 0===c?void 0:c.id}),e.getMiniVersion({model:null===(u=i.vehicle)||void 0===u||null===(s=u.version)||void 0===s||null===(d=s.model)||void 0===d?void 0:d.id}),e.getVehicleByID(i))})),e.InputChangeValue({key:"vehicle_id",value:i})},value:null==e.enquiryData.vehicle_id?"":null===(h=e.enquiryData)||void 0===h?void 0:h.vehicle_id,onPopupScroll:function(){e.purchaseAvailableStockParams.page<e.purchaseAvailableStockParams.no_of_pages&&(e.setPurchaseAvailableStockParams(Object(a.a)(Object(a.a)({},e.purchaseAvailableStockParams),{},{page:e.purchaseAvailableStockParams.page+1})),e.getPurchaseAvailableStock(Object(a.a)(Object(a.a)({},e.purchaseAvailableStockParams),{},{page:e.purchaseAvailableStockParams.page+1})))},children:e.purchaseAvaliableStockList.map((function(e,i){var n,a;return Object(k.jsx)(R,{value:null===(n=e.vehicle)||void 0===n?void 0:n.id,children:null===(a=e.vehicle)||void 0===a?void 0:a.vehicleno},i)}))})})})}),Object(k.jsx)(c.a,{md:8,xs:24,className:"hp-pr-sm-0 hp-pr-12",children:Object(k.jsx)(V.a.Item,{label:"Brand :",name:"brand_id",rules:[{required:!0,message:"Please select your Brand!"}],hasFeedback:!0,children:Object(k.jsx)(_.a,{showSearch:!0,filterOption:function(e,i){return i.children.toLowerCase().includes(e.toLowerCase())},placeholder:"Select  Brand",optionFilterProp:"Brand",onChange:function(i){e.getMiniBrandFamily({brand:i}),e.InputChangeValue({key:"brand_id",value:i})},disabled:null!=e.enquiryData.vehicle_id,value:null==e.enquiryData.brand_id?"":null===(p=e.enquiryData)||void 0===p?void 0:p.brand_id,children:e.miniBrandsList.map((function(e,i){return Object(k.jsx)(R,{value:e.id,children:e.name},i)}))})})}),Object(k.jsx)(c.a,{md:8,xs:24,className:"hp-pr-sm-0 hp-pr-12",children:Object(k.jsx)(V.a.Item,{label:"Brand Family :",name:"brandfamily_id",rules:[{required:!0,message:"Please select your Brand Family!"}],hasFeedback:!0,children:Object(k.jsx)(_.a,{showSearch:!0,filterOption:function(e,i){return i.children.toLowerCase().includes(e.toLowerCase())},placeholder:"Select Brand Family",optionFilterProp:"brand Family",onChange:function(i){e.getMiniModels({brandfamily:i}),e.InputChangeValue({key:"brandfamily_id",value:i})},disabled:null!=e.enquiryData.vehicle_id,value:null==e.enquiryData.brandfamily_id?"":null===(v=e.enquiryData)||void 0===v?void 0:v.brandfamily_id,children:e.miniBrandFamilyList.map((function(e,i){return Object(k.jsx)(R,{value:e.id,children:e.name},i)}))})})}),Object(k.jsx)(c.a,{md:8,xs:24,className:"hp-pr-sm-0 hp-pr-12",children:Object(k.jsx)(V.a.Item,{label:"Model :",name:"model_id",rules:[{required:!0,message:"Please select your Model!"}],hasFeedback:!0,children:Object(k.jsx)(_.a,{showSearch:!0,filterOption:function(e,i){return i.children.toLowerCase().includes(e.toLowerCase())},placeholder:"Select Model",optionFilterProp:"Model",onChange:function(i){e.getMiniVersion({model:i}),e.InputChangeValue({key:"model_id",value:i})},disabled:null!=e.enquiryData.vehicle_id,value:null==e.enquiryData.model_id?"":null===(b=e.enquiryData)||void 0===b?void 0:b.model_id,children:e.miniModelsList.map((function(e,i){return Object(k.jsx)(R,{value:e.id,children:e.name},i)}))})})}),Object(k.jsx)(c.a,{md:8,xs:24,className:"hp-pr-sm-0 hp-pr-12",children:Object(k.jsx)(V.a.Item,{label:"Version :",name:"version_id",rules:[{required:!0,message:"Please Select your Version!"}],children:Object(k.jsx)(_.a,{showSearch:!0,filterOption:function(e,i){return i.children.toLowerCase().includes(e.toLowerCase())},placeholder:"Select Version",optionFilterProp:"Version",onChange:function(i){e.InputChangeValue({key:"version_id",value:i})},disabled:null!=e.enquiryData.vehicle_id,value:null==e.enquiryData.version_id?"":null===(j=e.enquiryData)||void 0===j?void 0:j.version_id,children:e.miniVersionList.map((function(e,i){return Object(k.jsx)(R,{value:e.id,children:e.name},i)}))})})}),Object(k.jsx)(c.a,{md:8,xs:24,className:"hp-pr-sm-0 hp-pr-12",children:Object(k.jsx)(V.a.Item,{label:"Color :",name:"color",rules:[{pattern:new RegExp(/^[a-zA-Z][a-zA-Z\s]+$/i),message:"field does not accept numbers"}],hasFeedback:!0,children:Object(k.jsx)(r.a,{id:"color",name:"color",type:"text",style:{width:"100%"},placeholder:"Color",value:null==e.enquiryData.color?"":null===(q=e.enquiryData)||void 0===q?void 0:q.color,onChange:T})})}),Object(k.jsx)(c.a,{md:8,xs:24,className:"hp-pr-sm-0 hp-pr-12",children:Object(k.jsx)(V.a.Item,{label:"Vehicle Reading",name:"vehiclereading",getValueProps:function(){},hasFeedback:!0,children:Object(k.jsx)(N.a,{id:"vehiclereading",name:"vehiclereading",maxLength:6,style:{width:"100%"},placeholder:"vehicle reading",value:null==e.enquiryData.vehiclereading?"":null===(O=e.enquiryData)||void 0===O?void 0:O.vehiclereading,onChange:e.InputChangeValue})})}),Object(k.jsx)(c.a,{md:8,xs:24,className:"hp-pr-sm-0 hp-pr-12",children:Object(k.jsx)(V.a.Item,{label:"Planned Days",name:"planneddays",getValueProps:function(){},hasFeedback:!0,children:Object(k.jsx)(N.a,{id:"planneddays",name:"planneddays",maxLength:2,style:{width:"100%"},placeholder:"Planned Days",value:null==e.enquiryData.planneddays?"":null===(x=e.enquiryData)||void 0===x?void 0:x.planneddays,onChange:e.InputChangeValue})})}),Object(k.jsx)(c.a,{md:8,xs:24,className:"hp-pr-sm-0 hp-pr-12",children:Object(k.jsx)(V.a.Item,{label:"Year",name:"year",hasFeedback:!0,children:Object(k.jsx)(P.a,{id:"year",name:"year",style:{width:"100%"},picker:"year",disabledDate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{startDate:!1,endDate:!1},i=e.startDate,n=e.endDate;return function(e){var a=!0,t=!0;return i&&(a=e&&e<g()(i,"YYYY")),n&&(t=e&&e>g()(n,"YYYY")),i&&a||n&&t}}({endDate:new Date,startDate:1990}),placeholder:"Select Year",value:null===(f=e.enquiryData)||void 0===f?void 0:f.year,onChange:function(i){console.log("Year",i,typeof i),e.InputChangeValue({key:"year",value:i})}})})}),(2==(null===(D=e.enquiryData)||void 0===D?void 0:D.enquirytype)||3==(null===(w=e.enquiryData)||void 0===w?void 0:w.enquirytype))&&Object(k.jsx)(c.a,{md:8,xs:24,className:"hp-pr-sm-0 hp-pr-12",children:Object(k.jsx)(V.a.Item,{label:"Budget Amount:",name:"budget",rules:[{required:!0,message:"Please input your Budget Amount!"}],hasFeedback:!0,children:Object(k.jsx)(N.a,{id:"budget",name:"budget",style:{width:"100%"},maxLength:6,placeholder:"Budget Amount",onBlur:function(e){$(e)},value:null==e.enquiryData.budget?"":null===(S=e.enquiryData)||void 0===S?void 0:S.budget,onChange:e.InputChangeValue})})}),(1==(null===(L=e.enquiryData)||void 0===L?void 0:L.enquirytype)||3==(null===(I=e.enquiryData)||void 0===I?void 0:I.enquirytype)||4==(null===(A=e.enquiryData)||void 0===A?void 0:A.enquirytype))&&Object(k.jsx)(c.a,{md:8,xs:24,className:"hp-pr-sm-0 hp-pr-12",children:Object(k.jsx)(V.a.Item,{label:"Required Amount:",name:"requiredamount",rules:[{required:!0,message:"Please input your Required Amount!"}],hasFeedback:!0,children:Object(k.jsx)(N.a,{id:"requiredamount",name:"requiredamount",style:{width:"100%"},maxLength:6,placeholder:"Required Amount",onBlur:function(e){$(e)},value:null==e.enquiryData.requiredamount?"":null===(F=e.enquiryData)||void 0===F?void 0:F.requiredamount,onChange:e.InputChangeValue})})}),Object(k.jsx)(c.a,{md:24,xs:24,className:"hp-pr-sm-0 hp-pr-12",children:Object(k.jsx)(V.a.Item,{label:"Description :",name:"description",children:Object(k.jsx)(r.a.TextArea,{id:"description",name:"description",style:{width:"100%"},placeholder:"Description",value:null===(E=e.userdata)||void 0===E?void 0:E.description,onChange:T})})})]})})})})),L=n(527),I=new Date;I.getFullYear(),I.getMonth();var A=Object(b.b)((function(e){var i=e.enquiry,n=e.mini;return{drawer:i.drawer,enquiryParams:i.enquiryParams,miniCountersList:n.miniCountersList,miniOccupationList:n.miniOccupationList,miniVersionList:n.miniVersionList}}),{isDrawerVisible:f.o,SetEnquiryParams:f.c,FilterInputChangeValue:f.a,getEnquirys:f.m,getMiniCounters:w.v,getMiniOccupation:w.L,getMiniVersion:w.cb})((function(e){var i,n,r,l,s,d=V.a.useForm(),m=Object(C.a)(d,1)[0];Object(t.useEffect)((function(){e.getMiniOccupation(),e.getMiniCounters(),e.getMiniVersion()}),[]);function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{startDate:!1,endDate:!1},i=e.startDate,n=e.endDate;return function(e){var a=!0,t=!0;return i&&(a=e&&e<g()(i+" 00:00:01","YYYY-MM-DD HH:mm:ss")),n&&(t=e&&e>g()(g()(n).format("YYYY-MM-DD")+" 23:59:59","YYYY-MM-DD HH:mm:ss")),i&&a||n&&t}}return Object(t.useEffect)((function(){var i,n,a,t,r,l;m.setFieldsValue({start_date:null===(i=e.enquiryParams)||void 0===i?void 0:i.start_date,end_date:null===(n=e.enquiryParams)||void 0===n?void 0:n.end_date,occupation:null===(a=e.enquiryParams)||void 0===a?void 0:a.occupation,enquirytype:null===(t=e.enquiryParams)||void 0===t?void 0:t.enquirytype,version:null===(r=e.enquiryParams)||void 0===r?void 0:r.version,counter:null===(l=e.enquiryParams)||void 0===l?void 0:l.counter})}),[e.enquiryParams]),Object(k.jsx)(o.a,{gutter:[24,24],children:Object(k.jsx)(c.a,{span:24,children:Object(k.jsx)(L.a,{title:"Filters",width:420,className:"hp-drawer-mobile",onClose:function(){e.isDrawerVisible(!1)},placement:"right",visible:e.drawer,children:Object(k.jsxs)(V.a,{form:m,layout:"vertical",name:"basic",initialValues:{remember:!0},onFinish:function(){e.SetEnquiryParams(Object(a.a)(Object(a.a)({},e.enquiryParams),{},{start_date:e.enquiryParams.start_date,end_date:e.enquiryParams.end_date,page:1,search:"",page_size:10})),e.getEnquirys(Object(a.a)(Object(a.a)({},e.enquiryParams),{},{start_date:e.enquiryParams.start_date,end_date:e.enquiryParams.end_date,page:1,search:"",page_size:10})),e.isDrawerVisible(!1)},children:[Object(k.jsxs)(o.a,{gutter:[12,12],children:[Object(k.jsx)(c.a,{span:12,children:Object(k.jsx)(V.a.Item,{label:"From Date",name:"start_date",className:"hp-mb-10",children:Object(k.jsx)(P.a,{style:{width:"100%"},picker:"date",placeholder:"Choose Date",format:"DD-MM-YYYY",disabledDate:h({endDate:new Date}),onChange:function(i){e.FilterInputChangeValue({key:"start_date",value:null==i?"":i}),null==i&&e.FilterInputChangeValue({key:"end_date",value:""})}})})}),Object(k.jsx)(c.a,{span:12,children:Object(k.jsx)(V.a.Item,{label:"To Date",name:"end_date",className:"hp-mb-10",children:Object(k.jsx)(P.a,{style:{width:"100%"},picker:"date",placeholder:"Choose Date",format:"DD-MM-YYYY",disabledDate:h({endDate:g()().format("YYYY-MM-DD"),startDate:g()(null===(i=e.enquiryParams)||void 0===i?void 0:i.start_date).format("YYYY-MM-DD")}),disabled:null==e.enquiryParams.start_date||""==e.enquiryParams.start_date,onChange:function(i){e.FilterInputChangeValue({key:"end_date",value:null==i?"":i})}})})}),Object(k.jsx)(c.a,{span:12,children:Object(k.jsx)(V.a.Item,{label:"Enquiry Type",name:"enquirytype",className:"hp-mb-10",children:Object(k.jsx)(_.a,{showSearch:!0,allowClear:!0,filterOption:function(e,i){return i.children.toLowerCase().includes(e.toLowerCase())},placeholder:"Select Enquiry Type",optionFilterProp:"enquirytype",onChange:function(i){e.FilterInputChangeValue({key:"enquirytype",value:i})},value:null==e.enquiryParams.enquirytype?"":null===(n=e.enquiryParams)||void 0===n?void 0:n.enquirytype,children:[{id:1,name:"Purchase"},{id:2,name:"Direct Sale"},{id:3,name:"Finance Sale"},{id:4,name:"OVF Sale"}].map((function(e,i){return Object(k.jsx)(Option,{value:e.id,children:e.name},i)}))})})}),Object(k.jsx)(c.a,{span:12,children:Object(k.jsx)(V.a.Item,{label:"Occupation :",name:"occupation",className:"hp-mb-10",children:Object(k.jsx)(_.a,{showSearch:!0,allowClear:!0,filterOption:function(e,i){return i.children.toLowerCase().includes(e.toLowerCase())},placeholder:"Select Occupation",optionFilterProp:"occupation",onChange:function(i){e.FilterInputChangeValue({key:"occupation",value:i})},value:null==e.enquiryParams.occupation_id?"":null===(r=e.enquiryParams)||void 0===r?void 0:r.occupation_id,children:e.miniOccupationList.map((function(e,i){return Object(k.jsx)(Option,{value:e.id,children:e.name},i)}))})})}),Object(k.jsx)(c.a,{span:12,className:"hp-pr-sm-0 hp-pr-12",children:Object(k.jsx)(V.a.Item,{label:"Counter :",name:"counter",children:Object(k.jsx)(_.a,{showSearch:!0,allowClear:!0,placeholder:"Select a Counter",optionFilterProp:"children",filterOption:function(e,i){return i.children.toLowerCase().includes(e.toLowerCase())},onChange:function(i){e.FilterInputChangeValue({key:"counter",value:i})},value:null==e.enquiryParams.counter_id?"":null===(l=e.enquiryParams)||void 0===l?void 0:l.counter_id,children:e.miniCountersList.map((function(e,i){return Object(k.jsx)(Option,{value:e.id,children:e.name},i)}))})})}),Object(k.jsx)(c.a,{span:12,className:"hp-pr-sm-0 hp-pr-12",children:Object(k.jsx)(V.a.Item,{label:"Version :",name:"version",children:Object(k.jsx)(_.a,{showSearch:!0,allowClear:!0,filterOption:function(e,i){return i.children.toLowerCase().includes(e.toLowerCase())},placeholder:"Select Version",optionFilterProp:"Version",onChange:function(i){e.FilterInputChangeValue({key:"version",value:i})},value:null==e.enquiryParams.version_id?"":null===(s=e.enquiryParams)||void 0===s?void 0:s.version_id,children:e.miniVersionList.map((function(e,i){return Object(k.jsx)(Option,{value:e.id,children:e.name},i)}))})})})]}),Object(k.jsxs)(o.a,{gutter:[12,12],children:[Object(k.jsx)(c.a,{md:12,children:Object(k.jsx)(u.a,{block:!0,type:"secondary",className:"hp-submit-btn hp-mt-10",onClick:function(){e.SetEnquiryParams({start_date:"",end_date:"",page:1,search:"",page_size:10}),e.getEnquirys({start_date:"",end_date:"",page:1,search:"",page_size:10}),e.getMiniOccupation()},htmlType:"button",children:"Clear"})}),Object(k.jsx)(c.a,{md:12,children:Object(k.jsx)(u.a,{block:!0,type:"primary",className:"hp-submit-btn hp-mt-10",onClick:function(){m.submit()},children:"Apply"})})]})]})})})})})),F=n(532);var E=Object(b.b)((function(e){var i=e.enquiry;return{viewModel:i.viewModel,enquiryViewData:i.enquiryViewData,loading:i.loading}}),{enquiryViewModel:f.j})((function(e){e.saletype,e.enquirytype;var i,n,a,t,r,l,u,d,m,h,p,v,b,j,q,O,x,g,f,D,w,_,P,N,S,L,I,A,E,Y,B,T,R,z,U,H,Z,$,J,G,Q,K,W,X,ee,ie,ne,ae,te,re,le,oe,ce,ue,se,de,me,he=V.a.useForm(),pe=Object(C.a)(he,1)[0],ye=[{title:"CODE",description:null==(null===(i=e.enquiryViewData)||void 0===i?void 0:i.code)?"none":e.enquiryViewData.code},{title:"ENQUIRY TYPE",description:null==(null===(n=e.enquiryViewData)||void 0===n?void 0:n.enquirytype_name)?"none":null===(a=e.enquiryViewData)||void 0===a?void 0:a.enquirytype_name},{title:"CUSTOMER NAME",description:null==(null===(t=e.enquiryViewData)||void 0===t?void 0:t.customername)?"none":null===(r=e.enquiryViewData)||void 0===r?void 0:r.customername},{title:"CUSTOMER MOBILE",description:null==(null===(l=e.enquiryViewData)||void 0===l?void 0:l.customermobile)?"none":null===(u=e.enquiryViewData)||void 0===u?void 0:u.customermobile},{title:"COUNTER",description:null==(null===(d=e.enquiryViewData)||void 0===d||null===(m=d.counter)||void 0===m?void 0:m.name)?"none":null===(h=e.enquiryViewData)||void 0===h||null===(p=h.counter)||void 0===p?void 0:p.name},{title:"OCCUPATION",description:null==(null===(v=e.enquiryViewData)||void 0===v||null===(b=v.occupation)||void 0===b?void 0:b.name)?"none":null===(j=e.enquiryViewData)||void 0===j||null===(q=j.occupation)||void 0===q?void 0:q.name},{title:1==e.enquiryViewData.enquirytype||4==e.enquiryViewData.enquirytype?"VEHICLE NUMBER":null,description:1==e.enquiryViewData.enquirytype||4==e.enquiryViewData.enquirytype?null==(null===(O=e.enquiryViewData)||void 0===O?void 0:O.vehiclenumber)?"none":null===(x=e.enquiryViewData)||void 0===x?void 0:x.vehiclenumber:null},{title:2==e.enquiryViewData.enquirytype||3==e.enquiryViewData.enquirytype?"VEHICLE NUMBER":null,description:2==e.enquiryViewData.enquirytype||3==e.enquiryViewData.enquirytype?null==(null===(g=e.enquiryViewData)||void 0===g||null===(f=g.vehicle)||void 0===f?void 0:f.vehicleno)?"none":null===(D=e.enquiryViewData)||void 0===D||null===(w=D.vehicle)||void 0===w?void 0:w.vehicleno:null},{title:"BRAND",description:null==(null===(_=e.enquiryViewData)||void 0===_||null===(P=_.version)||void 0===P||null===(N=P.brand)||void 0===N?void 0:N.name)?"none":null===(S=e.enquiryViewData)||void 0===S||null===(L=S.version)||void 0===L||null===(I=L.brand)||void 0===I?void 0:I.name},{title:"BRAND FAMILY",description:null==(null===(A=e.enquiryViewData)||void 0===A||null===(E=A.version)||void 0===E||null===(Y=E.brandfamily)||void 0===Y?void 0:Y.name)?"none":null===(B=e.enquiryViewData)||void 0===B||null===(T=B.version)||void 0===T||null===(R=T.brandfamily)||void 0===R?void 0:R.name},{title:"MODEL",description:null==(null===(z=e.enquiryViewData)||void 0===z||null===(U=z.version)||void 0===U||null===(H=U.model)||void 0===H?void 0:H.name)?"none":null===(Z=e.enquiryViewData)||void 0===Z||null===($=Z.version)||void 0===$||null===(J=$.model)||void 0===J?void 0:J.name},{title:"VERSION",description:null==(null===(G=e.enquiryViewData)||void 0===G||null===(Q=G.version)||void 0===Q?void 0:Q.name)?"none":null===(K=e.enquiryViewData)||void 0===K||null===(W=K.version)||void 0===W?void 0:W.name},{title:"COLOR",description:null==(null===(X=e.enquiryViewData)||void 0===X?void 0:X.color)?"none":null===(ee=e.enquiryViewData)||void 0===ee?void 0:ee.color},{title:"VEHICLE READING",description:null==(null===(ie=e.enquiryViewData)||void 0===ie?void 0:ie.vehiclereading)?"none":null===(ne=e.enquiryViewData)||void 0===ne?void 0:ne.vehiclereading},{title:"PLANNED DAYS",description:null==(null===(ae=e.enquiryViewData)||void 0===ae?void 0:ae.planneddays)?"none":null===(te=e.enquiryViewData)||void 0===te?void 0:te.planneddays},{title:"YEAR",description:null==(null===(re=e.enquiryViewData)||void 0===re?void 0:re.year)?"none":null===(le=e.enquiryViewData)||void 0===le?void 0:le.year},{title:1==e.enquiryViewData.enquirytype||4==e.enquiryViewData.enquirytype||3==e.enquiryViewData.enquirytype?"REQUIRED AMOUNT":null,description:1==e.enquiryViewData.enquirytype||4==e.enquiryViewData.enquirytype||3==e.enquiryViewData.enquirytype?null==(null===(oe=e.enquiryViewData)||void 0===oe?void 0:oe.requiredamount)?"none":null===(ce=e.enquiryViewData)||void 0===ce?void 0:ce.requiredamount:null},{title:2==e.enquiryViewData.enquirytype||3==e.enquiryViewData.enquirytype?"BUDGET AMOUNT":null,description:2==e.enquiryViewData.enquirytype||3==e.enquiryViewData.enquirytype?null==(null===(ue=e.enquiryViewData)||void 0===ue?void 0:ue.budget)?"none":null===(se=e.enquiryViewData)||void 0===se?void 0:se.budget:null},{title:"DESCRIPTION",description:null==(null===(de=e.enquiryViewData)||void 0===de?void 0:de.description)?"none":null===(me=e.enquiryViewData)||void 0===me?void 0:me.description}],ve=[];ye.forEach((function(e){null!==e.title&&ve.push(e)}));var be=Object(k.jsx)("h5",{className:"modal-title",children:"Enquiry View"});return Object(k.jsx)(M.a,{visible:e.viewModel,title:be,onCancel:function(){pe.resetFields(),e.enquiryViewModel(!1),e.enquiryViewModel(!1)},className:"hp-modal-p-24",footer:Object(k.jsx)(k.Fragment,{}),centered:!0,closeIcon:Object(k.jsx)(y.k,{className:"remix-icon text-color-black-100",size:24}),width:816,children:Object(k.jsx)(o.a,{gutter:[12,12],children:Object(k.jsx)(c.a,{span:24,md:24,children:Object(k.jsx)(s.a,{tip:"Loading...",spinning:e.loading,delay:500,children:Object(k.jsx)(F.b,{grid:{gutter:16,xs:1,sm:2,md:3,lg:3,xl:4,xxl:3},dataSource:ve,renderItem:function(e){return Object(k.jsx)(F.b.Item,{children:Object(k.jsx)(F.b.Item.Meta,{title:Object(k.jsx)("span",{children:e.title}),description:Object(k.jsx)("span",{children:e.description})})})}})})})})})})),Y=n(183);i.default=Object(b.b)((function(e){var i=e.enquiry,n=e.system;return{enquirylist:i.enquirylist,noofpages:i.noofpages,listCount:i.listCount,enquiryParams:i.enquiryParams,loading:i.loading,userAccessList:n.userAccessList,isFilterActive:i.isFilterActive,viewModel:i.viewModel,model:i.model}}),{getEnquirys:f.m,enquiryDelete:f.h,isModelVisible:f.p,SetEnquiryParams:f.c,getMiniVersion:w.cb,getMiniBrands:w.o,getMiniBrandFamily:w.m,getMiniModels:w.J,isDrawerVisible:f.o,getEnquiryByID:f.k,enquiryViewModel:f.j,getReportList:Y.f,clearEnquiryList:f.e})((function(e){var i,n,b,x,f=r.a.Search;Object(t.useEffect)((function(){e.getEnquirys({page:1,search:"",page_size:10}),e.clearEnquiryList()}),[]);var w="hp-p1-body hp-text-color-black-50 hp-text-color-dark-0 hp-font-weight-500 ",C=[{title:"S.No",dataIndex:"index",width:70,fixed:D.isMobile?null:"left"},{title:"Code",width:110,fixed:D.isMobile?null:"left",render:function(e){return Object(k.jsx)("span",{className:w,children:e.code})}},{title:"Date",width:110,render:function(e){return Object(k.jsx)("span",{className:w,children:g()(e.date).format("DD-MM-YYYY")})}},{title:"Enquiry Type",filterMode:"tree",filterSearch:!0,render:function(e){return Object(k.jsx)("span",{className:w,children:e.enquirytype_name})},width:120},{title:"Customer Name",filterMode:"tree",filterSearch:!0,render:function(e){return Object(k.jsx)("span",{className:w,children:e.customername})},width:150},{title:"Customer Mobile",filterMode:"tree",filterSearch:!0,render:function(e){return Object(k.jsxs)("span",{className:w,children:[" ",e.customermobile]})},width:120},{title:"Counter",width:120,filterMode:"tree",filterSearch:!0,render:function(e){var i;return Object(k.jsx)("span",{className:w,children:null===(i=e.counter)||void 0===i?void 0:i.name})}},{title:"Occupation",filterMode:"tree",filterSearch:!0,render:function(e){var i;return Object(k.jsx)("span",{className:w,children:null===(i=e.occupation)||void 0===i?void 0:i.name})},width:120},{title:"Vehicle Number",filterMode:"tree",filterSearch:!0,render:function(e){var i;return Object(k.jsx)("span",{className:w,children:1==e.enquirytype||4==e.enquirytype?e.vehiclenumber:2==e.enquirytype||3==e.enquirytype?null===(i=e.vehicle)||void 0===i?void 0:i.vehicleno:""})},width:130},{title:"Version",filterMode:"tree",filterSearch:!0,render:function(e){var i;return Object(k.jsx)("span",{className:w,children:null===(i=e.version)||void 0===i?void 0:i.name})},width:150},{title:"Color",filterMode:"tree",filterSearch:!0,render:function(e){return Object(k.jsx)("span",{className:w,children:e.color})},width:100},{title:"Vehicle Reading",filterMode:"tree",filterSearch:!0,render:function(e){return Object(k.jsx)("span",{className:w,children:e.vehiclereading})},width:120},{title:"Planned Days",filterMode:"tree",filterSearch:!0,render:function(e){return Object(k.jsx)("span",{className:w,children:e.planneddays})},width:100},{title:"Year",filterMode:"tree",filterSearch:!0,render:function(e){return Object(k.jsx)("span",{className:w,children:e.year})},width:100},{title:"Required Amount",filterMode:"tree",filterSearch:!0,render:function(e){return Object(k.jsx)("span",{className:w,children:e.requiredamount})},width:120},{title:"Budget Amount",filterMode:"tree",filterSearch:!0,render:function(e){return Object(k.jsx)("span",{className:w,children:e.budget})},width:120},{title:"Description",sorter:function(e,i){return e.name.length-i.name.length},filterMode:"tree",filterSearch:!0,render:function(e){return Object(k.jsx)("span",{className:w,children:e.description})},width:150},{title:"Actions",key:"action",width:100,fixed:D.isMobile?null:"right",render:function(i,n){var a,t,r;return Object(k.jsxs)(h.b,{size:"middle",children:[-1!==(null===(a=e.userAccessList)||void 0===a?void 0:a.indexOf("Purchase.change_enquiry"))&&Object(k.jsx)("i",{className:"ri-edit-box-line hp-mr-2 ",style:{cursor:"pointer",color:"#fc6f03"},onClick:function(){var n,a,t,r,l,o;e.getEnquiryByID({row:i,type:"update"}),e.getMiniBrands(),e.getMiniBrandFamily({brand:null===(n=i.version)||void 0===n||null===(a=n.brand)||void 0===a?void 0:a.id}),e.getMiniModels({brandfamily:null===(t=i.version)||void 0===t||null===(r=t.brandfamily)||void 0===r?void 0:r.id}),e.getMiniVersion({model:null===(l=i.version)||void 0===l||null===(o=l.model)||void 0===o?void 0:o.id})}}),-1!==(null===(t=e.userAccessList)||void 0===t?void 0:t.indexOf("Purchase.delete_enquiry"))&&Object(k.jsx)(l.a,{placement:"topRight",title:"Are you sure to delete this Record?",onConfirm:function(){return e.enquiryDelete(n.id)},okText:"Yes",cancelText:"No",className:"hp-ml-8",icon:Object(k.jsx)(y.n,{className:"remix-icon hp-text-color-primary-1"}),children:Object(k.jsx)("i",{className:"ri-delete-bin-2-line ",style:{cursor:"pointer",color:"#ff0000"}})}),-1!==(null===(r=e.userAccessList)||void 0===r?void 0:r.indexOf("Purchase.view_enquiry"))&&Object(k.jsx)("i",{className:"ri-eye-line hp-mr-2 ",style:{cursor:"pointer",color:"#fc6f03"},onClick:function(){e.getEnquiryByID({row:i,type:"view"})}})]})}}],V=e.enquirylist.map((function(i,n){return Object(a.a)(Object(a.a)({},i),{},{index:(e.enquiryParams.page-1)*e.enquiryParams.page_size+n+1})}));return Object(k.jsxs)(o.a,{gutter:[12,12],children:[Object(k.jsx)(v.a,{pageTitle:"Enquiry"}),Object(k.jsx)(c.a,{span:24,children:Object(k.jsxs)(o.a,{gutter:[12,12],className:"hp-ecommerce-app-header ",children:[Object(k.jsx)(c.a,{span:24,xs:24,sm:24,md:14,className:"hp-ecommerce-app-header-search",children:Object(k.jsx)(f,{placeholder:"Search...",allowClear:!0,onChange:function(i){""==i.target.value&&(e.getEnquirys(Object(a.a)(Object(a.a)({},e.enquiryParams),{},{page:1,search:""})),e.SetEnquiryParams(Object(a.a)(Object(a.a)({},e.enquiryParams),{},{page:1,search:""})))},onSearch:function(i){var n;n=i,e.SetEnquiryParams(Object(a.a)(Object(a.a)({},e.enquiryParams),{},{search:n,page:1})),e.getEnquirys(Object(a.a)(Object(a.a)({},e.enquiryParams),{},{search:n,page:1}))}})}),Object(k.jsx)(c.a,{span:24,xs:8,sm:8,md:3,children:Object(k.jsx)(u.a,{onClick:function(){e.isDrawerVisible(!0)},className:e.isFilterActive?"hp-bg-primary-1 hp-w-100 hp-p-12 hp-text-color-white hp-font-weight-600":"hp-w-100",icon:Object(k.jsx)(j.a,{className:"hp-mr-10"}),children:!D.isMobile&&"Filter"})}),-1!==(null===(i=e.userAccessList)||void 0===i?void 0:i.indexOf("Purchase.add_enquiry"))&&Object(k.jsx)(c.a,{span:24,xs:8,sm:8,md:4,children:Object(k.jsx)(u.a,{onClick:function(){e.isModelVisible(!0)},className:"hp-w-100 hp-p-12",icon:Object(k.jsx)(q.a,{className:"hp-mr-10"}),children:!D.isMobile&&"Add Enquiry"})}),-1!==(null===(n=e.userAccessList)||void 0===n?void 0:n.indexOf("Purchase.export_enquiry"))&&Object(k.jsx)(c.a,{span:24,xs:8,sm:8,md:3,children:Object(k.jsx)(l.a,{placement:"topRight",title:"Are you sure to export this Record?",onConfirm:function(){e.getReportList({objData:{file_format:0,model_name:"Enquiry"},ParamsData:Object(a.a)(Object(a.a)({},e.enquiryParams),{},{start_date:null!=e.enquiryParams.start_date&&""!=e.enquiryParams.start_date?g()(e.enquiryParams.start_date).format("YYYY-MM-DD"):"",end_date:null!=e.enquiryParams.end_date&&""!=e.enquiryParams.end_date?g()(e.enquiryParams.end_date).add(1,"days").format("YYYY-MM-DD"):""})})},okText:"Yes",cancelText:"No",className:"hp-ml-8",icon:Object(k.jsx)(y.n,{className:"remix-icon hp-text-color-primary-1"}),children:Object(k.jsx)(u.a,{className:"hp-w-100 hp-p-12",icon:Object(k.jsx)(O.a,{className:"hp-mr-10"}),children:!D.isMobile&&"Export"})})})]})}),Object(k.jsx)(c.a,{span:24,children:Object(k.jsx)(s.a,{tip:"Loading...",spinning:e.loading,delay:500,children:Object(k.jsx)(d.a,{children:Object(k.jsxs)(o.a,{className:"hp-mb-12",children:[Object(k.jsx)(c.a,{span:24,children:Object(k.jsx)(p.a,{columns:C,dataSource:V,scroll:{x:1300},pagination:!1,size:"middle"})}),Object(k.jsx)(c.a,{span:24,children:!e.loading&&Object(k.jsx)(m.a,{size:"small",current:null===(b=e.enquiryParams)||void 0===b?void 0:b.page,pageSize:null===(x=e.enquiryParams)||void 0===x?void 0:x.page_size,total:e.listCount,showTotal:function(e){return"Total "+e+" items"},showSizeChanger:!0,onChange:function(i,n){e.clearEnquiryList(),e.SetEnquiryParams(Object(a.a)(Object(a.a)({},e.enquiryParams),{},{page_size:n,page:0==i?1:i})),e.getEnquirys(Object(a.a)(Object(a.a)({},e.enquiryParams),{},{page_size:n,page:0==i?1:i}))},className:"hp-mb-12 hp-mt-24 hp-float-right"})})]})})})}),e.model&&Object(k.jsx)(S,{}),Object(k.jsx)(A,{}),e.viewModel&&Object(k.jsx)(E,{})]})}))}}]);
//# sourceMappingURL=40.99d2bca1.chunk.js.map