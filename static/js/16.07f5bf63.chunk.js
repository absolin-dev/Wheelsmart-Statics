(this["webpackJsonpwheelsmart-admin-react"]=this["webpackJsonpwheelsmart-admin-react"]||[]).push([[16],{535:function(e,a,n){"use strict";n.d(a,"a",(function(){return s}));var i=n(1),t=n(550),r=n(3);function s(e){var a=e.value,n=e.onChange,s=e.onBlur;return Object(r.jsx)(t.a,Object(i.a)(Object(i.a)({},e),{},{onChange:function(a){var i=a.target.value;(/^-?\d*(\.\d*)?$/.test(i)||""===i||"-"===i)&&n({key:e.name,value:i})},onBlur:e.onBlur&&function(){var n=a;"."!==a.charAt(a.length-1)&&"-"!==a||(n=a.slice(0,-1)),s({key:e.name,value:n.replace(/0*(\d+)/,"$1")})}}))}},536:function(e,a,n){"use strict";n.d(a,"a",(function(){return u}));n(0);var i=n(521),t=n(519),r=n(154),s=n(51),l=n(43),c=n(8),o=n(216),d=n(3);function u(e){var a=Object(s.f)(),n=e.pageTitle,u=e.pageText,m=e.goBack,h=e.addModelTile,p=e.addModelTile2,b=e.setIsModalVisible,j=e.setIsModalVisible2;return Object(d.jsx)(i.a,{span:24,className:"hp-mt-12",children:Object(d.jsxs)(t.a,{children:[Object(d.jsxs)(i.a,{span:16,xs:16,md:12,xl:16,children:[m&&Object(d.jsx)(l.b,{to:"#",onClick:function(){a.goBack()},className:"action-icon text-primary  hp-mr-12 hp-d-inline-block",children:Object(d.jsx)(c.d,{className:"remix-icon",size:24})}),Object(d.jsxs)(t.a,{className:"hp-d-inline-block",children:[Object(d.jsx)(i.a,{span:24,children:n&&Object(d.jsx)("h3",{className:"hp-mb-2 hp-mt-4",children:n})}),Object(d.jsx)(i.a,{span:24,children:u&&Object(d.jsx)("p",{className:"hp-mb-0 hp-p1-body",children:u})})]})]}),Object(d.jsx)(i.a,{span:8,xs:8,md:12,xl:8,children:Object(d.jsxs)("div",{className:"hp-float-right hp-d-inline-block",children:[h&&Object(d.jsx)("div",{className:"hp-pl-4 hp-d-inline-block",children:Object(d.jsx)(r.a,{className:"",type:"primary",onClick:function(){return b(!0)},icon:Object(d.jsx)(c.b,{className:"remix-icon",size:22}),children:!o.isMobile&&h})}),p&&Object(d.jsx)("div",{className:"hp-pl-4 hp-d-inline-block",children:Object(d.jsx)(r.a,{className:"hp-pr-12",type:"primary",onClick:function(){return j(!0)},icon:Object(d.jsx)(c.b,{className:"remix-icon",size:22}),children:!o.isMobile&&p})})]})})]})})}},537:function(e,a,n){"use strict";a.a=n.p+"static/media/empty-list.6fd5c5d1.svg"},538:function(e,a,n){"use strict";var i=n(9),t=n(10),r=n(181),s=n(11),l=n.n(s),c=n(52),o=n(23),d=n(0),u=n(154),m=n(182),h=n(83),p=n(84),b=n(140),j=n(283),v=n(262),g=n(263),O=n(38),x=void 0,f=function(e,a){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&a.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var t=0;for(i=Object.getOwnPropertySymbols(e);t<i.length;t++)a.indexOf(i[t])<0&&Object.prototype.propertyIsEnumerable.call(e,i[t])&&(n[i[t]]=e[i[t]])}return n},w=d.forwardRef((function(e,a){var n=d.useContext(h.b).getPrefixCls,r=Object(c.a)(!1,{value:e.visible,defaultValue:e.defaultVisible}),s=Object(t.a)(r,2),w=s[0],y=s[1],C=function(a,n){var i;y(a,!0),null===(i=e.onVisibleChange)||void 0===i||i.call(e,a,n)},N=function(e){C(!1,e)},I=function(a){var n;return null===(n=e.onConfirm)||void 0===n?void 0:n.call(x,a)},D=function(a){var n;C(!1,a),null===(n=e.onCancel)||void 0===n||n.call(x,a)},_=e.prefixCls,V=e.placement,k=e.children,M=e.overlayClassName,P=f(e,["prefixCls","placement","children","overlayClassName"]),F=n("popover",_),A=n("popconfirm",_),E=l()(A,M),L=d.createElement(p.a,{componentName:"Popconfirm",defaultLocale:b.a.Popconfirm},(function(a){return function(a,t){var r=e.okButtonProps,s=e.cancelButtonProps,l=e.title,c=e.cancelText,o=e.okText,h=e.okType,p=e.icon,b=e.showCancel,j=void 0===b||b;return d.createElement("div",{className:"".concat(a,"-inner-content")},d.createElement("div",{className:"".concat(a,"-message")},p,d.createElement("div",{className:"".concat(a,"-message-title")},Object(g.a)(l))),d.createElement("div",{className:"".concat(a,"-buttons")},j&&d.createElement(u.a,Object(i.a)({onClick:D,size:"small"},s),c||t.cancelText),d.createElement(v.a,{buttonProps:Object(i.a)(Object(i.a)({size:"small"},Object(m.a)(h)),r),actionFn:I,close:N,prefixCls:n("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},o||t.okText)))}(F,a)}));return d.createElement(j.a,Object(i.a)({},P,{prefixCls:F,placement:V,onVisibleChange:function(a){e.disabled||C(a)},visible:w,_overlay:L,overlayClassName:E,ref:a}),Object(O.a)(k,{onKeyDown:function(e){var a,n;d.isValidElement(k)&&(null===(n=null===k||void 0===k?void 0:(a=k.props).onKeyDown)||void 0===n||n.call(a,e)),function(e){e.keyCode===o.a.ESC&&w&&C(!1,e)}(e)}}))}));w.defaultProps={placement:"top",trigger:"click",okType:"primary",icon:d.createElement(r.a,null),disabled:!1},a.a=w},539:function(e,a,n){"use strict";n.d(a,"a",(function(){return p}));var i=n(9),t=n(7),r=n(10),s=n(11),l=n.n(s),c=n(54),o=n(0),d=n(83),u=n(282);function m(e){var a=e.className,n=e.direction,r=e.index,s=e.marginDirection,l=e.children,c=e.split,d=e.wrap,u=o.useContext(p),m=u.horizontalSize,h=u.verticalSize,b=u.latestIndex,j={};return u.supportFlexGap||("vertical"===n?r<b&&(j={marginBottom:m/(c?2:1)}):j=Object(i.a)(Object(i.a)({},r<b&&Object(t.a)({},s,m/(c?2:1))),d&&{paddingBottom:h})),null===l||void 0===l?null:o.createElement(o.Fragment,null,o.createElement("div",{className:a,style:j},l),r<b&&c&&o.createElement("span",{className:"".concat(a,"-split"),style:j},c))}var h=function(e,a){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&a.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var t=0;for(i=Object.getOwnPropertySymbols(e);t<i.length;t++)a.indexOf(i[t])<0&&Object.prototype.propertyIsEnumerable.call(e,i[t])&&(n[i[t]]=e[i[t]])}return n},p=o.createContext({latestIndex:0,horizontalSize:0,verticalSize:0,supportFlexGap:!1}),b={small:8,middle:16,large:24};a.b=function(e){var a,n=o.useContext(d.b),s=n.getPrefixCls,j=n.space,v=n.direction,g=e.size,O=void 0===g?(null===j||void 0===j?void 0:j.size)||"small":g,x=e.align,f=e.className,w=e.children,y=e.direction,C=void 0===y?"horizontal":y,N=e.prefixCls,I=e.split,D=e.style,_=e.wrap,V=void 0!==_&&_,k=h(e,["size","align","className","children","direction","prefixCls","split","style","wrap"]),M=Object(u.a)(),P=o.useMemo((function(){return(Array.isArray(O)?O:[O,O]).map((function(e){return function(e){return"string"===typeof e?b[e]:e||0}(e)}))}),[O]),F=Object(r.a)(P,2),A=F[0],E=F[1],L=Object(c.a)(w,{keepEmpty:!0}),Y=void 0===x&&"horizontal"===C?"center":x,S=s("space",N),T=l()(S,"".concat(S,"-").concat(C),(a={},Object(t.a)(a,"".concat(S,"-rtl"),"rtl"===v),Object(t.a)(a,"".concat(S,"-align-").concat(Y),Y),a),f),R="".concat(S,"-item"),B="rtl"===v?"marginLeft":"marginRight",U=0,z=L.map((function(e,a){null!==e&&void 0!==e&&(U=a);var n=e&&e.key||"".concat(R,"-").concat(a);return o.createElement(m,{className:R,key:n,direction:C,index:a,marginDirection:B,split:I,wrap:V},e)})),q=o.useMemo((function(){return{horizontalSize:A,verticalSize:E,latestIndex:U,supportFlexGap:M}}),[A,E,U,M]);if(0===L.length)return null;var G={};return V&&(G.flexWrap="wrap",M||(G.marginBottom=-E)),M&&(G.columnGap=A,G.rowGap=E),o.createElement("div",Object(i.a)({className:T,style:Object(i.a)(Object(i.a)({},G),D)},k),o.createElement(p.Provider,{value:q},z))}},540:function(e,a,n){"use strict";a.a=n.p+"static/media/broken_img.203310e1.png"},541:function(e,a,n){"use strict";var i=n(10),t=n(0),r=n(32),s=n(19),l=n.n(s),c=(n(533),n(8)),o=n(524),d=n(154),u=n(526),m=n(519),h=n(521),p=n(556),b=n(550),j=n(215),v=n(677),g=n(60),O=(n(535),n(15)),x=n(3);a.a=Object(r.b)((function(e){var a=e.vehicles,n=e.mini;return{rowdata:a.rowdata,model:a.model,miniVersionList:n.miniVersionList,miniEmissionnorms:n.miniEmissionnorms,miniBrandsList:n.miniBrandsList,miniBrandFamilyList:n.miniBrandFamilyList,miniModelsList:n.miniModelsList}}),{vehiclesAdd:g.n,isModelVisible:g.k,InputChangeValue:g.b,getMiniVersion:O.cb,getMiniEmissionnorms:O.C,getMiniBrands:O.o,getMiniBrandFamily:O.m,getMiniModels:O.J,vehicleNumberValidate:g.m,engineNumberValidate:g.g,chassisNumberValidate:g.e})((function(e){var a,n,r,s,g,O,f,w,y,C,N,I,D=o.a.useForm(),_=Object(i.a)(D,1)[0];Object(t.useEffect)((function(){e.getMiniEmissionnorms(),e.getMiniBrands()}),[]);var V=function(){e.isModelVisible(!1)},k=function(){return null==e.rowdata.id||0==e.rowdata.id?Object(x.jsx)(t.Fragment,{children:Object(x.jsx)(d.a,{onClick:function(){_.submit()},type:"primary",block:!0,children:"Add"})}):Object(x.jsx)(t.Fragment,{children:Object(x.jsx)(d.a,{type:"primary",onClick:function(){_.submit()},block:!0,children:"Update"})})},M=function(){return Object(x.jsx)(t.Fragment,{children:Object(x.jsx)(d.a,{onClick:function(){V()},type:"primary",block:!0,ghost:!0,children:"Cancel"})})},P=Object(x.jsxs)("h5",{className:"modal-title",children:[null==e.rowdata.id||0==e.rowdata.id?"Add":"Update"," ","Vehicle"]});function F(a,n){var i,t;(console.log("type",a,n.target.value),"engineno"==a)?n.target.value==(null===(i=e.rowdata)||void 0===i?void 0:i.chassisno)&&(e.InputChangeValue({key:a,value:""}),u.a.error({icon:Object(x.jsx)("span",{className:"remix-icon",children:Object(x.jsx)(c.o,{})}),title:Object(x.jsx)("h5",{className:"hp-mb-0 hp-font-weight-500",children:"Engine Number Error"}),content:Object(x.jsx)("div",{children:Object(x.jsxs)("p",{className:"hp-p1-body hp-text-color-black-80",children:["Engine & Chassis Number should not be same"," "]})})})):n.target.value==(null===(t=e.rowdata)||void 0===t?void 0:t.engineno)&&(e.InputChangeValue({key:a,value:""}),u.a.error({icon:Object(x.jsx)("span",{className:"remix-icon",children:Object(x.jsx)(c.o,{})}),title:Object(x.jsx)("h5",{className:"hp-mb-0 hp-font-weight-500",children:"Chassis Number Error"}),content:Object(x.jsx)("div",{children:Object(x.jsxs)("p",{className:"hp-p1-body hp-text-color-black-80",children:["Engine & Chassis Number should not be same"," "]})})}))}return Object(t.useEffect)((function(){_.setFieldsValue({vehicleType:e.rowdata.vehicleType,vehicleno:e.rowdata.vehicleno,brand_id:e.rowdata.brand_id,brandfamily_id:e.rowdata.brandfamily_id,model_id:e.rowdata.model_id,vehicletrno:e.rowdata.vehicletrno,version_id:e.rowdata.version_id,emission_id:e.rowdata.emission_id,year:e.rowdata.year,engineno:e.rowdata.engineno,chassisno:e.rowdata.chassisno})}),[e.rowdata]),Object(x.jsx)(u.a,{visible:e.model,title:P,onCancel:function(){V(),_.resetFields(),e.isModelVisible(!1)},className:"hp-modal-p-24",footer:Object(x.jsxs)(m.a,{justify:"center",children:[Object(x.jsx)(h.a,{span:12,className:"hp-pr-4",children:Object(x.jsx)(M,{})}),Object(x.jsx)(h.a,{span:12,className:"hp-pl-4",children:Object(x.jsx)(k,{})})]}),centered:!0,closeIcon:Object(x.jsx)(c.k,{className:"remix-icon text-color-black-100",size:24}),width:616,children:Object(x.jsx)(o.a,{layout:"vertical",form:_,autoComplete:"off",onFinish:function(){null==e.rowdata.id?function(){var a,n,i,t={id:0,vehicleno:"new"===(null===(a=e.rowdata)||void 0===a?void 0:a.vehicleType)?e.rowdata.vehicletrno:null===(n=e.rowdata)||void 0===n?void 0:n.vehicleno,brand_id:e.rowdata.brand_id,brandfamily_id:e.rowdata.brandfamily_id,model_id:e.rowdata.model_id,vehicletrno:e.rowdata.vehicletrno,year:l()(null===(i=e.rowdata)||void 0===i?void 0:i.year).format("YYYY"),engineno:e.rowdata.engineno,emission_id:e.rowdata.emission_id,version_id:e.rowdata.version_id,chassisno:e.rowdata.chassisno};e.vehiclesAdd({obj:t})}():function(){var a,n,i,t,r,s,c,o,d,u,m,h,p,b,j,v,g,O={id:null===(a=e.rowdata)||void 0===a?void 0:a.id,vehicleno:"new"===(null===(n=e.rowdata)||void 0===n?void 0:n.vehicleType)?e.rowdata.vehicletrno:null===(i=e.rowdata)||void 0===i?void 0:i.vehicleno,brand_id:null==(null===(t=e.rowdata)||void 0===t?void 0:t.brand_id)?e.rowdata.brand.id:null===(r=e.rowdata)||void 0===r?void 0:r.brand_id,brandfamily_id:null==(null===(s=e.rowdata)||void 0===s?void 0:s.brandfamily_id)?e.rowdata.brandfamily.id:null===(c=e.rowdata)||void 0===c?void 0:c.brandfamily_id,model_id:null==(null===(o=e.rowdata)||void 0===o?void 0:o.model_id)?e.rowdata.model.id:null===(d=e.rowdata)||void 0===d?void 0:d.model_id,vehicletrno:null===(u=e.rowdata)||void 0===u?void 0:u.vehicletrno,year:l()(null===(m=e.rowdata)||void 0===m?void 0:m.year).format("YYYY"),engineno:null===(h=e.rowdata)||void 0===h?void 0:h.engineno,emission_id:null==(null===(p=e.rowdata)||void 0===p?void 0:p.emission_id)?e.rowdata.emission.id:null===(b=e.rowdata)||void 0===b?void 0:b.emission_id,version_id:null==(null===(j=e.rowdata)||void 0===j?void 0:j.version_id)?e.rowdata.version.id:null===(v=e.rowdata)||void 0===v?void 0:v.version_id,chassisno:null===(g=e.rowdata)||void 0===g?void 0:g.chassisno};e.vehiclesAdd({obj:O,type:e.type,typeId:e.typeId})}()},children:Object(x.jsxs)(m.a,{gutter:[12,0],children:[Object(x.jsx)(h.a,{span:24,xs:24,xl:12,md:12,children:Object(x.jsx)(o.a.Item,{label:"Vehicle Type",name:"vehicleType",rules:[{required:!0,message:"Please select Your Vehicle Type!"}],children:Object(x.jsxs)(p.a.Group,{name:"vehicleType",onChange:function(a){e.InputChangeValue({key:a.target.name,value:a.target.value})},value:null===(a=e.rowdata)||void 0===a?void 0:a.vehicleType,children:[Object(x.jsx)(p.a.Button,{value:"new",children:"New Vehicle"}),Object(x.jsx)(p.a.Button,{value:"old",children:"Old Vehicle"})]})})}),"new"===(null===(n=e.rowdata)||void 0===n?void 0:n.vehicleType)?Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(h.a,{span:24,xs:24,xl:12,md:12,children:Object(x.jsx)(o.a.Item,{label:"Vehicle TR Number:",name:"vehicletrno",rules:[{required:!0,message:"Please Enter Your Vehicle TR Number!"},{pattern:new RegExp(/[A-Z][A-Z][0-9][0-9][A-Z][A-Z][A-Z][A-Z][0-9][0-9][0-9][0-9]$/i),message:"field does not accept numbers"}],hasFeedback:!0,children:Object(x.jsx)(b.a,{id:"Version",name:"vehicletrno",style:{width:"100%"},placeholder:"EX:AP00ABCD1234",minLength:10,maxLength:15,value:null===(r=e.rowdata)||void 0===r?void 0:r.vehicletrno,onChange:function(a){e.InputChangeValue({key:a.target.name,value:a.target.value.toUpperCase()})}})})})}):Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(h.a,{span:24,xs:24,xl:12,md:12,children:Object(x.jsx)(o.a.Item,{label:"Vehicle Number",name:"vehicleno",rules:[{required:!0,message:"Please Enter Your Vehicle Number!"},{pattern:new RegExp("^[A-Z]{2}[0-9]{1,2}[A-Z]{1,2}[0-9]{4}$"),message:"Please accept valid vehicle number"}],hasFeedback:!0,children:Object(x.jsx)(b.a,{id:"vehicleno-input",name:"vehicleno",label:"Vehicle Number:",maxLength:11,style:{width:"100%",transform:"uppercase"},placeholder:"EX: AP00QQ0000",onBlur:function(a){console.log("data",a),e.vehicleNumberValidate({vehicleno:a.target.value})},value:null===(s=e.rowdata)||void 0===s?void 0:s.vehicleno,onChange:function(a){e.InputChangeValue({key:a.target.name,value:a.target.value.toUpperCase()})}})})})}),Object(x.jsx)(h.a,{span:24,xs:24,xl:12,md:12,children:Object(x.jsx)(o.a.Item,{label:"Brand :",name:"brand_id",rules:[{required:!0,message:"Please select your Brand!"}],hasFeedback:!0,children:Object(x.jsx)(j.a,{showSearch:!0,filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},placeholder:"Select  Brand",optionFilterProp:"Brand",onChange:function(a){e.getMiniBrandFamily({brand:a}),e.InputChangeValue({key:"brand_id",value:a})},value:null==e.rowdata.brand_id?"":null===(g=e.rowdata)||void 0===g?void 0:g.brand_id,children:e.miniBrandsList.map((function(e,a){return Object(x.jsx)(Option,{value:e.id,children:e.name},a)}))})})}),Object(x.jsx)(h.a,{span:24,xs:24,xl:12,md:12,children:Object(x.jsx)(o.a.Item,{label:"Brand Family :",name:"brandfamily_id",rules:[{required:!0,message:"Please select your Brand Family!"}],hasFeedback:!0,children:Object(x.jsx)(j.a,{showSearch:!0,filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},placeholder:"Select Brand Family",optionFilterProp:"brand Family",onChange:function(a){e.getMiniModels({brandfamily:a}),e.InputChangeValue({key:"brandfamily_id",value:a})},value:null==e.rowdata.brandfamily_id?"":null===(O=e.rowdata)||void 0===O?void 0:O.brandfamily_id,children:e.miniBrandFamilyList.map((function(e,a){return Object(x.jsx)(Option,{value:e.id,children:e.name},a)}))})})}),Object(x.jsx)(h.a,{span:24,xs:24,xl:12,md:12,children:Object(x.jsx)(o.a.Item,{label:"Model :",name:"model_id",rules:[{required:!0,message:"Please select your Model!"}],hasFeedback:!0,children:Object(x.jsx)(j.a,{showSearch:!0,filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},placeholder:"Select Model",optionFilterProp:"Model",onChange:function(a){e.getMiniVersion({model:a}),e.InputChangeValue({key:"model_id",value:a})},value:null==e.rowdata.model_id?"":null===(f=e.rowdata)||void 0===f?void 0:f.model_id,children:e.miniModelsList.map((function(e,a){return Object(x.jsx)(Option,{value:e.id,children:e.name},a)}))})})}),Object(x.jsx)(h.a,{span:24,xs:24,xl:12,md:12,children:Object(x.jsx)(o.a.Item,{label:"Version :",name:"version_id",rules:[{required:!0,message:"Please select your Version!"}],hasFeedback:!0,children:Object(x.jsx)(j.a,{showSearch:!0,filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},placeholder:"Select Version",optionFilterProp:"version",onChange:function(a){e.InputChangeValue({key:"version_id",value:a})},value:null==e.rowdata.version_id?"":null===(w=e.rowdata)||void 0===w?void 0:w.version_id,children:e.miniVersionList.map((function(e,a){return Object(x.jsx)(Option,{value:e.id,children:e.name},a)}))})})})," ",Object(x.jsx)(h.a,{span:24,xs:24,xl:12,md:12,children:Object(x.jsx)(o.a.Item,{label:"Emission :",name:"emission_id",rules:[{required:!0,message:"Please select your Emission!"}],hasFeedback:!0,children:Object(x.jsx)(j.a,{showSearch:!0,filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},placeholder:"Select a Emission",optionFilterProp:"emission",onChange:function(a){e.InputChangeValue({key:"emission_id",value:a})},value:null==e.rowdata.emission_id?"":null===(y=e.rowdata)||void 0===y?void 0:y.emission_id,children:e.miniEmissionnorms.map((function(e,a){return Object(x.jsx)(Option,{value:e.id,children:e.name},a)}))})})}),Object(x.jsx)(h.a,{span:24,xs:24,xl:12,md:12,children:Object(x.jsx)(o.a.Item,{label:"Year",name:"year",rules:[{required:!0,message:"Select Year"}],hasFeedback:!0,children:Object(x.jsx)(v.a,{id:"year",name:"year",style:{width:"100%"},picker:"year",disabledDate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{startDate:!1,endDate:!1},a=e.startDate,n=e.endDate;return function(e){var i=!0,t=!0;return a&&(i=e&&e<l()(a,"YYYY")),n&&(t=e&&e>l()(n,"YYYY")),a&&i||n&&t}}({endDate:new Date,startDate:1990}),placeholder:"Select Year",value:null===(C=e.rowdata)||void 0===C?void 0:C.year,onChange:function(a){console.log("Year",a,typeof a),e.InputChangeValue({key:"year",value:a})}})})})," ",Object(x.jsx)(h.a,{span:24,xs:24,xl:12,md:12,children:Object(x.jsx)(o.a.Item,{label:"Engine Number:",name:"engineno",rules:[{required:!0,message:"Please input your Engine Number!"},{min:10,message:"Engine Number must be 10 digits!"}],hasFeedback:!0,children:Object(x.jsx)(b.a,{id:"engineno",name:"engineno",style:{width:"100%",transform:"uppercase"},minLength:10,maxLength:20,placeholder:"Engine Number",value:null===(N=e.rowdata)||void 0===N?void 0:N.engineno,onBlur:function(a){e.engineNumberValidate({engineno:a.target.value}),""!=a.target.value&&F("engineno",a)},onChange:function(a){e.InputChangeValue({key:a.target.name,value:a.target.value.toUpperCase()})}})})})," ",Object(x.jsx)(h.a,{span:24,xs:24,xl:12,md:12,children:Object(x.jsx)(o.a.Item,{label:"Chassis Number :",name:"chassisno",rules:[{required:!0,message:"Please input your Chassis Number!"},{min:10,message:"Chassis Number must be 10 digits!"}],getValueProps:function(){},hasFeedback:!0,children:Object(x.jsx)(b.a,{id:"Chassis Number",name:"chassisno",style:{width:"100%",transform:"uppercase"},placeholder:"Chassis Number",minLength:10,maxLength:20,onBlur:function(a){e.chassisNumberValidate({chassisno:a.target.value}),""!=a.target.value&&F("chassisno",a)},value:null===(I=e.rowdata)||void 0===I?void 0:I.chassisno,onChange:function(a){e.InputChangeValue({key:a.target.name,value:a.target.value.toUpperCase()})}})})})]})})})}))},542:function(e,a,n){"use strict";a.a=n.p+"static/media/noimg.b2f3d4d2.png"},549:function(e,a,n){"use strict";var i=n(10),t=n(0),r=n(32),s=(n(533),n(8)),l=n(524),c=n(538),o=n(154),d=n(526),u=n(519),m=n(521),h=n(532),p=n(682),b=n(550),j=n(19),v=n.n(j),g=n(542),O=n(48),x=n(540),f=n(3);a.a=Object(r.b)((function(e){var a=e.newInsurance,n=e.system;return{viewInsuranceModel:a.viewInsuranceModel,insuranceData:a.insuranceData,userAccessList:n.userAccessList}}),{isInsuranceViewModelVisible:O.C,insuranceApprove:O.u})((function(e){var a,n,r,j,O,w,y,C,N,I,D,_,V,k,M,P,F,A,E,L,Y,S,T,R,B,U,z=e.buttons,q=Object(t.useState)({}),G=Object(i.a)(q,2),H=G[0],Z=G[1],K=l.a.useForm(),$=Object(i.a)(K,1)[0];function J(a){var n;e.insuranceApprove({approveObj:{reviewer_description:null===(n=H.target)||void 0===n?void 0:n.value,insurancestatus:a},id:e.insuranceData.id}),$.resetFields()}var Q=[{title:"CUSTOMER NAME",description:null==(null===(a=e.insuranceData)||void 0===a?void 0:a.customername)?"none":e.insuranceData.customername},{title:"CUSTOMER MOBILE",description:null==e.insuranceData.customermobile?"none":e.insuranceData.customermobile},{title:"AADHAR NUMBER",description:null==e.insuranceData.aadharno?"none":e.insuranceData.aadharno},{title:"COUNTER NAME",description:null==(null===(n=e.insuranceData.counter)||void 0===n?void 0:n.name)?"none":null===(r=e.insuranceData.counter)||void 0===r?void 0:r.name},{title:"VEHICLE NUMBER",description:null==(null===(j=e.insuranceData.vehicle)||void 0===j?void 0:j.vehicleno)?"none":null===(O=e.insuranceData.vehicle)||void 0===O?void 0:O.vehicleno},{title:"CUSTOMER AMOUNT",description:null==e.insuranceData.customeramount?"none":e.insuranceData.customeramount},{title:"REQUESTED AMOUNT",description:null==e.insuranceData.requestedamount?"none":e.insuranceData.requestedamount},{title:"INSURANCE CATEGORY",description:null==e.insuranceData.insurancecategory_name?"none":e.insuranceData.insurancecategory_name},{title:"APPROVED BY",description:null==(null===(w=e.insuranceData.reviewer)||void 0===w?void 0:w.fullname)?"none":null===(y=e.insuranceData.reviewer)||void 0===y?void 0:y.fullname},{title:"APPROVED ON",description:null==e.insuranceData.reviewedon?"none":v()(e.insuranceData.reviewedon).format("DD-MM-YYYY")},{title:"REQUESTED ON",description:null==e.insuranceData.processedon?"none":v()(e.insuranceData.processedon).format("DD-MM-YYYY")},{title:"INSURANCE AGENT",description:null==(null===(C=e.insuranceData.insurer)||void 0===C?void 0:C.fullname)?"none":null===(N=e.insuranceData.insurer)||void 0===N?void 0:N.fullname},{title:"INSURANCE SUBMITTED DATE",description:null==e.insuranceData.processedon?"none":v()(e.insuranceData.processedon).format("DD-MM-YYYY")},{title:"REMARKS",description:null==e.insuranceData.reviewer_description?"none":e.insuranceData.reviewer_description}],X=[{title:"AADHAR FRONT IMAGE",imgFile:null!=e.insuranceData.aadharfront_image?null===(I=e.insuranceData.aadharfront_image)||void 0===I?void 0:I.file:null,ImgFileThumbnail:null!=e.insuranceData.aadharfront_image?null===(D=e.insuranceData.aadharfront_image)||void 0===D?void 0:D.file_thumbnail:null,createdon:null===(_=e.insuranceData.aadharfront_image)||void 0===_?void 0:_.createdon,alt:"AADHAR FRONT IMAGE"},{title:"AADHAR BACK IMAGE",imgFile:null!=e.insuranceData.aadharback_image?null===(V=e.insuranceData.aadharback_image)||void 0===V?void 0:V.file:null,ImgFileThumbnail:null!=e.insuranceData.aadharback_image?null===(k=e.insuranceData.aadharback_image)||void 0===k?void 0:k.file_thumbnail:null,createdon:null===(M=e.insuranceData.aadharback_image)||void 0===M?void 0:M.createdon,alt:"AADHAR BACK IMAGE"},{title:"C BOOK IMAGE",imgFile:null!=e.insuranceData.cbook_image?null===(P=e.insuranceData.cbook_image)||void 0===P?void 0:P.file:null,ImgFileThumbnail:null!=e.insuranceData.cbook_image?null===(F=e.insuranceData.cbook_image)||void 0===F?void 0:F.file_thumbnail:null,createdon:null===(A=e.insuranceData.cbook_image)||void 0===A?void 0:A.createdon,alt:"C BOOK IMAGE"},{title:"OLD POLICY IMAGE",imgFile:null!=e.insuranceData.oldpolicy_image?null===(E=e.insuranceData.oldpolicy_image)||void 0===E?void 0:E.file:null,ImgFileThumbnail:null!=e.insuranceData.oldpolicy_image?null===(L=e.insuranceData.oldpolicy_image)||void 0===L?void 0:L.file_thumbnail:null,createdon:null===(Y=e.insuranceData.oldpolicy_image)||void 0===Y?void 0:Y.createdon,alt:"OLD POLICY IMAGE"}],W=[{title:"INSURANCE UPDATE IMAGE",imgFile:null!=e.insuranceData.insuranceimage?null===(S=e.insuranceData.insuranceimage)||void 0===S?void 0:S.file:null,ImgFileThumbnail:null!=e.insuranceData.insuranceimage?null===(T=e.insuranceData.insuranceimage)||void 0===T?void 0:T.file_thumbnail:null,createdon:null===(R=e.insuranceData.insuranceimage)||void 0===R?void 0:R.createdon,alt:"INSURANCE UPDATE IMAGE"}],ee=[{title:"AMOUNT",description:null==e.insuranceData.amount?"none":e.insuranceData.amount},{title:"INSURANCE COMPANY NAME",description:null==e.insuranceData.insurancecompany?"none":null===(B=e.insuranceData.insurancecompany)||void 0===B?void 0:B.name},{title:"INSURANCE NUMBER",description:null==e.insuranceData.number?"none":e.insuranceData.number},{title:"EXPIRE DATE",description:null==e.insuranceData.expdate?"none":v()(e.insuranceData.expdate).format("DD-MM-YYYY")}],ae=function(){return Object(f.jsx)(t.Fragment,{children:Object(f.jsx)(c.a,{placement:"topRight",title:"Are you sure to Approve this Record?",onConfirm:function(){return J(2)},okText:"Yes",cancelText:"No",icon:Object(f.jsx)(s.n,{className:"remix-icon hp-text-color-primary-1"}),children:Object(f.jsx)(o.a,{block:!0,className:"hp-px-12 hp-accept-btn hp-font-weight-400",children:"Approve"})})})},ne=function(){return Object(f.jsx)(t.Fragment,{children:Object(f.jsx)(c.a,{placement:"topRight",title:"Are you sure to Reject this Record?",onConfirm:function(){return $.submit()},okText:"Yes",cancelText:"No",className:"hp-ml-8",icon:Object(f.jsx)(s.n,{className:"remix-icon hp-text-color-primary-1"}),children:Object(f.jsx)(o.a,{block:!0,className:"hp-px-12 hp-reject-btn hp-font-weight-400",children:"Reject"})})})},ie=Object(f.jsx)("h5",{className:"modal-title",children:"Insurance View"});return Object(f.jsx)(d.a,{visible:e.viewInsuranceModel,title:ie,onCancel:function(){$.resetFields(),e.isInsuranceViewModelVisible(!1),e.isInsuranceViewModelVisible(!1)},className:"hp-modal-p-24",footer:Object(f.jsx)(f.Fragment,{children:z&&Object(f.jsx)(f.Fragment,{children:1==e.insuranceData.insurancestatus&&Object(f.jsx)(f.Fragment,{children:-1!==(null===(U=e.userAccessList)||void 0===U?void 0:U.indexOf("InsuranceRto.approve_insurance"))&&Object(f.jsxs)(u.a,{justify:"center",children:[Object(f.jsx)(m.a,{span:12,className:"hp-pl-4",children:Object(f.jsx)(ae,{})}),Object(f.jsx)(m.a,{span:12,className:"hp-pr-4",children:Object(f.jsx)(ne,{})})]})})})}),centered:!0,closeIcon:Object(f.jsx)(s.k,{className:"remix-icon text-color-black-100",size:24}),width:816,children:Object(f.jsx)(u.a,{gutter:[12,12],children:Object(f.jsxs)(m.a,{span:24,md:24,children:[Object(f.jsx)(h.b,{grid:{gutter:16,xs:1,sm:2,md:3,lg:3,xl:4,xxl:3},dataSource:Q,renderItem:function(e){return Object(f.jsx)(h.b.Item,{children:Object(f.jsx)(h.b.Item.Meta,{title:Object(f.jsx)("span",{children:e.title}),description:Object(f.jsx)("span",{children:e.description})})})}}),3==e.insuranceData.insurancestatus&&Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(h.b,{grid:{gutter:16,xs:1,sm:2,md:3,lg:3,xl:4,xxl:3},dataSource:ee,renderItem:function(e){return Object(f.jsx)(h.b.Item,{children:Object(f.jsx)(h.b.Item.Meta,{title:Object(f.jsx)("span",{children:e.title}),description:Object(f.jsx)("span",{children:e.description})})})}})}),Object(f.jsx)(u.a,{gutter:[12,12],children:Object(f.jsxs)(p.a.PreviewGroup,{children:[X.map((function(e){return Object(f.jsxs)(m.a,{span:24,xs:12,md:6,xl:6,children:[Object(f.jsx)("p",{className:" hp-m-0 hp-text-color-primary-1 hp-font-weight-600 hp-font-size-12",children:e.title}),null!=e.imgFile?Object(f.jsx)(p.a,{className:"ant-upload-select-picture-card hp-preview-img",src:e.imgFile,alt:e.alt,onError:function(e){var a=e.currentTarget;a.onerror=null,a.src=x.a}}):Object(f.jsx)(p.a,{preview:!1,className:"ant-upload-select-picture-card hp-preview-img",src:g.a,alt:"noImage"})]})})),3==e.insuranceData.insurancestatus&&Object(f.jsx)(f.Fragment,{children:W.map((function(e){return Object(f.jsxs)(m.a,{span:24,xs:12,md:6,xl:6,children:[Object(f.jsx)("p",{className:" hp-m-0 hp-text-color-primary-1 hp-font-weight-600 hp-font-size-12",children:e.title}),Object(f.jsx)(p.a,{className:"ant-upload-select-picture-card hp-preview-img",src:e.imgFile,alt:e.alt})]})}))})]})}),z&&Object(f.jsx)(f.Fragment,{children:1==e.insuranceData.insurancestatus&&Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(l.a,{className:"hp-mt-10",layout:"vertical",form:$,onFinish:function(){J(4)},children:Object(f.jsx)(l.a.Item,{name:"reviewer_description",rules:[{required:!0,message:"Please Input  Remarks"}],hasFeedback:!0,children:Object(f.jsx)(b.a.TextArea,{id:"reviewer_description",name:"reviewer_description",style:{width:"100%"},placeholder:"Write Remarks...",onChange:function(e){return Z(e)}})})})})})]})})})}))},697:function(e,a,n){"use strict";n.r(a);var i=n(1),t=n(0),r=n(32),s=n(550),l=n(539),c=n(519),o=n(521),d=n(154),u=n(531),m=n(337),h=n(676),p=n(340),b=n(350),j=n(235),v=n(361),g=n(536),O=(n(537),n(19)),x=n.n(O),f=n(48),w=n(216),y=n(10),C=n(524),N=n(527),I=n(677),D=n(215),_=n(15),V=n(60),k=n(3),M=new Date;M.getFullYear(),M.getMonth();var P=Object(r.b)((function(e){var a=e.newInsurance,n=e.mini;return{drawer:a.drawer,insuranceparams:a.insuranceparams,miniCountersList:n.miniCountersList,miniVehiclesList:n.miniVehiclesList}}),{getInsuranceList:f.o,isDrawerVisible:f.B,setInsuranceParams:f.F,FilterInputChangeValue:f.a,getMiniCounters:_.v,getMiniVehicles:_.Y,SetVehiclesParams:V.c,getVehicles:V.h})((function(e){var a,n,r,s,l,u=C.a.useForm(),m=Object(y.a)(u,1)[0];Object(t.useEffect)((function(){e.getMiniCounters(),e.getMiniVehicles()}),[]);function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{startDate:!1,endDate:!1},a=e.startDate,n=e.endDate;return function(e){var i=!0,t=!0;return a&&(i=e&&e<x()(a+" 00:00:01","YYYY-MM-DD HH:mm:ss")),n&&(t=e&&e>x()(x()(n).format("YYYY-MM-DD")+" 23:59:59","YYYY-MM-DD HH:mm:ss")),a&&i||n&&t}}return Object(t.useEffect)((function(){var a,n,i,t,r;m.setFieldsValue({start_date:null===(a=e.insuranceparams)||void 0===a?void 0:a.start_date,end_date:null===(n=e.insuranceparams)||void 0===n?void 0:n.end_date,counter:null===(i=e.insuranceparams)||void 0===i?void 0:i.counter,insurancecategory:null===(t=e.insuranceparams)||void 0===t?void 0:t.insurancecategory,insurancestatus:null===(r=e.insuranceparams)||void 0===r?void 0:r.insurancestatus})}),[e.insuranceparams]),Object(k.jsx)(c.a,{gutter:[12,12],children:Object(k.jsx)(o.a,{span:24,children:Object(k.jsx)(N.a,{title:"Filters",width:420,className:"hp-drawer-mobile",onClose:function(){e.isDrawerVisible(!1)},placement:"right",visible:e.drawer,bodyStyle:{paddingBottom:10},children:Object(k.jsxs)(C.a,{form:m,layout:"vertical",name:"basic",initialValues:{remember:!0},onFinish:function(){e.setInsuranceParams(Object(i.a)(Object(i.a)({},e.insuranceparams),{},{start_date:e.insuranceparams.start_date,end_date:e.insuranceparams.end_date,page:1,search:"",page_size:10})),e.getInsuranceList(Object(i.a)(Object(i.a)({},e.insuranceparams),{},{start_date:e.insuranceparams.start_date,end_date:e.insuranceparams.end_date,page:1,search:"",page_size:10})),e.isDrawerVisible(!1)},children:[Object(k.jsxs)(c.a,{gutter:[12,12],children:[Object(k.jsx)(o.a,{span:12,children:Object(k.jsx)(C.a.Item,{label:"From Date",name:"start_date",className:"hp-mb-10",children:Object(k.jsx)(I.a,{style:{width:"100%"},placeholder:"Choose Date",format:"DD-MM-YYYY",disabledDate:h({endDate:new Date}),onChange:function(a){e.FilterInputChangeValue({key:"start_date",value:null==a?"":a}),null==a&&e.FilterInputChangeValue({key:"end_date",value:""})}})})}),Object(k.jsx)(o.a,{span:12,children:Object(k.jsx)(C.a.Item,{label:"To Date",name:"end_date",className:"hp-mb-10",children:Object(k.jsx)(I.a,{style:{width:"100%"},picker:"date",placeholder:"Choose Date",format:"DD-MM-YYYY",disabledDate:h({endDate:x()().format("YYYY-MM-DD"),startDate:x()(null===(a=e.insuranceparams)||void 0===a?void 0:a.start_date).format("YYYY-MM-DD")}),disabled:null==e.insuranceparams.start_date||""==e.insuranceparams.start_date,onChange:function(a){e.FilterInputChangeValue({key:"end_date",value:null==a?"":a})}})})}),Object(k.jsx)(o.a,{span:12,children:Object(k.jsx)(C.a.Item,{label:"Counter",name:"counter",className:"hp-mb-10",children:Object(k.jsx)(D.a,{showSearch:!0,allowClear:!0,placeholder:"Select a Counter",optionFilterProp:"Counter",filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},onChange:function(a){e.FilterInputChangeValue({key:"counter",value:a})},value:null==e.insuranceparams.counter_id?"":null===(n=e.insuranceparams)||void 0===n?void 0:n.counter_id,children:e.miniCountersList.map((function(e,a){return Object(k.jsx)(Option,{value:e.id,children:e.name},a)}))})})}),Object(k.jsx)(o.a,{span:12,children:Object(k.jsx)(C.a.Item,{label:"Insurance Category",name:"insurancecategory",className:"hp-mb-10",children:Object(k.jsx)(D.a,{showSearch:!0,allowClear:!0,placeholder:"Insurance Category",optionFilterProp:"paid",filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},onChange:function(a){e.FilterInputChangeValue({key:"insurancecategory",value:a})},value:null==e.insuranceparams.insurancecategory?"":null===(r=e.insuranceparams)||void 0===r?void 0:r.insurancecategory,children:[{id:1,name:"1st Party"},{id:2,name:"2nd Party"},{id:3,name:"3rd Party"}].map((function(e,a){return Object(k.jsx)(Option,{value:e.id,children:e.name},a)}))})})}),Object(k.jsx)(o.a,{span:12,children:Object(k.jsx)(C.a.Item,{label:"Vehicle",name:"vehicle",className:"hp-mb-10",children:Object(k.jsx)(D.a,{showSearch:!0,allowClear:!0,placeholder:"Select Vehicle",optionFilterProp:"vehicle_id",filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},onSearch:function(a){e.SetVehiclesParams(Object(i.a)(Object(i.a)({},e.vehiclesParams),{},{page:1,search:a})),e.getVehicles(Object(i.a)(Object(i.a)({},e.vehiclesParams),{},{page:1,search:a}))},defaultActiveFirstOption:!1,showArrow:!0,onChange:function(a){e.FilterInputChangeValue({key:"vehicle",value:a})},onPopupScroll:function(){e.vehiclesParams.page<e.vehiclesParams.no_of_pages&&(e.SetVehiclesParams(Object(i.a)(Object(i.a)({},e.vehiclesParams),{},{page:e.vehiclesParams.page+1})),e.getVehicles(Object(i.a)(Object(i.a)({},e.vehiclesParams),{},{page:e.vehiclesParams.page+1})))},value:null==e.insuranceparams.vehicle_id?"":null===(s=e.insuranceparams)||void 0===s?void 0:s.vehicle_id,children:e.miniVehiclesList.map((function(e,a){return Object(k.jsx)(Option,{value:e.id,children:e.vehicleno},a)}))})})}),Object(k.jsx)(o.a,{span:12,children:Object(k.jsx)(C.a.Item,{label:"Insurance Status",name:"insurancestatus",className:"hp-mb-10",children:Object(k.jsx)(D.a,{showSearch:!0,allowClear:!0,placeholder:"Insurance Status",optionFilterProp:"insurancestatus",filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},onChange:function(a){e.FilterInputChangeValue({key:"insurancestatus",value:a})},value:null==e.insuranceparams.insurancestatus?"":null===(l=e.insuranceparams)||void 0===l?void 0:l.insurancestatus,children:[{id:1,name:"Requested"},{id:2,name:"Reviewed"},{id:3,name:"Processed"},{id:4,name:"Rejected"}].map((function(e,a){return Object(k.jsx)(Option,{value:e.id,children:e.name},a)}))})})})]}),Object(k.jsxs)(c.a,{gutter:[12,12],children:[Object(k.jsx)(o.a,{md:12,xs:12,children:Object(k.jsx)(d.a,{block:!0,type:"secondary",className:"hp-submit-btn hp-mt-10",onClick:function(){e.setInsuranceParams({start_date:"",end_date:"",page:1,search:"",page_size:10}),e.getInsuranceList({start_date:"",end_date:"",page:1,search:"",page_size:10})},htmlType:"button",children:"Clear"})}),Object(k.jsx)(o.a,{md:12,xs:12,children:Object(k.jsx)(d.a,{block:!0,type:"primary",className:"hp-submit-btn hp-mt-10",onClick:function(){m.submit()},children:"Apply"})})]})]})})})})})),F=n(51),A=(n(533),n(8)),E=n(526),L=n(680),Y=n(535),S=n(141),T=n(188),R=n(240);var B=Object(r.b)((function(e){var a=e.newInsurance,n=e.mini,i=e.vehicles;return{insuranceData:a.insuranceData,model:a.model,miniCountersList:n.miniCountersList,miniVehiclesList:n.miniVehiclesList,vehiclesParams:i.vehiclesParams,vehicleVersion:a.vehicleVersion,versionInsurance:a.versionInsurance,miniVehiclesParams:n.miniVehiclesParams}}),{isModelVisible:f.E,InputChangeValue:f.b,getMiniVehicles:_.Y,SetVehiclesParams:V.c,getVehicles:V.h,getInsuranceImageUpload:f.n,getMiniCounters:_.v,addNewInsurance:f.f,getByVehicleVersion:f.l,getVersionInsuranceMaster:f.s,setMiniVehiclesParams:_.cc})((function(e){var a,n,r,l,u,m,h,p,b,v,g,O,x,f,w,N,I,_,V,M,P,B,U,z,q,G,H=C.a.useForm(),Z=Object(y.a)(H,1)[0],K=Object(F.f)();Object(t.useEffect)((function(){e.getMiniVehicles(Object(i.a)(Object(i.a)({},e.vehiclesParams),{},{page:1})),e.getMiniCounters(),e.getVehicles(Object(i.a)(Object(i.a)({},e.vehiclesParams),{},{page:1}))}),[]);var $=function(e){var a="image/jpeg"===e.type||"image/png"===e.type;a||message.error("You can only upload JPG/PNG file!");var n=e.size/1024/1024<2;return n||message.error("Image must smaller than 2MB!"),a&&n},J=Object(k.jsxs)(k.Fragment,{children:[" ",Object(k.jsxs)("div",{className:"hp-center hp-mt-0 ",children:[e.imageLooading?Object(k.jsx)(S.a,{}):Object(k.jsx)(j.a,{className:"hp-mt-16"}),Object(k.jsx)("div",{className:"hp-mt-8 hp-mb-16",children:"Upload"})]})]});var Q=function(){e.isModelVisible(!1)},X=function(){return null==e.insuranceData.id||0==e.insuranceData.id?Object(k.jsx)(t.Fragment,{children:Object(k.jsx)(d.a,{onClick:function(){Z.submit()},type:"primary",block:!0,children:"Add"})}):Object(k.jsx)(t.Fragment,{children:Object(k.jsx)(d.a,{type:"primary",onClick:function(){Z.submit()},block:!0,children:"Update"})})},W=function(){return Object(k.jsx)(t.Fragment,{children:Object(k.jsx)(d.a,{onClick:function(){Q()},type:"primary",block:!0,ghost:!0,children:"Cancel"})})},ee=Object(k.jsxs)("h5",{className:"modal-title",children:[null==e.insuranceData.id||0==e.insuranceData.id?"Add":"Update"," ","Insurance"]});return Object(t.useEffect)((function(){var a,n,i,t,r,s,l,c,o;Z.setFieldsValue({paid:null===(a=e.insuranceData)||void 0===a?void 0:a.paid,customername:null===(n=e.insuranceData)||void 0===n?void 0:n.customername,customermobile:null===(i=e.insuranceData)||void 0===i?void 0:i.customermobile,aadharno:null===(t=e.insuranceData)||void 0===t?void 0:t.aadharno,vehicle_id:null===(r=e.insuranceData)||void 0===r?void 0:r.vehicle_id,counter_id:null===(s=e.insuranceData)||void 0===s?void 0:s.counter_id,customeramount:null===(l=e.insuranceData)||void 0===l?void 0:l.customeramount,requestedamount:null===(c=e.insuranceData)||void 0===c?void 0:c.requestedamount,insurancecategory:null===(o=e.insuranceData)||void 0===o?void 0:o.insurancecategory})}),[e.insuranceData]),console.log("props.vehicleVersion",e.vehicleVersion),Object(k.jsx)(E.a,{visible:e.model,title:ee,onCancel:function(){Q(),Z.resetFields(),e.isModelVisible(!1)},className:"hp-modal-p-24",footer:Object(k.jsxs)(c.a,{justify:"center",children:[Object(k.jsx)(o.a,{span:12,className:"hp-pr-4",children:Object(k.jsx)(W,{})}),Object(k.jsx)(o.a,{span:12,className:"hp-pl-4",children:Object(k.jsx)(X,{})})]}),centered:!0,closeIcon:Object(k.jsx)(A.k,{className:"remix-icon text-color-black-100",size:24}),width:916,children:Object(k.jsxs)(C.a,{layout:"vertical",form:Z,onFinish:function(){null==e.insuranceData.id?function(){var a=Object(i.a)(Object(i.a)({},e.insuranceData),{},{id:0});e.addNewInsurance({insuranceObj:a,history:K})}():function(){var a=Object(i.a)({},e.insuranceData);e.addNewInsurance({insuranceObj:a,history:K})}()},children:[Object(k.jsxs)(c.a,{gutter:[12,0],children:[Object(k.jsx)(o.a,{md:6,xs:24,className:"hp-pr-sm-0 hp-pr-12",children:Object(k.jsx)(C.a.Item,{label:"Paid Status",name:"paid",rules:[{required:!0,message:"Please Select "}],hasFeedback:!0,children:Object(k.jsx)(D.a,{showSearch:!0,placeholder:"Paid Status",optionFilterProp:"paid",filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},onChange:function(a){e.InputChangeValue({key:"paid",value:a})},value:null==e.insuranceData.paid?"":null===(a=e.insuranceData)||void 0===a?void 0:a.paid,children:[{value:!0,name:"Yes"},{value:!1,name:"No"}].map((function(e,a){return Object(k.jsx)(Option,{value:e.value,children:e.name},a)}))})})}),Object(k.jsx)(o.a,{md:6,xs:24,className:"hp-pr-sm-0 hp-pr-12",children:Object(k.jsx)(C.a.Item,{label:"Counter",name:"counter_id",rules:[{required:!0,message:"Please Select Counter"}],hasFeedback:!0,children:Object(k.jsx)(D.a,{showSearch:!0,placeholder:"Select a Counter",optionFilterProp:"Counter",filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},onChange:function(a){e.InputChangeValue({key:"counter_id",value:a})},value:null==e.insuranceData.counter_id?"":null===(n=e.insuranceData)||void 0===n?void 0:n.counter_id,children:e.miniCountersList.map((function(e,a){return Object(k.jsx)(Option,{value:e.id,children:e.name},a)}))})})}),null==e.insuranceData.id||0==e.insuranceData.id?Object(k.jsx)(o.a,{md:6,xs:24,className:"hp-pr-sm-0 hp-pr-12",children:Object(k.jsx)(C.a.Item,{label:"Vehicle",name:"vehicle_id",children:Object(k.jsx)(D.a,{showSearch:!0,placeholder:"Select Vehicle",optionFilterProp:"vehicle_id",onSearch:function(a){e.setMiniVehiclesParams(Object(i.a)(Object(i.a)({},e.miniVehiclesParams),{},{page:1,search:a})),e.getMiniVehicles(Object(i.a)(Object(i.a)({},e.miniVehiclesParams),{},{page:1,search:a}))},defaultActiveFirstOption:!1,showArrow:!0,filterOption:!1,onChange:function(a){var n;n=a,e.miniVehiclesList.forEach((function(a){a.id==n&&e.getByVehicleVersion(a.version)})),e.getVersionInsuranceMaster(a),e.InputChangeValue({key:"vehicle_id",value:a})},onPopupScroll:function(){e.miniVehiclesParams.page<e.miniVehiclesParams.no_of_pages&&(e.setMiniVehiclesParams(Object(i.a)(Object(i.a)({},e.vehiclesParams),{},{page:e.miniVehiclesParams.page+1})),e.getMiniVehicles(Object(i.a)(Object(i.a)({},e.miniVehiclesParams),{},{page:e.miniVehiclesParams.page+1})))},value:null==e.insuranceData.vehicle_id?"":null===(r=e.insuranceData)||void 0===r?void 0:r.vehicle_id,children:e.miniVehiclesList.map((function(e,a){return Object(k.jsx)(Option,{value:e.id,children:e.vehicleno},a)}))})})}):Object(k.jsx)(o.a,{md:6,xs:24,className:"hp-pr-sm-0 hp-pr-12",children:Object(k.jsx)(C.a.Item,{label:"Vehicle Number",children:Object(k.jsx)(s.a,{id:"vehicleno",name:"vehicleno",style:{width:"100%"},placeholder:"Vehicle Number",value:null===(l=e.insuranceData)||void 0===l||null===(u=l.vehicle)||void 0===u?void 0:u.vehicleno,disabled:!0})})}),Object(k.jsx)(o.a,{md:6,xs:24,className:"hp-pr-sm-0 hp-pr-12",children:Object(k.jsx)(C.a.Item,{label:"Vehicle Version",children:Object(k.jsx)(s.a,{id:"vehicleVersion",name:"vehicleVersion",style:{width:"100%"},placeholder:"Vehicle Version",value:0==e.insuranceData.id||null==e.insuranceData.id?null===(m=e.vehicleVersion)||void 0===m?void 0:m.name:null===(h=e.insuranceData)||void 0===h||null===(p=h.vehicle)||void 0===p||null===(b=p.version)||void 0===b?void 0:b.name,disabled:!0})})}),Object(k.jsx)(o.a,{md:6,xs:24,className:"hp-pr-sm-0 hp-pr-12",children:Object(k.jsx)(C.a.Item,{label:"Insurance Category",name:"insurancecategory",tooltip:{title:"First-Party:"+(null===(v=e.versionInsurance)||void 0===v?void 0:v.firstparty)+", Second-Party:"+(null===(g=e.versionInsurance)||void 0===g?void 0:g.secondparty)+", Third-Party:"+(null===(O=e.versionInsurance)||void 0===O?void 0:O.thirdparty),icon:Object(k.jsx)(T.a,{})},rules:[{required:!0,message:"Please Select Insurance Category"}],hasFeedback:!0,children:Object(k.jsx)(D.a,{showSearch:!0,disabled:null==(null===(x=e.insuranceData)||void 0===x?void 0:x.vehicle_id),placeholder:"Insurance Category",optionFilterProp:"insurancecategory",filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},onChange:function(a){e.InputChangeValue({key:"insurancecategory",value:a})},value:null==e.insuranceData.insurancecategory?"":null===(f=e.insuranceData)||void 0===f?void 0:f.insurancecategory,children:[{id:1,name:"1st Party"},{id:2,name:"2nd Party"},{id:3,name:"3rd Party"}].map((function(e,a){return Object(k.jsx)(Option,{value:e.id,children:e.name},a)}))})})}),Object(k.jsx)(o.a,{md:6,xs:24,className:"hp-pr-sm-0 hp-pr-12",children:Object(k.jsx)(C.a.Item,{label:"Customer Name",name:"customername",rules:[{required:!0,message:"Please Input Customer Name"},{pattern:new RegExp(/^[a-zA-Z][a-zA-Z\s]+$/i),message:"field does not accept numbers"}],hasFeedback:!0,children:Object(k.jsx)(s.a,{id:"customername",name:"customername",style:{width:"100%"},maxLength:20,placeholder:"Customer Name",value:e.insuranceData.customername,onChange:function(a){e.InputChangeValue({key:a.target.name,value:a.target.value})}})})}),Object(k.jsx)(o.a,{md:6,xs:24,className:"hp-pr-sm-0 hp-pr-12",children:Object(k.jsx)(C.a.Item,{label:"Customer Mobile",name:"customermobile",rules:[{required:!0,message:"Please Input Customer Mobile"},{min:10,message:"Please Input Customer Mobile"}],hasFeedback:!0,children:Object(k.jsx)(Y.a,{id:"customermobile",name:"customermobile",style:{width:"100%"},placeholder:"Customer Mobile",maxLength:10,value:null==(null===(w=e.insuranceData)||void 0===w?void 0:w.customermobile)?"":null===(N=e.insuranceData)||void 0===N?void 0:N.customermobile,onChange:e.InputChangeValue})})}),Object(k.jsx)(o.a,{md:6,xs:24,className:"hp-pr-sm-0 hp-pr-12",children:Object(k.jsx)(C.a.Item,{label:"Aadhar Number",name:"aadharno",rules:[{required:!0,message:"Please Input Aadhar Number"},{min:12,message:"Please Input Aadhar Number"}],hasFeedback:!0,children:Object(k.jsx)(Y.a,{id:"aadharno",name:"aadharno",style:{width:"100%"},placeholder:"Aadhar Number",maxLength:12,value:null==(null===(I=e.insuranceData)||void 0===I?void 0:I.aadharno)?"":null===(_=e.insuranceData)||void 0===_?void 0:_.aadharno,onChange:e.InputChangeValue})})}),Object(k.jsx)(o.a,{md:6,xs:24,className:"hp-pr-sm-0 hp-pr-12",children:Object(k.jsx)(C.a.Item,{label:"Customer Amount",name:"customeramount",rules:[{required:!0,message:"Please Input Customer Amount"}],hasFeedback:!0,children:Object(k.jsx)(Y.a,{id:"customeramount",name:"customeramount",style:{width:"100%"},placeholder:"Customer Amount",maxLength:6,value:null==(null===(V=e.insuranceData)||void 0===V?void 0:V.customeramount)?"":null===(M=e.insuranceData)||void 0===M?void 0:M.customeramount,onChange:e.InputChangeValue})})}),Object(k.jsx)(o.a,{md:6,xs:24,className:"hp-pr-sm-0 hp-pr-12",children:Object(k.jsx)(C.a.Item,{label:"Requested Amount",name:"requestedamount",rules:[{required:!0,message:"Please Input Requested Amount"}],hasFeedback:!0,children:Object(k.jsx)(Y.a,{id:"requestedamount",name:"requestedamount",style:{width:"100%"},placeholder:"Requested Amount",maxLength:6,value:null==(null===(P=e.insuranceData)||void 0===P?void 0:P.requestedamount)?"":null===(B=e.insuranceData)||void 0===B?void 0:B.requestedamount,onChange:e.InputChangeValue})})})]}),Object(k.jsxs)(c.a,{gutter:[12,0],children:[Object(k.jsxs)(o.a,{span:24,xs:24,xl:6,className:"hp-pr-sm-0 hp-pr-12",children:[Object(k.jsx)("p",{className:"hp-pb-xs-16 hp-mb-2 hp-text-color-primary-1 hp-font-weight-600",children:"Aadhar Front Image"}),Object(k.jsx)(L.a,{listType:"picture-card hp-w-100",className:"avatar-uploader",showUploadList:!1,accept:"image/*",beforeUpload:$,customRequest:function(a){e.getInsuranceImageUpload({file:a.file,imageType:"aadharfront_image"})},children:null!=e.insuranceData.aadharfront_image?Object(k.jsxs)("div",{className:"hp-d-flex",children:[Object(k.jsx)("img",{className:"ant-upload-select-picture-card hp-preview-img",src:null===(U=e.insuranceData.aadharfront_image)||void 0===U?void 0:U.file,alt:"avatar",style:{width:"100%"}}),Object(k.jsx)(R.a,{})]}):J})]}),Object(k.jsxs)(o.a,{span:24,xs:24,xl:6,className:"hp-pr-sm-0 hp-pr-12",children:[Object(k.jsx)("p",{className:"hp-pb-xs-16 hp-mb-2 hp-text-color-primary-1 hp-font-weight-600",children:"Aadhar Back Image"}),Object(k.jsx)(L.a,{listType:"picture-card hp-w-100",className:"avatar-uploader",showUploadList:!1,accept:"image/*",beforeUpload:$,customRequest:function(a){e.getInsuranceImageUpload({file:a.file,imageType:"aadharback_image"})},children:null!=e.insuranceData.aadharback_image?Object(k.jsxs)("div",{className:"hp-d-flex",children:[Object(k.jsx)("img",{className:"ant-upload-select-picture-card hp-preview-img",src:null===(z=e.insuranceData.aadharback_image)||void 0===z?void 0:z.file,alt:"avatar",style:{width:"100%"}}),Object(k.jsx)(R.a,{})]}):J})]}),Object(k.jsxs)(o.a,{span:24,xs:24,xl:6,className:"hp-pr-sm-0 hp-pr-12",children:[Object(k.jsx)("p",{className:"hp-pb-xs-16 hp-mb-2 hp-text-color-primary-1 hp-font-weight-600",children:"C Book Image"}),Object(k.jsx)(L.a,{listType:"picture-card hp-w-100",className:"avatar-uploader",showUploadList:!1,accept:"image/*",beforeUpload:$,customRequest:function(a){e.getInsuranceImageUpload({file:a.file,imageType:"cbook_image"})},children:null!=e.insuranceData.cbook_image?Object(k.jsxs)("div",{className:"hp-d-flex",children:[Object(k.jsx)("img",{className:"ant-upload-select-picture-card hp-preview-img",src:null===(q=e.insuranceData.cbook_image)||void 0===q?void 0:q.file,alt:"avatar",style:{width:"100%"}}),Object(k.jsx)(R.a,{})]}):J})]}),Object(k.jsxs)(o.a,{span:24,xs:24,xl:6,className:"hp-pr-sm-0 hp-pr-12",children:[Object(k.jsx)("p",{className:"hp-pb-xs-16 hp-mb-2 hp-text-color-primary-1 hp-font-weight-600",children:"Old Policy Image"}),Object(k.jsx)(L.a,{listType:"picture-card hp-w-100",className:"avatar-uploader",showUploadList:!1,accept:"image/*",beforeUpload:$,customRequest:function(a){e.getInsuranceImageUpload({file:a.file,imageType:"oldpolicy_image"})},children:null!=e.insuranceData.oldpolicy_image?Object(k.jsxs)("div",{className:"hp-d-flex",children:[Object(k.jsx)("img",{className:"ant-upload-select-picture-card hp-preview-img",src:null===(G=e.insuranceData.oldpolicy_image)||void 0===G?void 0:G.file,alt:"avatar",style:{width:"100%"}}),Object(k.jsx)(R.a,{})]}):J})]})]})]})})})),U=n(549),z=n(541);a.default=Object(r.b)((function(e){var a=e.newInsurance,n=e.system;return{newInsuranceList:a.newInsuranceList,insuranceData:a.insuranceData,insuranceparams:a.insuranceparams,noofpages:a.noofpages,listCount:a.listCount,loading:a.loading,userAccessList:n.userAccessList}}),{getInsuranceList:f.o,setInsuranceParams:f.F,isModelVisible:f.E,isDrawerVisible:f.B,isInsuranceViewModelVisible:f.C,getInsuranceById:f.m,vehicleIsModelVisible:V.k,clearInsuranceList:f.h,clearInsuranceParams:f.i})((function(e){var a,n,r,O,x,f=s.a.Search;Object(t.useEffect)((function(){e.getInsuranceList(Object(i.a)(Object(i.a)({},e.insuranceparams),{},{page:1,search:"",page_size:10})),e.clearInsuranceList(),e.clearInsuranceParams()}),[]);var y=null===(a=e.newInsuranceList)||void 0===a?void 0:a.map((function(a,n){return Object(i.a)(Object(i.a)({},a),{},{index:(e.insuranceparams.page-1)*e.insuranceparams.page_size+(n+1)})})),C="hp-p1-body hp-text-color-black-100 hp-text-color-dark-0 hp-font-weight-600 ",N=[{title:"S.No",width:70,dataIndex:"index",fixed:w.isMobile?null:"left"},{title:"Code",render:function(e){return Object(k.jsx)("span",{className:C,children:e.code})},width:100,fixed:w.isMobile?null:"left"},{title:"Date",width:100,render:function(e){return Object(k.jsx)("span",{className:C,children:e.date})}},{title:"Customer Name",width:100,render:function(e){return Object(k.jsx)("span",{className:C,children:e.customername})}},{title:"Customer Mobile",width:110,render:function(e){return Object(k.jsx)("span",{className:C,children:e.customermobile})}},{title:"Aadhar Number",width:130,render:function(e){return Object(k.jsx)("span",{className:C,children:e.aadharno})}},{title:"Counter Name",width:120,render:function(e){var a;return Object(k.jsx)("span",{className:C,children:null===(a=e.counter)||void 0===a?void 0:a.name})}},{title:"Vehicle Number",width:110,render:function(e){var a;return Object(k.jsx)("span",{className:C,children:e.vehicle?Object(k.jsxs)("span",{className:C,children:[" ",null===(a=e.vehicle)||void 0===a?void 0:a.vehicleno," "]}):none})}},{title:"Customer Amount",width:100,render:function(e){return Object(k.jsx)("span",{className:C,children:e.customeramount})}},{title:"Requested Amount",width:100,render:function(e){return Object(k.jsx)("span",{className:C,children:e.requestedamount})}},{title:"Insurance Category",width:100,render:function(e){return Object(k.jsx)("span",{className:C,children:e.insurancecategory_name})}},{title:"Approved By",width:120,render:function(e){var a;return Object(k.jsx)("span",{className:C,children:null===(a=e.reviewer)||void 0===a?void 0:a.fullname})}},{title:"Insurance Agent",width:100,render:function(e){var a;return Object(k.jsx)("span",{className:C,children:null===(a=e.insurer)||void 0===a?void 0:a.fullname})}},{title:"Actions",key:"action",width:100,fixed:w.isMobile?null:"right",render:function(a,n){var i;return Object(k.jsx)(l.b,{size:"middle",children:Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("i",{className:"ri-eye-line hp-mr-2 ",style:{cursor:"pointer",color:"#fc6f03"},onClick:function(){e.getInsuranceById(a.id),e.isInsuranceViewModelVisible(!0)}}),-1!==(null===(i=e.userAccessList)||void 0===i?void 0:i.indexOf("InsuranceRto.change_insurance"))&&Object(k.jsx)(k.Fragment,{children:1==a.insurancestatus&&Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("i",{className:"ri-edit-box-line hp-mr-2 ",style:{cursor:"pointer",color:"#fc6f03"},onClick:function(){e.getInsuranceById(a.id),e.isModelVisible(!0)}})})})]})})}}];return Object(k.jsxs)(c.a,{gutter:[12,12],children:[Object(k.jsx)(g.a,{pageTitle:"New Insurance",addModelTile2:"Add Vehicle",setIsModalVisible2:e.vehicleIsModelVisible,isModalVisible2:e.model,goBack:!1}),Object(k.jsx)(o.a,{span:24,children:Object(k.jsxs)(c.a,{gutter:[12,12],className:"hp-ecommerce-app-header ",children:[Object(k.jsx)(o.a,{span:24,xs:24,sm:24,md:14,className:"hp-ecommerce-app-header-search ",children:Object(k.jsx)(f,{placeholder:"Search for date, doc, customer name, counter, vehicle, mobile and aadhar number ",allowClear:!0,onChange:function(a){""==a.target.value&&(e.getInsuranceList(Object(i.a)(Object(i.a)({},e.insuranceparams),{},{page:1,search:""})),e.setInsuranceParams(Object(i.a)(Object(i.a)({},e.insuranceparams),{},{page:1,search:""})))},onSearch:function(a){var n;n=a,e.setInsuranceParams(Object(i.a)(Object(i.a)({},e.insuranceparams),{},{search:n})),e.getInsuranceList(Object(i.a)(Object(i.a)({},e.insuranceparams),{},{search:n}))}})}),Object(k.jsx)(o.a,{span:24,xs:8,sm:8,md:3,children:Object(k.jsx)(d.a,{onClick:function(){e.isDrawerVisible(!0)},className:"hp-w-100 hp-p-12",icon:Object(k.jsx)(b.a,{className:"hp-mr-10"}),children:!w.isMobile&&"Filter"})}),-1!==(null===(n=e.userAccessList)||void 0===n?void 0:n.indexOf("InsuranceRto.add_insurance"))&&Object(k.jsx)(o.a,{span:24,xs:8,sm:8,md:4,children:Object(k.jsx)(d.a,{onClick:function(){e.isModelVisible(!0)},className:"hp-w-100 hp-p-12",icon:Object(k.jsx)(j.a,{className:"hp-mr-10"}),children:!w.isMobile&&"Add Insurance"})}),-1!==(null===(r=e.userAccessList)||void 0===r?void 0:r.indexOf("InsuranceRto.export_insurance"))&&Object(k.jsx)(o.a,{span:24,xs:8,sm:8,md:3,children:Object(k.jsx)(d.a,{className:"hp-w-100 hp-p-12 ",icon:Object(k.jsx)(v.a,{className:"hp-mr-10"}),children:!w.isMobile&&"Export"})})]})}),Object(k.jsx)(o.a,{span:24,children:Object(k.jsx)(u.a,{children:Object(k.jsxs)(c.a,{className:"hp-mb-12",children:[Object(k.jsx)(o.a,{span:24,children:Object(k.jsx)(m.a,{tip:"Loading...",spinning:e.loading,delay:500,children:Object(k.jsx)(h.a,{columns:N,rowClassName:"hp-btn-bg-color-none",dataSource:y,scroll:{x:1300},pagination:!1,size:"middle"})})}),Object(k.jsx)(o.a,{span:24,children:Object(k.jsx)(p.a,{size:"small",current:null===(O=e.insuranceparams)||void 0===O?void 0:O.page,pageSize:null===(x=e.insuranceparams)||void 0===x?void 0:x.page_size,total:e.listCount,showTotal:function(e){return"Total "+e+" items"},showSizeChanger:!0,onChange:function(a,n){e.clearInsuranceList(),e.clearInsuranceParams(),e.setInsuranceParams(Object(i.a)(Object(i.a)({},e.insuranceparams),{},{page_size:n,page:0==a?1:a})),e.getInsuranceList(Object(i.a)(Object(i.a)({},e.insuranceparams),{},{page_size:n,page:0==a?1:a}))},className:"hp-mb-12 hp-mt-24 hp-float-right"})})]})})}),Object(k.jsx)(U.a,{}),Object(k.jsx)(B,{}),Object(k.jsx)(P,{}),Object(k.jsx)(z.a,{})]})}))}}]);
//# sourceMappingURL=16.07f5bf63.chunk.js.map