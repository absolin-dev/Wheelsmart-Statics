(this["webpackJsonpwheelsmart-admin-react"]=this["webpackJsonpwheelsmart-admin-react"]||[]).push([[21],{535:function(e,a,i){"use strict";i.d(a,"a",(function(){return s}));var t=i(1),n=i(550),l=i(3);function s(e){var a=e.value,i=e.onChange,s=e.onBlur;return Object(l.jsx)(n.a,Object(t.a)(Object(t.a)({},e),{},{onChange:function(a){var t=a.target.value;(/^-?\d*(\.\d*)?$/.test(t)||""===t||"-"===t)&&i({key:e.name,value:t})},onBlur:e.onBlur&&function(){var i=a;"."!==a.charAt(a.length-1)&&"-"!==a||(i=a.slice(0,-1)),s({key:e.name,value:i.replace(/0*(\d+)/,"$1")})}}))}},536:function(e,a,i){"use strict";i.d(a,"a",(function(){return h}));i(0);var t=i(521),n=i(519),l=i(154),s=i(51),r=i(43),c=i(8),o=i(216),d=i(3);function h(e){var a=Object(s.f)(),i=e.pageTitle,h=e.pageText,u=e.goBack,m=e.addModelTile,p=e.addModelTile2,b=e.setIsModalVisible,v=e.setIsModalVisible2;return Object(d.jsx)(t.a,{span:24,className:"hp-mt-12",children:Object(d.jsxs)(n.a,{children:[Object(d.jsxs)(t.a,{span:16,xs:16,md:12,xl:16,children:[u&&Object(d.jsx)(r.b,{to:"#",onClick:function(){a.goBack()},className:"action-icon text-primary  hp-mr-12 hp-d-inline-block",children:Object(d.jsx)(c.d,{className:"remix-icon",size:24})}),Object(d.jsxs)(n.a,{className:"hp-d-inline-block",children:[Object(d.jsx)(t.a,{span:24,children:i&&Object(d.jsx)("h3",{className:"hp-mb-2 hp-mt-4",children:i})}),Object(d.jsx)(t.a,{span:24,children:h&&Object(d.jsx)("p",{className:"hp-mb-0 hp-p1-body",children:h})})]})]}),Object(d.jsx)(t.a,{span:8,xs:8,md:12,xl:8,children:Object(d.jsxs)("div",{className:"hp-float-right hp-d-inline-block",children:[m&&Object(d.jsx)("div",{className:"hp-pl-4 hp-d-inline-block",children:Object(d.jsx)(l.a,{className:"",type:"primary",onClick:function(){return b(!0)},icon:Object(d.jsx)(c.b,{className:"remix-icon",size:22}),children:!o.isMobile&&m})}),p&&Object(d.jsx)("div",{className:"hp-pl-4 hp-d-inline-block",children:Object(d.jsx)(l.a,{className:"hp-pr-12",type:"primary",onClick:function(){return v(!0)},icon:Object(d.jsx)(c.b,{className:"remix-icon",size:22}),children:!o.isMobile&&p})})]})})]})})}},537:function(e,a,i){"use strict";a.a=i.p+"static/media/empty-list.6fd5c5d1.svg"},540:function(e,a,i){"use strict";a.a=i.p+"static/media/broken_img.203310e1.png"},541:function(e,a,i){"use strict";var t=i(10),n=i(0),l=i(32),s=i(19),r=i.n(s),c=(i(533),i(8)),o=i(524),d=i(154),h=i(526),u=i(519),m=i(521),p=i(556),b=i(550),v=i(215),j=i(677),g=i(60),x=(i(535),i(15)),O=i(3);a.a=Object(l.b)((function(e){var a=e.vehicles,i=e.mini;return{rowdata:a.rowdata,model:a.model,miniVersionList:i.miniVersionList,miniEmissionnorms:i.miniEmissionnorms,miniBrandsList:i.miniBrandsList,miniBrandFamilyList:i.miniBrandFamilyList,miniModelsList:i.miniModelsList}}),{vehiclesAdd:g.n,isModelVisible:g.k,InputChangeValue:g.b,getMiniVersion:x.cb,getMiniEmissionnorms:x.C,getMiniBrands:x.o,getMiniBrandFamily:x.m,getMiniModels:x.J,vehicleNumberValidate:g.m,engineNumberValidate:g.g,chassisNumberValidate:g.e})((function(e){var a,i,l,s,g,x,f,w,C,y,_,S,P=o.a.useForm(),N=Object(t.a)(P,1)[0];Object(n.useEffect)((function(){e.getMiniEmissionnorms(),e.getMiniBrands()}),[]);var V=function(){e.isModelVisible(!1)},k=function(){return null==e.rowdata.id||0==e.rowdata.id?Object(O.jsx)(n.Fragment,{children:Object(O.jsx)(d.a,{onClick:function(){N.submit()},type:"primary",block:!0,children:"Add"})}):Object(O.jsx)(n.Fragment,{children:Object(O.jsx)(d.a,{type:"primary",onClick:function(){N.submit()},block:!0,children:"Update"})})},L=function(){return Object(O.jsx)(n.Fragment,{children:Object(O.jsx)(d.a,{onClick:function(){V()},type:"primary",block:!0,ghost:!0,children:"Cancel"})})},M=Object(O.jsxs)("h5",{className:"modal-title",children:[null==e.rowdata.id||0==e.rowdata.id?"Add":"Update"," ","Vehicle"]});function D(a,i){var t,n;(console.log("type",a,i.target.value),"engineno"==a)?i.target.value==(null===(t=e.rowdata)||void 0===t?void 0:t.chassisno)&&(e.InputChangeValue({key:a,value:""}),h.a.error({icon:Object(O.jsx)("span",{className:"remix-icon",children:Object(O.jsx)(c.o,{})}),title:Object(O.jsx)("h5",{className:"hp-mb-0 hp-font-weight-500",children:"Engine Number Error"}),content:Object(O.jsx)("div",{children:Object(O.jsxs)("p",{className:"hp-p1-body hp-text-color-black-80",children:["Engine & Chassis Number should not be same"," "]})})})):i.target.value==(null===(n=e.rowdata)||void 0===n?void 0:n.engineno)&&(e.InputChangeValue({key:a,value:""}),h.a.error({icon:Object(O.jsx)("span",{className:"remix-icon",children:Object(O.jsx)(c.o,{})}),title:Object(O.jsx)("h5",{className:"hp-mb-0 hp-font-weight-500",children:"Chassis Number Error"}),content:Object(O.jsx)("div",{children:Object(O.jsxs)("p",{className:"hp-p1-body hp-text-color-black-80",children:["Engine & Chassis Number should not be same"," "]})})}))}return Object(n.useEffect)((function(){N.setFieldsValue({vehicleType:e.rowdata.vehicleType,vehicleno:e.rowdata.vehicleno,brand_id:e.rowdata.brand_id,brandfamily_id:e.rowdata.brandfamily_id,model_id:e.rowdata.model_id,vehicletrno:e.rowdata.vehicletrno,version_id:e.rowdata.version_id,emission_id:e.rowdata.emission_id,year:e.rowdata.year,engineno:e.rowdata.engineno,chassisno:e.rowdata.chassisno})}),[e.rowdata]),Object(O.jsx)(h.a,{visible:e.model,title:M,onCancel:function(){V(),N.resetFields(),e.isModelVisible(!1)},className:"hp-modal-p-24",footer:Object(O.jsxs)(u.a,{justify:"center",children:[Object(O.jsx)(m.a,{span:12,className:"hp-pr-4",children:Object(O.jsx)(L,{})}),Object(O.jsx)(m.a,{span:12,className:"hp-pl-4",children:Object(O.jsx)(k,{})})]}),centered:!0,closeIcon:Object(O.jsx)(c.k,{className:"remix-icon text-color-black-100",size:24}),width:616,children:Object(O.jsx)(o.a,{layout:"vertical",form:N,autoComplete:"off",onFinish:function(){null==e.rowdata.id?function(){var a,i,t,n={id:0,vehicleno:"new"===(null===(a=e.rowdata)||void 0===a?void 0:a.vehicleType)?e.rowdata.vehicletrno:null===(i=e.rowdata)||void 0===i?void 0:i.vehicleno,brand_id:e.rowdata.brand_id,brandfamily_id:e.rowdata.brandfamily_id,model_id:e.rowdata.model_id,vehicletrno:e.rowdata.vehicletrno,year:r()(null===(t=e.rowdata)||void 0===t?void 0:t.year).format("YYYY"),engineno:e.rowdata.engineno,emission_id:e.rowdata.emission_id,version_id:e.rowdata.version_id,chassisno:e.rowdata.chassisno};e.vehiclesAdd({obj:n})}():function(){var a,i,t,n,l,s,c,o,d,h,u,m,p,b,v,j,g,x={id:null===(a=e.rowdata)||void 0===a?void 0:a.id,vehicleno:"new"===(null===(i=e.rowdata)||void 0===i?void 0:i.vehicleType)?e.rowdata.vehicletrno:null===(t=e.rowdata)||void 0===t?void 0:t.vehicleno,brand_id:null==(null===(n=e.rowdata)||void 0===n?void 0:n.brand_id)?e.rowdata.brand.id:null===(l=e.rowdata)||void 0===l?void 0:l.brand_id,brandfamily_id:null==(null===(s=e.rowdata)||void 0===s?void 0:s.brandfamily_id)?e.rowdata.brandfamily.id:null===(c=e.rowdata)||void 0===c?void 0:c.brandfamily_id,model_id:null==(null===(o=e.rowdata)||void 0===o?void 0:o.model_id)?e.rowdata.model.id:null===(d=e.rowdata)||void 0===d?void 0:d.model_id,vehicletrno:null===(h=e.rowdata)||void 0===h?void 0:h.vehicletrno,year:r()(null===(u=e.rowdata)||void 0===u?void 0:u.year).format("YYYY"),engineno:null===(m=e.rowdata)||void 0===m?void 0:m.engineno,emission_id:null==(null===(p=e.rowdata)||void 0===p?void 0:p.emission_id)?e.rowdata.emission.id:null===(b=e.rowdata)||void 0===b?void 0:b.emission_id,version_id:null==(null===(v=e.rowdata)||void 0===v?void 0:v.version_id)?e.rowdata.version.id:null===(j=e.rowdata)||void 0===j?void 0:j.version_id,chassisno:null===(g=e.rowdata)||void 0===g?void 0:g.chassisno};e.vehiclesAdd({obj:x,type:e.type,typeId:e.typeId})}()},children:Object(O.jsxs)(u.a,{gutter:[12,0],children:[Object(O.jsx)(m.a,{span:24,xs:24,xl:12,md:12,children:Object(O.jsx)(o.a.Item,{label:"Vehicle Type",name:"vehicleType",rules:[{required:!0,message:"Please select Your Vehicle Type!"}],children:Object(O.jsxs)(p.a.Group,{name:"vehicleType",onChange:function(a){e.InputChangeValue({key:a.target.name,value:a.target.value})},value:null===(a=e.rowdata)||void 0===a?void 0:a.vehicleType,children:[Object(O.jsx)(p.a.Button,{value:"new",children:"New Vehicle"}),Object(O.jsx)(p.a.Button,{value:"old",children:"Old Vehicle"})]})})}),"new"===(null===(i=e.rowdata)||void 0===i?void 0:i.vehicleType)?Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(m.a,{span:24,xs:24,xl:12,md:12,children:Object(O.jsx)(o.a.Item,{label:"Vehicle TR Number:",name:"vehicletrno",rules:[{required:!0,message:"Please Enter Your Vehicle TR Number!"},{pattern:new RegExp(/[A-Z][A-Z][0-9][0-9][A-Z][A-Z][A-Z][A-Z][0-9][0-9][0-9][0-9]$/i),message:"field does not accept numbers"}],hasFeedback:!0,children:Object(O.jsx)(b.a,{id:"Version",name:"vehicletrno",style:{width:"100%"},placeholder:"EX:AP00ABCD1234",minLength:10,maxLength:15,value:null===(l=e.rowdata)||void 0===l?void 0:l.vehicletrno,onChange:function(a){e.InputChangeValue({key:a.target.name,value:a.target.value.toUpperCase()})}})})})}):Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(m.a,{span:24,xs:24,xl:12,md:12,children:Object(O.jsx)(o.a.Item,{label:"Vehicle Number",name:"vehicleno",rules:[{required:!0,message:"Please Enter Your Vehicle Number!"},{pattern:new RegExp("^[A-Z]{2}[0-9]{1,2}[A-Z]{1,2}[0-9]{4}$"),message:"Please accept valid vehicle number"}],hasFeedback:!0,children:Object(O.jsx)(b.a,{id:"vehicleno-input",name:"vehicleno",label:"Vehicle Number:",maxLength:11,style:{width:"100%",transform:"uppercase"},placeholder:"EX: AP00QQ0000",onBlur:function(a){console.log("data",a),e.vehicleNumberValidate({vehicleno:a.target.value})},value:null===(s=e.rowdata)||void 0===s?void 0:s.vehicleno,onChange:function(a){e.InputChangeValue({key:a.target.name,value:a.target.value.toUpperCase()})}})})})}),Object(O.jsx)(m.a,{span:24,xs:24,xl:12,md:12,children:Object(O.jsx)(o.a.Item,{label:"Brand :",name:"brand_id",rules:[{required:!0,message:"Please select your Brand!"}],hasFeedback:!0,children:Object(O.jsx)(v.a,{showSearch:!0,filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},placeholder:"Select  Brand",optionFilterProp:"Brand",onChange:function(a){e.getMiniBrandFamily({brand:a}),e.InputChangeValue({key:"brand_id",value:a})},value:null==e.rowdata.brand_id?"":null===(g=e.rowdata)||void 0===g?void 0:g.brand_id,children:e.miniBrandsList.map((function(e,a){return Object(O.jsx)(Option,{value:e.id,children:e.name},a)}))})})}),Object(O.jsx)(m.a,{span:24,xs:24,xl:12,md:12,children:Object(O.jsx)(o.a.Item,{label:"Brand Family :",name:"brandfamily_id",rules:[{required:!0,message:"Please select your Brand Family!"}],hasFeedback:!0,children:Object(O.jsx)(v.a,{showSearch:!0,filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},placeholder:"Select Brand Family",optionFilterProp:"brand Family",onChange:function(a){e.getMiniModels({brandfamily:a}),e.InputChangeValue({key:"brandfamily_id",value:a})},value:null==e.rowdata.brandfamily_id?"":null===(x=e.rowdata)||void 0===x?void 0:x.brandfamily_id,children:e.miniBrandFamilyList.map((function(e,a){return Object(O.jsx)(Option,{value:e.id,children:e.name},a)}))})})}),Object(O.jsx)(m.a,{span:24,xs:24,xl:12,md:12,children:Object(O.jsx)(o.a.Item,{label:"Model :",name:"model_id",rules:[{required:!0,message:"Please select your Model!"}],hasFeedback:!0,children:Object(O.jsx)(v.a,{showSearch:!0,filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},placeholder:"Select Model",optionFilterProp:"Model",onChange:function(a){e.getMiniVersion({model:a}),e.InputChangeValue({key:"model_id",value:a})},value:null==e.rowdata.model_id?"":null===(f=e.rowdata)||void 0===f?void 0:f.model_id,children:e.miniModelsList.map((function(e,a){return Object(O.jsx)(Option,{value:e.id,children:e.name},a)}))})})}),Object(O.jsx)(m.a,{span:24,xs:24,xl:12,md:12,children:Object(O.jsx)(o.a.Item,{label:"Version :",name:"version_id",rules:[{required:!0,message:"Please select your Version!"}],hasFeedback:!0,children:Object(O.jsx)(v.a,{showSearch:!0,filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},placeholder:"Select Version",optionFilterProp:"version",onChange:function(a){e.InputChangeValue({key:"version_id",value:a})},value:null==e.rowdata.version_id?"":null===(w=e.rowdata)||void 0===w?void 0:w.version_id,children:e.miniVersionList.map((function(e,a){return Object(O.jsx)(Option,{value:e.id,children:e.name},a)}))})})})," ",Object(O.jsx)(m.a,{span:24,xs:24,xl:12,md:12,children:Object(O.jsx)(o.a.Item,{label:"Emission :",name:"emission_id",rules:[{required:!0,message:"Please select your Emission!"}],hasFeedback:!0,children:Object(O.jsx)(v.a,{showSearch:!0,filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},placeholder:"Select a Emission",optionFilterProp:"emission",onChange:function(a){e.InputChangeValue({key:"emission_id",value:a})},value:null==e.rowdata.emission_id?"":null===(C=e.rowdata)||void 0===C?void 0:C.emission_id,children:e.miniEmissionnorms.map((function(e,a){return Object(O.jsx)(Option,{value:e.id,children:e.name},a)}))})})}),Object(O.jsx)(m.a,{span:24,xs:24,xl:12,md:12,children:Object(O.jsx)(o.a.Item,{label:"Year",name:"year",rules:[{required:!0,message:"Select Year"}],hasFeedback:!0,children:Object(O.jsx)(j.a,{id:"year",name:"year",style:{width:"100%"},picker:"year",disabledDate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{startDate:!1,endDate:!1},a=e.startDate,i=e.endDate;return function(e){var t=!0,n=!0;return a&&(t=e&&e<r()(a,"YYYY")),i&&(n=e&&e>r()(i,"YYYY")),a&&t||i&&n}}({endDate:new Date,startDate:1990}),placeholder:"Select Year",value:null===(y=e.rowdata)||void 0===y?void 0:y.year,onChange:function(a){console.log("Year",a,typeof a),e.InputChangeValue({key:"year",value:a})}})})})," ",Object(O.jsx)(m.a,{span:24,xs:24,xl:12,md:12,children:Object(O.jsx)(o.a.Item,{label:"Engine Number:",name:"engineno",rules:[{required:!0,message:"Please input your Engine Number!"},{min:10,message:"Engine Number must be 10 digits!"}],hasFeedback:!0,children:Object(O.jsx)(b.a,{id:"engineno",name:"engineno",style:{width:"100%",transform:"uppercase"},minLength:10,maxLength:20,placeholder:"Engine Number",value:null===(_=e.rowdata)||void 0===_?void 0:_.engineno,onBlur:function(a){e.engineNumberValidate({engineno:a.target.value}),""!=a.target.value&&D("engineno",a)},onChange:function(a){e.InputChangeValue({key:a.target.name,value:a.target.value.toUpperCase()})}})})})," ",Object(O.jsx)(m.a,{span:24,xs:24,xl:12,md:12,children:Object(O.jsx)(o.a.Item,{label:"Chassis Number :",name:"chassisno",rules:[{required:!0,message:"Please input your Chassis Number!"},{min:10,message:"Chassis Number must be 10 digits!"}],getValueProps:function(){},hasFeedback:!0,children:Object(O.jsx)(b.a,{id:"Chassis Number",name:"chassisno",style:{width:"100%",transform:"uppercase"},placeholder:"Chassis Number",minLength:10,maxLength:20,onBlur:function(a){e.chassisNumberValidate({chassisno:a.target.value}),""!=a.target.value&&D("chassisno",a)},value:null===(S=e.rowdata)||void 0===S?void 0:S.chassisno,onChange:function(a){e.InputChangeValue({key:a.target.name,value:a.target.value.toUpperCase()})}})})})]})})})}))},545:function(e,a,i){"use strict";a.a=i.p+"static/media/dummy-img.4128e0e1.jpeg"},546:function(e,a,i){"use strict";a.a=i.p+"static/media/defaultVechicleImg.5d5b5510.svg"},690:function(e,a,i){"use strict";i.r(a);var t=i(10),n=i(1),l=i(0),s=i(32),r=i(43),c=i(550),o=i(281),d=i(519),h=i(521),u=i(154),m=i(538),p=i(531),b=i(337),v=i(532),j=i(340),g=i(202),x=(i(37),i(537)),O=i(350),f=i(361),w=i(235),C=i(343),y=i(357),_=i(183),S=i(536),P=i(525),N=i(682),V=i(143),k=i(530),L=i(540),M=i(345),D=i(545),Y=i(546),F=i(3);function I(e){var a,i,t,n,l,s,r,c,o,m,b,v,j,g,x,O,f,w,C,y=e.value,_=P.a.Text,S=P.a.Link;return Object(F.jsx)(h.a,{span:24,xs:24,sm:12,md:12,lg:8,xl:8,xxl:6,className:"hp-mb-32",children:Object(F.jsx)(p.a,{className:"hp-border-color-black-40 hp-card-6 hp-eCommerceCardOne hp-eCommerceCardOne-wishlist",children:Object(F.jsx)(d.a,{children:Object(F.jsxs)(h.a,{span:24,children:[Object(F.jsxs)(d.a,{gutter:[24,24],children:[Object(F.jsx)(h.a,{className:"hp-mb-16 hp-mt-0 hp-p-0",span:8,children:null!=y.vehiclefront_image?Object(F.jsx)(N.a,{width:100,height:50,preview:!1,src:null===(a=y.vehiclefront_image)||void 0===a?void 0:a.file_thumbnail,alt:null===(i=y.vehiclefront_image)||void 0===i?void 0:i.alt,className:"hp-border-radius hp-mb-10 ant-upload-select-picture-card hp-preview-img",onError:function(e){var a=e.currentTarget;a.onerror=null,a.src=L.a}}):Object(F.jsx)(N.a,{width:100,height:50,preview:!1,src:Y.a,alt:"defaultVehicle",className:"hp-border-radius hp-mb-10"})}),Object(F.jsxs)(h.a,{span:16,children:[Object(F.jsx)("p",{className:"hp-mb-0 hp-p1-body hp-text-blue hp-font-weight-600",children:null==y.vehicle?"None":null===(t=y.vehicle)||void 0===t?void 0:t.vehicleno}),Object(F.jsx)(V.a,{title:null===(n=y.vehicle)||void 0===n||null===(l=n.version)||void 0===l?void 0:l.name,children:Object(F.jsx)("p",{className:"hp-mb-0 hp-caption hp-font-weight-400 hp-text-color-black-80 hp-text-color-dark-30",children:(null===(s=y.vehicle)||void 0===s||null===(r=s.version)||void 0===r||null===(c=r.name)||void 0===c?void 0:c.length)>10?"".concat(null===(o=y.vehicle)||void 0===o||null===(m=o.version)||void 0===m||null===(b=m.name)||void 0===b?void 0:b.substring(0,10),"..."):null===(v=y.vehicle)||void 0===v||null===(j=v.version)||void 0===j?void 0:j.name})})]})]}),Object(F.jsx)(d.a,{gutter:[24,24],className:"hp-mb-16",children:Object(F.jsxs)(h.a,{span:24,children:[Object(F.jsx)("p",{className:"hp-mb-0 hp-caption hp-font-weight-400 hp-text-color-black-80 hp-text-color-dark-30",children:"Created By"}),Object(F.jsx)("p",{className:"hp-mb-10 hp-text-color-black-100 hp-mb-0 hp-text-color-dark-0 hp-p1-body hp-font-weight-500",children:null!=(null===(g=y.createdby)||void 0===g?void 0:g.fullname)?null===(x=y.createdby)||void 0===x?void 0:x.fullname:" None"}),Object(F.jsx)("p",{className:"hp-mb-0 hp-caption hp-font-weight-400 hp-text-color-black-80 hp-text-color-dark-30",children:"Transaction Status"}),Object(F.jsx)(_,{type:2==y.approvalstatus?"success":3==y.approvalstatus?"danger":"warning",children:null==y.approvalstatus_name?"Pending":y.approvalstatus_name})]})}),Object(F.jsxs)(d.a,{gutter:[24,24],className:"hp-mb-10",children:[Object(F.jsx)(h.a,{span:8,children:Object(F.jsx)(k.a,{size:55,icon:null!=y.customer_image?Object(F.jsx)(N.a,{src:null===(O=y.customer_image)||void 0===O?void 0:O.file_thumbnail,preview:!1,alt:null===(f=y.customer_image)||void 0===f?void 0:f.alt,className:"hp-emp-img",onError:function(e){var a=e.currentTarget;a.onerror=null,a.src=L.a}}):Object(F.jsx)(N.a,{src:D.a,preview:!1,alt:"dummy",className:"hp-emp-img "})})}),Object(F.jsxs)(h.a,{span:16,children:[Object(F.jsx)("p",{className:"hp-mb-4 hp-text-color-black-100 hp-mb-0 hp-text-color-dark-0 hp-p1-body hp-font-weight-500",children:null===(w=y.customer)||void 0===w?void 0:w.firstname}),Object(F.jsx)("p",{className:"hp-mb-0 hp-caption hp-font-weight-400 hp-mb-10 hp-text-color-black-80 hp-text-color-dark-30",children:null===(C=y.purchase)||void 0===C?void 0:C.partytype_name})]})]}),Object(F.jsxs)(d.a,{gutter:[24,24],className:"hp-mb-10",children:[Object(F.jsx)(h.a,{span:8,children:Object(F.jsx)(k.a,{size:55,icon:Object(F.jsx)(M.a,{})})}),Object(F.jsxs)(h.a,{span:16,children:[Object(F.jsx)("p",{className:"hp-mb-4 hp-text-color-black-100 hp-mb-0 hp-text-color-dark-0 hp-p1-body hp-font-weight-500",children:y.counter.name}),Object(F.jsx)("p",{className:"hp-mb-0 hp-caption hp-font-weight-400 hp-mb-16  hp-text-color-black-80 hp-text-color-dark-30",children:"Counter Name"})]})]}),Object(F.jsx)(d.a,{gutter:[8,8],children:Object(F.jsx)(h.a,{span:24,className:"hp-w-100",children:Object(F.jsx)(S,{href:"/pages/vehicles-view/"+y.id,children:Object(F.jsx)(u.a,{block:!0,className:"hp-px-12 hp-btn-bg-color",children:"View Details"})})})})]})})})},y.id)}var T=i(539),A=i(676),z=i(19),B=i.n(z),E=i(216),Z=i(16);var q=Object(s.b)((function(e){var a=e.counterSales,i=e.system;return{loading:a.loading,vehicleSaleParams:a.vehicleSaleParams,userAccessList:i.userAccessList}}),{vechicleSaleDelete:Z.Ab})((function(e){var a=e.vehiclesList,i=(e.deleteSale,"hp-p1-body hp-text-color-black-100 hp-text-color-dark-0 hp-font-weight-600 "),t=[{title:"S.No",dataIndex:"index",fixed:E.isMobile?null:"left",width:70},{title:"Date",width:120,fixed:E.isMobile?null:"left",render:function(e){return Object(F.jsx)("span",{className:i,children:B()(e.date).format("DD-MM-YYYY")})}},{title:"Vehicle No",width:"15%",render:function(e){var a;return Object(F.jsx)(r.b,{to:"/pages/vehicles-view/"+e.id,children:null===(a=e.vehicle)||void 0===a?void 0:a.vehicleno})}},{title:"Sales No",width:"18%",render:function(e){return Object(F.jsx)("span",{className:i,children:e.code})}},{title:"Purchase No",width:"18%",render:function(e){var a;return Object(F.jsx)("span",{className:i,children:null===(a=e.purchase)||void 0===a?void 0:a.code})}},{title:"Vehicle Type",width:"15%",render:function(e){var a,t;return Object(F.jsx)("span",{className:i,children:null===(a=e.vehicle)||void 0===a||null===(t=a.version)||void 0===t?void 0:t.name})}},{title:"Employee Name",width:"15%",render:function(e){var a;return Object(F.jsx)("span",{className:i,children:null===(a=e.customer)||void 0===a?void 0:a.firstname})}},{title:"Counter Name",width:"15%",render:function(e){var a;return Object(F.jsx)("span",{className:i,children:null===(a=e.counter)||void 0===a?void 0:a.name})}},{title:"Action",key:"action",width:"10%",fixed:E.isMobile?null:"right",render:function(a,i){var t;return Object(F.jsx)(T.b,{size:"middle",children:1==a.editable&&Object(F.jsx)(F.Fragment,{children:-1!==(null===(t=e.userAccessList)||void 0===t?void 0:t.indexOf("Sale.change_sale"))&&Object(F.jsx)(r.b,{to:"/pages/add-sales/"+a.id,children:Object(F.jsx)("i",{className:"ri-edit-box-line hp-mr-2 ",style:{cursor:"pointer",color:"#fc6f03"}})})})})}}],l=a.map((function(a,i){return Object(n.a)(Object(n.a)({},a),{},{index:(e.vehicleSaleParams.page-1)*e.vehicleSaleParams.page_size+(i+1)})}));return Object(F.jsx)(d.a,{className:"hp-mb-12",children:Object(F.jsx)(h.a,{span:24,children:Object(F.jsx)(b.a,{tip:"Loading...",spinning:e.loading,delay:500,children:Object(F.jsx)(A.a,{columns:t,rowClassName:"hp-btn-bg-color-none",dataSource:l,scroll:{x:1300},pagination:!1,size:"middle"})})})})})),R=i(524),U=i(527),H=i(677),$=i(215),J=(i(63),i(15)),Q=i(541),X=i(60),G=new Date;G.getFullYear(),G.getMonth();var K=Object(s.b)((function(e){var a=e.counterSales,i=e.mini,t=e.vehicles;return{drawer:a.drawer,vehicleSaleParams:a.vehicleSaleParams,activeTab:a.activeTab,miniCountersList:i.miniCountersList,miniClustersList:i.miniClustersList,miniDivisionsList:i.miniDivisionsList,miniZonesList:i.miniZonesList,miniVehiclesList:i.miniVehiclesList,vehiclesParams:t.vehiclesParams}}),{isDrawerVisible:Z.jb,getMiniCounters:J.v,getMiniClusters:J.s,getMiniDivisions:J.A,getMiniZones:J.eb,FilterInputChangeValue:Z.c,getVehiclesList:Z.hb,setVehicleSaleParams:Z.yb,getMiniVehicles:J.Y,SetVehiclesParams:X.c,getVehicles:X.h,getMiniZonesClearData:J.fb,getMiniClustersClearData:J.t,getMiniDivisionsClearData:J.B,getMiniCountersClearData:J.w,vehicleSaleActiveTab:Z.Cb})((function(e){var a,i,s,r,c,o,m,p=R.a.useForm(),b=Object(t.a)(p,1)[0];Object(l.useEffect)((function(){e.getMiniZones(),e.getMiniCounters(),e.getMiniClusters(),e.getMiniDivisions(),e.getMiniVehicles()}),[]);function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{startDate:!1,endDate:!1},a=e.startDate,i=e.endDate;return function(e){var t=!0,n=!0;return a&&(t=e&&e<B()(a+" 00:00:01","YYYY-MM-DD HH:mm:ss")),i&&(n=e&&e>B()(B()(i).format("YYYY-MM-DD")+" 23:59:59","YYYY-MM-DD HH:mm:ss")),a&&t||i&&n}}return Object(l.useEffect)((function(){var a,i,t,n,l,s,r,c;b.setFieldsValue({start_date:null===(a=e.vehicleSaleParams)||void 0===a?void 0:a.start_date,end_date:null===(i=e.vehicleSaleParams)||void 0===i?void 0:i.end_date,approvalstatus:null===(t=e.vehicleSaleParams)||void 0===t?void 0:t.approvalstatus,vehicle:null===(n=e.vehicleSaleParams)||void 0===n?void 0:n.vehicle,counter__zone:null===(l=e.vehicleSaleParams)||void 0===l?void 0:l.counter__zone,counter__division:null===(s=e.vehicleSaleParams)||void 0===s?void 0:s.counter__division,counter__cluster:null===(r=e.vehicleSaleParams)||void 0===r?void 0:r.counter__cluster,counter:null===(c=e.vehicleSaleParams)||void 0===c?void 0:c.counter})}),[e.vehicleSaleParams]),Object(F.jsx)(d.a,{gutter:[24,24],children:Object(F.jsx)(h.a,{span:24,children:Object(F.jsxs)(U.a,{title:"Filters",width:420,className:"hp-drawer-mobile",onClose:function(){e.isDrawerVisible(!1)},placement:"right",visible:e.drawer,bodyStyle:{paddingBottom:10},children:[Object(F.jsxs)(R.a,{form:b,layout:"vertical",name:"basic",initialValues:{remember:!0},onFinish:function(){e.setVehicleSaleParams(Object(n.a)(Object(n.a)({},e.vehicleSaleParams),{},{page:1,search:"",page_size:10,saletype:e.activeTab})),e.getVehiclesList(Object(n.a)(Object(n.a)({},e.vehicleSaleParams),{},{page:1,search:"",page_size:10,saletype:e.activeTab})),e.isDrawerVisible(!1)},children:[Object(F.jsxs)(d.a,{gutter:[12,12],children:[Object(F.jsx)(h.a,{span:12,children:Object(F.jsx)(R.a.Item,{label:"From Date",name:"start_date",children:Object(F.jsx)(H.a,{style:{width:"100%"},picker:"date",placeholder:"Choose Date",format:"DD-MM-YYYY",disabledDate:v({endDate:new Date}),onChange:function(a){e.FilterInputChangeValue({key:"start_date",value:null==a?"":a}),null==a&&e.FilterInputChangeValue({key:"end_date",value:""})}})})}),Object(F.jsx)(h.a,{span:12,children:Object(F.jsx)(R.a.Item,{label:"To Date",name:"end_date",children:Object(F.jsx)(H.a,{style:{width:"100%"},picker:"date",placeholder:"Choose Date",format:"DD-MM-YYYY",disabledDate:v({endDate:B()().format("YYYY-MM-DD"),startDate:B()(null===(a=e.vehicleSaleParams)||void 0===a?void 0:a.start_date).format("YYYY-MM-DD")}),disabled:null==e.vehicleSaleParams.start_date||""==e.vehicleSaleParams.start_date,onChange:function(a){e.FilterInputChangeValue({key:"end_date",value:null==a?"":a})}})})}),Object(F.jsx)(h.a,{span:12,children:Object(F.jsx)(R.a.Item,{label:"Approval Status",name:"approvalstatus",children:Object(F.jsx)($.a,{showSearch:!0,allowClear:!0,placeholder:"Select Approval Status",optionFilterProp:"approvalstatus",filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},onChange:function(a){e.FilterInputChangeValue({key:"approvalstatus",value:a})},value:null==e.vehicleSaleParams.approvalstatus?"":null===(i=e.vehicleSaleParams)||void 0===i?void 0:i.approvalstatus,children:[{id:1,name:"Pending"},{id:2,name:"Approved"},{id:3,name:"Rejected"}].map((function(e,a){return Object(F.jsx)(Option,{value:e.id,children:e.name},a)}))})})}),Object(F.jsx)(h.a,{span:12,children:Object(F.jsx)(R.a.Item,{label:"Vehicle",name:"vehicle",children:Object(F.jsx)($.a,{showSearch:!0,allowClear:!0,placeholder:"Select Vehicle",optionFilterProp:"vehicle_id",filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},onSearch:function(a){e.SetVehiclesParams(Object(n.a)(Object(n.a)({},e.vehiclesParams),{},{page:1,search:a})),e.getVehicles(Object(n.a)(Object(n.a)({},e.vehiclesParams),{},{page:1,search:a}))},defaultActiveFirstOption:!1,showArrow:!0,onChange:function(a){e.FilterInputChangeValue({key:"vehicle",value:a})},onPopupScroll:function(){e.vehiclesParams.page<e.vehiclesParams.no_of_pages&&(e.SetVehiclesParams(Object(n.a)(Object(n.a)({},e.vehiclesParams),{},{page:e.vehiclesParams.page+1})),e.getVehicles(Object(n.a)(Object(n.a)({},e.vehiclesParams),{},{page:e.vehiclesParams.page+1})))},value:null==e.vehicleSaleParams.vehicle_id?"":null===(s=e.vehicleSaleParams)||void 0===s?void 0:s.vehicle_id,children:e.miniVehiclesList.map((function(e,a){return Object(F.jsx)(Option,{value:e.id,children:e.vehicleno},a)}))})})}),Object(F.jsx)(h.a,{span:12,children:Object(F.jsx)(R.a.Item,{label:"Zone :",name:"counter__zone",children:Object(F.jsx)($.a,{showSearch:!0,allowClear:!0,placeholder:"Select  Zone",optionFilterProp:"children",filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},onChange:function(a){e.getMiniDivisions({zone:a}),e.getMiniClustersClearData(),e.getMiniCountersClearData(),e.FilterInputChangeValue({key:"counter__zone",value:a})},value:null==e.vehicleSaleParams.zone_id?"":null===(r=e.vehicleSaleParams)||void 0===r?void 0:r.zone_id,children:e.miniZonesList.map((function(e,a){return Object(F.jsx)(Option,{value:e.id,children:e.name},a)}))})})}),Object(F.jsx)(h.a,{span:12,children:Object(F.jsx)(R.a.Item,{label:"Division:",name:"counter__division",children:Object(F.jsx)($.a,{showSearch:!0,allowClear:!0,placeholder:"Select  Division",optionFilterProp:"division",filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},onChange:function(a){e.getMiniClusters({division:a}),e.getMiniClustersClearData(),e.getMiniCountersClearData(),e.FilterInputChangeValue({key:"counter__division",value:a})},value:null==e.vehicleSaleParams.division_id?"":null===(c=e.vehicleSaleParams)||void 0===c?void 0:c.division_id,children:e.miniDivisionsList.map((function(e,a){return Object(F.jsx)(Option,{value:e.id,children:e.name},a)}))})})}),Object(F.jsx)(h.a,{span:12,children:Object(F.jsx)(R.a.Item,{label:"Cluster:",name:"counter__cluster",children:Object(F.jsx)($.a,{showSearch:!0,allowClear:!0,placeholder:"Select Cluster",optionFilterProp:"cluster",filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},onChange:function(a){e.getMiniCounters({cluster:a}),e.getMiniCountersClearData({}),e.FilterInputChangeValue({key:"counter__cluster",value:a})},value:null==e.vehicleSaleParams.cluster_id?"":null===(o=e.vehicleSaleParams)||void 0===o?void 0:o.cluster_id,children:e.miniClustersList.map((function(e,a){return Object(F.jsx)(Option,{value:e.id,children:e.name},a)}))})})}),Object(F.jsx)(h.a,{span:12,children:Object(F.jsx)(R.a.Item,{label:"Counter",name:"counter",children:Object(F.jsx)($.a,{showSearch:!0,allowClear:!0,placeholder:"Select  Counter",optionFilterProp:"counter",filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},onChange:function(a){e.FilterInputChangeValue({key:"counter",value:a})},value:null==e.vehicleSaleParams.counter_id?"":null===(m=e.vehicleSaleParams)||void 0===m?void 0:m.counter_id,children:e.miniCountersList.map((function(e,a){return Object(F.jsx)(Option,{value:e.id,children:e.name},a)}))})})})]}),Object(F.jsxs)(d.a,{gutter:[12,12],children:[Object(F.jsx)(h.a,{md:12,children:Object(F.jsx)(u.a,{block:!0,type:"secondary",className:"hp-submit-btn hp-mt-10",onClick:function(){e.setVehicleSaleParams({start_date:"",end_date:"",page:1,search:"",page_size:10,saletype:e.activeTab}),e.getVehiclesList({start_date:"",end_date:"",page:1,search:"",page_size:10,saletype:e.activeTab}),e.getMiniZones(),e.getMiniCounters(),e.getMiniClusters(),e.getMiniDivisions()},htmlType:"button",children:"Clear"})}),Object(F.jsx)(h.a,{md:12,children:Object(F.jsx)(u.a,{block:!0,type:"primary",className:"hp-submit-btn hp-mt-10",onClick:function(){b.submit()},children:"Apply"})})]})]}),Object(F.jsx)(Q.a,{})]})})})})),W=i(8);a.default=Object(s.b)((function(e){var a=e.counterSales,i=e.system;return{vehiclesList:a.vehiclesList,noofpages:a.noofpages,listCount:a.listCount,loading:a.loading,vehicleSaleParams:a.vehicleSaleParams,activeTab:a.activeTab,userAccessList:i.userAccessList}}),{getVehiclesList:Z.hb,vechicleSaleDelete:Z.Ab,isDrawerVisible:Z.jb,setVehicleSaleParams:Z.yb,vehicleSaleActiveTab:Z.Cb,getReportList:_.f,clearVehiclesList:Z.t,clearVehiclesParams:Z.u})((function(e){var a,i,s,_=c.a.Search,P=o.a.TabPane;Object(l.useEffect)((function(){e.getVehiclesList(Object(n.a)(Object(n.a)({},e.vehicleSaleParams),{},{saletype:1,page:1,search:"",page_size:10}))}),[]);var N=Object(l.useState)(!1),V=Object(t.a)(N,2),k=V[0],L=V[1];function M(a,i){e.clearVehiclesList(),e.clearVehiclesParams(),e.getVehiclesList(Object(n.a)(Object(n.a)({},e.vehicleSaleParams),{},{saletype:e.activeTab,page_size:i,page:0==a?1:a})),e.setVehicleSaleParams(Object(n.a)(Object(n.a)({},e.vehicleSaleParams),{},{saletype:e.activeTab,page_size:i,page:0==a?1:a}))}function D(e){return"Total "+e+" items"}return Object(F.jsxs)(d.a,{gutter:[12,12],children:[Object(F.jsx)(S.a,{pageTitle:"Vehicle Sales",goBack:!1}),Object(F.jsx)(h.a,{span:24,children:Object(F.jsxs)(d.a,{gutter:[12,12],className:"hp-ecommerce-app-header",children:[Object(F.jsx)(h.a,{span:24,xs:24,sm:24,md:-1!==(null===(a=e.userAccessList)||void 0===a?void 0:a.indexOf("Sale.export_sale"))?12:15,className:"hp-ecommerce-app-header-search ",children:Object(F.jsx)(_,{placeholder:"Search for date, doc, number, customer, counter, vehicle",allowClear:!0,value:""==e.vehicleSaleParams.search||null==e.vehicleSaleParams.search?"":e.vehicleSaleParams.search,onChange:function(a){""==a.target.value?(e.getVehiclesList(Object(n.a)(Object(n.a)({},e.vehicleSaleParams),{},{page:1,search:""})),e.setVehicleSaleParams(Object(n.a)(Object(n.a)({},e.vehicleSaleParams),{},{page:1,search:""}))):e.setVehicleSaleParams(Object(n.a)(Object(n.a)({},e.vehicleSaleParams),{},{search:a.target.value}))},onSearch:function(a){var i;i=a,e.getVehiclesList(Object(n.a)(Object(n.a)({},e.vehicleSaleParams),{},{page:1,search:i,saletype:e.activeTab})),e.setVehicleSaleParams(Object(n.a)(Object(n.a)({},e.vehicleSaleParams),{},{page:1,search:i,saletype:e.activeTab}))}})}),Object(F.jsx)(h.a,{span:24,xs:4,sm:4,md:3,children:Object(F.jsx)(u.a,{onClick:function(){e.isDrawerVisible(!0)},className:"hp-w-100 hp-p-10",icon:Object(F.jsx)(O.a,{className:"hp-mr-10"}),children:!E.isMobile&&"Filter"})}),-1!==(null===(i=e.userAccessList)||void 0===i?void 0:i.indexOf("Sale.export_sale"))&&Object(F.jsx)(h.a,{span:24,xs:4,sm:4,md:3,children:Object(F.jsx)(m.a,{placement:"topRight",title:"Are you sure to export this Record?",onConfirm:function(){e.getReportList({objData:{file_format:0,model_name:"Sale"},ParamsData:Object(n.a)(Object(n.a)({},e.vehicleSaleParams),{},{start_date:null!=e.vehicleSaleParams.start_date&&""!=e.vehicleSaleParams.start_date?moment(e.vehicleSaleParams.start_date).format("YYYY-MM-DD"):"",end_date:null!=e.vehicleSaleParams.end_date&&""!=e.vehicleSaleParams.end_date?moment(e.vehicleSaleParams.end_date).add(1,"days").format("YYYY-MM-DD"):""})})},okText:"Yes",cancelText:"No",icon:Object(F.jsx)(W.n,{className:"remix-icon hp-text-color-primary-1"}),children:Object(F.jsx)(u.a,{className:"hp-w-100 hp-p-10",icon:Object(F.jsx)(f.a,{className:"hp-mr-10"}),children:!E.isMobile&&"Export"})})}),-1!==(null===(s=e.userAccessList)||void 0===s?void 0:s.indexOf("Sale.add_sale"))&&Object(F.jsx)(h.a,{span:24,xs:4,sm:4,md:4,children:Object(F.jsx)(r.b,{to:"/pages/add-sales/0",children:Object(F.jsx)(u.a,{className:"hp-w-100 hp-p-10",icon:Object(F.jsx)(w.a,{className:"hp-mr-10"}),children:!E.isMobile&&"Add Sales"})})}),Object(F.jsx)(h.a,{span:24,xs:6,sm:5,md:1,children:Object(F.jsx)(u.a,{className:"hp-w-100 hp-p-12",icon:Object(F.jsx)(C.a,{}),onClick:function(){return L(!1)}})}),Object(F.jsx)(h.a,{span:24,xs:6,sm:5,md:1,children:Object(F.jsx)(u.a,{icon:Object(F.jsx)(y.a,{}),onClick:function(){return L(!0)},className:"hp-w-100 hp-p-12"})})]})}),Object(F.jsxs)(h.a,{span:24,xs:24,className:"hp-purchase-app-content",productListToggle:k,setProductListToggle:L,children:[Object(F.jsx)(p.a,{children:Object(F.jsx)(o.a,{defaultActiveKey:"1",type:"card",onChange:function(a){e.vehicleSaleActiveTab(a),e.getVehiclesList({saletype:a,page:1,search:"",page_size:10}),e.setVehicleSaleParams({saletype:a,page:1,search:"",page_size:10})},children:[{id:"1",name:"Direct Sale"},{id:"2",name:"Finance Sale"},{id:"3",name:"OVF Sale"}].map((function(a){var i,t,n,l;return Object(F.jsx)(P,{tab:a.name,children:Object(F.jsx)(b.a,{tip:"Loading...",spinning:e.loading,delay:500,children:0!==e.vehiclesList.length?Object(F.jsx)(F.Fragment,{children:k?Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(q,{vehiclesList:e.vehiclesList,deleteSale:e.vechicleSaleDelete}),Object(F.jsx)(j.a,{size:"small",total:e.listCount,showTotal:D,current:null===(n=e.vehicleSaleParams)||void 0===n?void 0:n.page,pageSize:null===(l=e.vehicleSaleParams)||void 0===l?void 0:l.page_size,showSizeChanger:!0,onChange:M,className:"hp-mb-12 hp-mt-24 hp-float-right"})]}):Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(v.b,{dataSource:e.vehiclesList,renderItem:function(e){return Object(F.jsx)(I,{value:e})}})," ",Object(F.jsx)(j.a,{size:"small",total:e.listCount,showTotal:D,current:null===(i=e.vehicleSaleParams)||void 0===i?void 0:i.page,pageSize:null===(t=e.vehicleSaleParams)||void 0===t?void 0:t.page_size,showSizeChanger:!0,onChange:M,className:"hp-mb-12 hp-mt-24 hp-float-right"})]})}):Object(F.jsx)(p.a,{children:Object(F.jsx)(g.a,{className:"hp-m-32",image:x.a,imageStyle:{height:160},description:Object(F.jsx)("h5",{children:"Your Vehicle list is empty"})})})})},a.id)}))})}),Object(F.jsx)(K,{})]})]})}))}}]);
//# sourceMappingURL=21.83a64065.chunk.js.map