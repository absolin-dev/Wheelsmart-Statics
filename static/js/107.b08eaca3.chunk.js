(this["webpackJsonpwheelsmart-admin-react"]=this["webpackJsonpwheelsmart-admin-react"]||[]).push([[107],{534:function(e,s,t){"use strict";t.d(s,"a",(function(){return j}));t(0);var i=t(521),a=t(531),n=t(519),c=t(154),r=t(51),l=t(43),o=t(8),d=t(216),u=t(3);function j(e){var s=Object(r.f)(),t=e.pageTitle,j=e.pageText,m=e.addModelTile,h=e.goBack,b=e.setIsModalVisible;return Object(u.jsx)(i.a,{span:24,children:Object(u.jsx)(a.a,{className:"hp-m-0",children:Object(u.jsxs)(n.a,{children:[Object(u.jsxs)(i.a,{span:18,children:[h&&Object(u.jsx)(l.b,{to:"#",onClick:function(){return s.goBack()},className:"action-icon text-primary  hp-mr-12 hp-d-inline-block",children:Object(u.jsx)(o.d,{className:"remix-icon",size:24})}),Object(u.jsxs)(n.a,{className:"hp-d-inline-block",children:[Object(u.jsx)(i.a,{span:24,children:t&&Object(u.jsx)("h2",{className:"hp-m-0",children:t})}),Object(u.jsx)(i.a,{span:24,children:j&&Object(u.jsx)("p",{className:"hp-mb-0 hp-p1-body",children:j})})]})]}),Object(u.jsx)(i.a,{span:6,children:m&&Object(u.jsx)(c.a,{className:"hp-float-right",type:"primary",onClick:function(){return b(!0)},block:!0,icon:Object(u.jsx)(o.b,{className:"remix-icon",size:22}),children:!d.isMobile&&m})})]})})})}},574:function(e,s,t){"use strict";var i=t(10),a=t(0),n=t(32),c=(t(533),t(8)),r=t(524),l=t(154),o=t(526),d=t(519),u=t(521),j=t(215),m=t(550),h=t(129),b=t(15),p=t(3);s.a=Object(n.b)((function(e){var s=e.clusters,t=e.mini;return{rowdata:s.rowdata,model:s.model,miniDivisionsList:t.miniDivisionsList}}),{clusterAdd:h.d,isModelVisible:h.j,InputChangeValue:h.a,getMiniClusters:b.s,getMiniDivisions:b.A})((function(e){var s,t,n=r.a.useForm(),h=Object(i.a)(n,1)[0];Object(a.useEffect)((function(){e.getMiniClusters(),e.getMiniDivisions()}),[]);var b=function(){e.isModelVisible(!1)},O=function(){return null==e.rowdata.id||0==e.rowdata.id?Object(p.jsx)(a.Fragment,{children:Object(p.jsx)(l.a,{onClick:function(){h.submit()},type:"primary",block:!0,children:"Add"})}):Object(p.jsx)(a.Fragment,{children:Object(p.jsx)(l.a,{type:"primary",onClick:function(){h.submit()},block:!0,children:"Update"})})},x=function(){return Object(p.jsx)(a.Fragment,{children:Object(p.jsx)(l.a,{onClick:function(){b()},type:"primary",block:!0,ghost:!0,children:"Cancel"})})},f=Object(p.jsxs)("h5",{className:"modal-title",children:[null==e.rowdata.id||0==e.rowdata.id?"Add":"Update"," ","Cluster"]});return Object(a.useEffect)((function(){h.setFieldsValue({name:e.rowdata.name,division_id:e.rowdata.division_id})}),[e.rowdata]),Object(p.jsx)(o.a,{visible:e.model,title:f,onCancel:function(){b(),h.resetFields(),e.isModelVisible(!1)},className:"hp-modal-p-24",footer:Object(p.jsxs)(d.a,{justify:"center",children:[Object(p.jsx)(u.a,{span:12,className:"hp-pr-4",children:Object(p.jsx)(x,{})}),Object(p.jsx)(u.a,{span:12,className:"hp-pl-4",children:Object(p.jsx)(O,{})})]}),centered:!0,closeIcon:Object(p.jsx)(c.k,{className:"remix-icon text-color-black-100",size:24}),width:416,children:Object(p.jsxs)(r.a,{layout:"vertical",form:h,autoComplete:"off",onFinish:function(){null==e.rowdata.id?function(){var s,t={id:0,name:null===(s=e.rowdata)||void 0===s?void 0:s.name,division_id:e.rowdata.division_id};null==t.name&&""!=t.name||e.clusterAdd(t)}():function(){var s,t,i={id:null===(s=e.rowdata)||void 0===s?void 0:s.id,name:null===(t=e.rowdata)||void 0===t?void 0:t.name,division_id:e.rowdata.division_id};e.clusterAdd(i)}()},children:[Object(p.jsx)(r.a.Item,{label:"Division Name:",name:"division_id",rules:[{required:!0,message:"Please select your Division Name!"}],hasFeedback:!0,children:Object(p.jsx)(j.a,{showSearch:!0,placeholder:"Select  Division",optionFilterProp:"children",onSearch:function(e){console.log("search:",e)},filterOption:function(e,s){return s.children.toLowerCase().includes(e.toLowerCase())},onChange:function(s){e.InputChangeValue({key:"division_id",value:s})},value:null==e.rowdata.division_id?"":null===(s=e.rowdata)||void 0===s?void 0:s.division_id,children:e.miniDivisionsList.map((function(e,s){return Object(p.jsx)(Option,{value:e.id,children:e.name},s)}))})}),Object(p.jsx)(r.a.Item,{label:"Cluster Name :",name:"name",rules:[{required:!0,message:"Please input your Cluster Name!"}],hasFeedback:!0,children:Object(p.jsx)(m.a,{id:"Zone",name:"name",style:{width:"100%"},placeholder:"Cluster Name",value:null===(t=e.rowdata)||void 0===t?void 0:t.name,onChange:function(s){e.InputChangeValue({key:s.target.name,value:s.target.value})}})})]})})}))},638:function(e,s,t){"use strict";t.r(s);var i=t(1),a=t(0),n=t(550),c=t(538),r=t(519),l=t(521),o=t(531),d=t(337),u=t(340),j=t(539),m=t(676),h=t(8),b=t(32),p=t(534),O=t(129),x=t(574),f=t(3);s.default=Object(b.b)((function(e){var s=e.clusters,t=e.system;return{clusterslist:s.clusterslist,noofpages:s.noofpages,listCount:s.listCount,clustersParams:s.clustersParams,loading:s.loading,userAccessList:t.userAccessList}}),{getClusters:O.i,clustersEdit:O.f,clusterDelete:O.e,isModelVisible:O.j,SetClustersParams:O.b})((function(e){var s,t,b;Object(a.useEffect)((function(){e.getClusters({page:1,search:"",page_size:10})}),[]);var O=n.a.Search,v="hp-p1-body hp-text-color-black-50 hp-text-color-dark-0 hp-font-weight-500 ",g=[{title:"S.No",dataIndex:"index",width:"5%"},{title:"Code",dataIndex:"code",filterSearch:!0,width:"35%"},{title:"Cluster Name",render:function(e){return Object(f.jsx)("span",{className:v,children:e.name})},filterMode:"tree",filterSearch:!0,width:"40%"},{title:"Division Name",filterMode:"tree",filterSearch:!0,width:"20%",render:function(e){var s;return Object(f.jsx)("span",{className:v,children:null===(s=e.division)||void 0===s?void 0:s.name})}},{title:"Actions",key:"action",width:"10%",render:function(s,t){var i,a;return Object(f.jsxs)(j.b,{size:"middle",children:[-1!==(null===(i=e.userAccessList)||void 0===i?void 0:i.indexOf("Masters.change_cluster"))&&Object(f.jsx)("i",{className:"ri-edit-box-line hp-mr-2 ",style:{cursor:"pointer",color:"#fc6f03"},onClick:function(){e.clustersEdit(s),e.isModelVisible(!0)}}),-1!==(null===(a=e.userAccessList)||void 0===a?void 0:a.indexOf("Masters.delete_cluster"))&&Object(f.jsx)(c.a,{placement:"topRight",title:"Are you sure to delete this Record?",onConfirm:function(){return e.clusterDelete(t.id)},okText:"Yes",cancelText:"No",className:"hp-ml-8",icon:Object(f.jsx)(h.n,{className:"remix-icon hp-text-color-primary-1"}),children:Object(f.jsx)("i",{className:"ri-delete-bin-2-line ",style:{cursor:"pointer",color:"#ff0000"}})})]})}}],C=e.clusterslist.map((function(s,t){return Object(i.a)(Object(i.a)({},s),{},{index:(e.clustersParams.page-1)*e.clustersParams.page_size+t+1})}));return Object(f.jsxs)(r.a,{gutter:[32,32],className:"hp-mt-32",children:[Object(f.jsx)(p.a,{pageTitle:"Clusters Master",addModelTile:-1!==(null===(s=e.userAccessList)||void 0===s?void 0:s.indexOf("Masters.add_cluster"))&&"Add Clusters",goBack:!0,setIsModalVisible:e.isModelVisible,isModalVisible:e.model}),Object(f.jsx)(l.a,{span:24,children:Object(f.jsx)(o.a,{children:Object(f.jsxs)(r.a,{className:"hp-mb-12",children:[Object(f.jsx)(l.a,{span:12,xs:24,sm:24,md:14,className:"hp-mb-16",children:Object(f.jsx)(O,{placeholder:"Search...",allowClear:!0,onChange:function(s){""==s.target.value&&(e.getClusters(Object(i.a)(Object(i.a)({},e.clustersParams),{},{page:1,search:""})),e.SetClustersParams(Object(i.a)(Object(i.a)({},e.clustersParams),{},{page:1,search:""})))},onSearch:function(s){var t;t=s,e.SetClustersParams(Object(i.a)(Object(i.a)({},e.clustersParams),{},{search:t})),e.getClusters(Object(i.a)(Object(i.a)({},e.clustersParams),{},{search:t}))}})}),Object(f.jsx)(l.a,{span:24,children:Object(f.jsx)(d.a,{tip:"Loading...",spinning:e.loading,delay:500,children:Object(f.jsx)(m.a,{columns:g,dataSource:C,scroll:{x:500},pagination:!1,size:"middle"})})}),Object(f.jsx)(l.a,{span:24,children:Object(f.jsx)(u.a,{size:"small",current:null===(t=e.clustersParams)||void 0===t?void 0:t.page,pageSize:null===(b=e.clustersParams)||void 0===b?void 0:b.page_size,total:e.listCount,showTotal:function(e){return"Total "+e+" items"},showSizeChanger:!0,onChange:function(s,t){e.SetClustersParams(Object(i.a)(Object(i.a)({},e.clustersParams),{},{page_size:t,page:0==s?1:s})),e.getClusters(Object(i.a)(Object(i.a)({},e.clustersParams),{},{page_size:t,page:0==s?1:s}))},className:"hp-mb-12 hp-mt-24 hp-float-right"})})]})})}),Object(f.jsx)(x.a,{})]})}))}}]);
//# sourceMappingURL=107.b08eaca3.chunk.js.map