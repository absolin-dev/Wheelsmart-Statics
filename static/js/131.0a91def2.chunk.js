(this["webpackJsonpwheelsmart-admin-react"]=this["webpackJsonpwheelsmart-admin-react"]||[]).push([[131],{534:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));a(0);var r=a(521),n=a(531),i=a(519),s=a(154),l=a(51),c=a(43),o=a(8),d=a(216),m=a(3);function u(e){var t=Object(l.f)(),a=e.pageTitle,u=e.pageText,j=e.addModelTile,p=e.goBack,h=e.setIsModalVisible;return Object(m.jsx)(r.a,{span:24,children:Object(m.jsx)(n.a,{className:"hp-m-0",children:Object(m.jsxs)(i.a,{children:[Object(m.jsxs)(r.a,{span:18,children:[p&&Object(m.jsx)(c.b,{to:"#",onClick:function(){return t.goBack()},className:"action-icon text-primary  hp-mr-12 hp-d-inline-block",children:Object(m.jsx)(o.d,{className:"remix-icon",size:24})}),Object(m.jsxs)(i.a,{className:"hp-d-inline-block",children:[Object(m.jsx)(r.a,{span:24,children:a&&Object(m.jsx)("h2",{className:"hp-m-0",children:a})}),Object(m.jsx)(r.a,{span:24,children:u&&Object(m.jsx)("p",{className:"hp-mb-0 hp-p1-body",children:u})})]})]}),Object(m.jsx)(r.a,{span:6,children:j&&Object(m.jsx)(s.a,{className:"hp-float-right",type:"primary",onClick:function(){return h(!0)},block:!0,icon:Object(m.jsx)(o.b,{className:"remix-icon",size:22}),children:!d.isMobile&&j})})]})})})}},537:function(e,t,a){"use strict";t.a=a.p+"static/media/empty-list.6fd5c5d1.svg"},669:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a(25),i=a(10),s=a(0),l=a(524),c=a(519),o=a(521),d=a(531),m=a(677),u=a(215),j=a(556),p=a(154),h=a(202),b=a(676),f=a(32),x=a(19),O=a.n(x),D=a(534),g=a(537),v=a(183),Y=a(15),_=a(3),M=["file_format"],C=["file_format"];t.default=Object(f.b)((function(e){var t=e.reports,a=e.mini;return{modelName:t.modelName,reportParamsData:t.reportParamsData,reportDataList:t.reportDataList,loading:t.loading,columnsList:t.columnsList,reportView:t.reportView,miniCountersList:a.miniCountersList,miniOccupationList:a.miniOccupationList,miniVersionList:a.miniVersionList}}),{InputChangeValue:v.a,getReportList:v.f,clearData:v.d,getMiniCounters:Y.v,getMiniOccupation:Y.L,getMiniVersion:Y.cb})((function(e){var t,a,f,x=l.a.useForm(),v=Object(i.a)(x,1)[0];function Y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{startDate:!1,endDate:!1},t=e.startDate,a=e.endDate;return function(e){var r=!0,n=!0;return t&&(r=e&&e<O()(t+" 00:00:01","YYYY-MM-DD HH:mm:ss")),a&&(n=e&&e>O()(O()(a).format("YYYY-MM-DD")+" 23:59:59","YYYY-MM-DD HH:mm:ss")),t&&r||a&&n}}Object(s.useEffect)((function(){e.clearData(),e.getMiniOccupation(),e.getMiniCounters(),e.getMiniVersion()}),[]);var y=e.columnsList.map((function(e){return{title:e,dataIndex:e}}));y.unshift({title:"S.No",dataIndex:"index"});var P=e.reportDataList.map((function(e,t){return Object(r.a)(Object(r.a)({},e),{},{index:t+1})}));return Object(s.useEffect)((function(){var t,a,r,n;v.setFieldsValue({start_date:null===(t=e.reportParamsData)||void 0===t?void 0:t.start_date,end_date:null===(a=e.reportParamsData)||void 0===a?void 0:a.end_date,file_format:null===(r=e.reportParamsData)||void 0===r?void 0:r.file_format,counter:null===(n=e.reportParamsData)||void 0===n?void 0:n.counter})}),[e.reportParamsData]),Object(_.jsxs)(c.a,{gutter:[12,12],className:"hp-mt-32",children:[Object(_.jsx)(D.a,{pageTitle:"Re-Estimation Amount Report",goBack:!0}),Object(_.jsx)(o.a,{span:24,children:Object(_.jsx)(d.a,{children:Object(_.jsxs)(l.a,{form:v,layout:"vertical",name:"basic",initialValues:{remember:!0},onFinish:function(){if("HRMS"==e.reportParamsData.file_format)var t=e.reportParamsData,a=t.file_format,i=Object(n.a)(t,M),s={file_format:2,model_name:"HRMS Enquiry"};else{var l=e.reportParamsData;a=l.file_format,i=Object(n.a)(l,C),s={file_format:a,model_name:"ReEstimatonAmount"}}e.getReportList({objData:s,ParamsData:Object(r.a)(Object(r.a)({},i),{},{start_date:null!=i.start_date?O()(i.start_date).format("YYYY-MM-DD"):"",end_date:null!=i.end_date?O()(i.end_date).add(1,"days").format("YYYY-MM-DD"):""})})},children:[Object(_.jsxs)(c.a,{gutter:[12,12],children:[Object(_.jsx)(o.a,{span:24,xs:24,md:8,xl:6,children:Object(_.jsx)(l.a.Item,{label:"From Date",name:"start_date",rules:[{required:!0,message:"Please select Your From Date!"}],children:Object(_.jsx)(m.a,{style:{width:"100%"},picker:"date",placeholder:"Choose Date",format:"DD-MM-YYYY",disabledDate:Y({endDate:O()()}),onChange:function(t){e.InputChangeValue({key:"start_date",value:null==t?"":t}),null==t&&e.InputChangeValue({key:"end_date",value:""})}})})}),Object(_.jsx)(o.a,{span:24,xs:24,md:8,xl:6,children:Object(_.jsx)(l.a.Item,{label:"To Date",name:"end_date",rules:[{required:!0,message:"Please select Your To Date!"}],children:Object(_.jsx)(m.a,{style:{width:"100%"},picker:"date",placeholder:"Choose Date",format:"DD-MM-YYYY",disabledDate:Y({endDate:O()().format("YYYY-MM-DD"),startDate:O()(null===(t=e.reportParamsData)||void 0===t?void 0:t.start_date).format("YYYY-MM-DD")}),disabled:null==e.reportParamsData.start_date||""==e.reportParamsData.start_date,onChange:function(t){e.InputChangeValue({key:"end_date",value:null==t?"":t})}})})}),Object(_.jsx)(o.a,{span:24,xs:24,md:8,xl:6,children:Object(_.jsx)(l.a.Item,{label:"Counter :",name:"counter",children:Object(_.jsx)(u.a,{showSearch:!0,allowClear:!0,placeholder:"Select a Counter",optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().includes(e.toLowerCase())},onChange:function(t){e.InputChangeValue({key:"counter",value:t})},value:null==e.reportParamsData.counter_id?"":null===(a=e.reportParamsData)||void 0===a?void 0:a.counter_id,children:e.miniCountersList.map((function(e,t){return Object(_.jsx)(Option,{value:e.id,children:e.name},t)}))})})}),Object(_.jsx)(o.a,{span:24,xs:24,md:10,xl:10,children:Object(_.jsx)(l.a.Item,{label:"Report Format",name:"file_format",rules:[{required:!0,message:"Please select Your Report Format!"}],children:Object(_.jsxs)(j.a.Group,{name:"file_format",onChange:function(t){e.InputChangeValue({key:t.target.name,value:t.target.value})},value:null===(f=e.reportParamsData)||void 0===f?void 0:f.file_format,children:[Object(_.jsx)(j.a.Button,{value:0,children:"CSV"}),Object(_.jsx)(j.a.Button,{value:2,children:"XLSX"}),Object(_.jsx)(j.a.Button,{value:5,children:"VIEW"})]})})})]}),Object(_.jsx)(c.a,{gutter:[12,12],children:Object(_.jsxs)(o.a,{md:12,offset:12,children:[Object(_.jsx)(p.a,{type:"secondary",className:"hp-submit-btn hp-float-right hp-mt-10 hp-ml-10",onClick:function(){e.clearData()},htmlType:"button",children:"Clear"}),Object(_.jsx)(p.a,{type:"primary",className:"hp-submit-btn hp-float-right hp-mt-10",disabled:e.loading,loading:e.loading,onClick:function(){v.submit()},children:"Generate Report"})]})})]})})}),Object(_.jsx)(o.a,{span:24,children:e.reportView&&Object(_.jsx)(_.Fragment,{children:0!=e.reportDataList.length&&5==e.reportParamsData.file_format?Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(d.a,{children:Object(_.jsx)(c.a,{className:"hp-mb-12",children:Object(_.jsx)(o.a,{span:24,children:Object(_.jsx)(b.a,{columns:y,dataSource:P,scroll:{x:500},pagination:!1,size:"middle",loading:e.loading})})})})}):Object(_.jsx)(d.a,{children:Object(_.jsx)(h.a,{className:"hp-m-32",image:g.a,imageStyle:{height:160},description:Object(_.jsx)("h5",{children:"Your Re-Estimation Amount Report is empty"})})})})})]})}))}}]);
//# sourceMappingURL=131.0a91def2.chunk.js.map