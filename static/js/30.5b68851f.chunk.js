(this["webpackJsonpwheelsmart-admin-react"]=this["webpackJsonpwheelsmart-admin-react"]||[]).push([[30],{534:function(e,i,a){"use strict";a.d(i,"a",(function(){return u}));a(0);var n=a(521),t=a(531),l=a(519),r=a(154),s=a(51),c=a(43),o=a(8),d=a(216),h=a(3);function u(e){var i=Object(s.f)(),a=e.pageTitle,u=e.pageText,m=e.addModelTile,b=e.goBack,j=e.setIsModalVisible;return Object(h.jsx)(n.a,{span:24,children:Object(h.jsx)(t.a,{className:"hp-m-0",children:Object(h.jsxs)(l.a,{children:[Object(h.jsxs)(n.a,{span:18,children:[b&&Object(h.jsx)(c.b,{to:"#",onClick:function(){return i.goBack()},className:"action-icon text-primary  hp-mr-12 hp-d-inline-block",children:Object(h.jsx)(o.d,{className:"remix-icon",size:24})}),Object(h.jsxs)(l.a,{className:"hp-d-inline-block",children:[Object(h.jsx)(n.a,{span:24,children:a&&Object(h.jsx)("h2",{className:"hp-m-0",children:a})}),Object(h.jsx)(n.a,{span:24,children:u&&Object(h.jsx)("p",{className:"hp-mb-0 hp-p1-body",children:u})})]})]}),Object(h.jsx)(n.a,{span:6,children:m&&Object(h.jsx)(r.a,{className:"hp-float-right",type:"primary",onClick:function(){return j(!0)},block:!0,icon:Object(h.jsx)(o.b,{className:"remix-icon",size:22}),children:!d.isMobile&&m})})]})})})}},535:function(e,i,a){"use strict";a.d(i,"a",(function(){return r}));var n=a(1),t=a(550),l=a(3);function r(e){var i=e.value,a=e.onChange,r=e.onBlur;return Object(l.jsx)(t.a,Object(n.a)(Object(n.a)({},e),{},{onChange:function(i){var n=i.target.value;(/^-?\d*(\.\d*)?$/.test(n)||""===n||"-"===n)&&a({key:e.name,value:n})},onBlur:e.onBlur&&function(){var a=i;"."!==i.charAt(i.length-1)&&"-"!==i||(a=i.slice(0,-1)),r({key:e.name,value:a.replace(/0*(\d+)/,"$1")})}}))}},536:function(e,i,a){"use strict";a.d(i,"a",(function(){return h}));a(0);var n=a(521),t=a(519),l=a(154),r=a(51),s=a(43),c=a(8),o=a(216),d=a(3);function h(e){var i=Object(r.f)(),a=e.pageTitle,h=e.pageText,u=e.goBack,m=e.addModelTile,b=e.addModelTile2,j=e.setIsModalVisible,v=e.setIsModalVisible2;return Object(d.jsx)(n.a,{span:24,className:"hp-mt-12",children:Object(d.jsxs)(t.a,{children:[Object(d.jsxs)(n.a,{span:16,xs:16,md:12,xl:16,children:[u&&Object(d.jsx)(s.b,{to:"#",onClick:function(){i.goBack()},className:"action-icon text-primary  hp-mr-12 hp-d-inline-block",children:Object(d.jsx)(c.d,{className:"remix-icon",size:24})}),Object(d.jsxs)(t.a,{className:"hp-d-inline-block",children:[Object(d.jsx)(n.a,{span:24,children:a&&Object(d.jsx)("h3",{className:"hp-mb-2 hp-mt-4",children:a})}),Object(d.jsx)(n.a,{span:24,children:h&&Object(d.jsx)("p",{className:"hp-mb-0 hp-p1-body",children:h})})]})]}),Object(d.jsx)(n.a,{span:8,xs:8,md:12,xl:8,children:Object(d.jsxs)("div",{className:"hp-float-right hp-d-inline-block",children:[m&&Object(d.jsx)("div",{className:"hp-pl-4 hp-d-inline-block",children:Object(d.jsx)(l.a,{className:"",type:"primary",onClick:function(){return j(!0)},icon:Object(d.jsx)(c.b,{className:"remix-icon",size:22}),children:!o.isMobile&&m})}),b&&Object(d.jsx)("div",{className:"hp-pl-4 hp-d-inline-block",children:Object(d.jsx)(l.a,{className:"hp-pr-12",type:"primary",onClick:function(){return v(!0)},icon:Object(d.jsx)(c.b,{className:"remix-icon",size:22}),children:!o.isMobile&&b})})]})})]})})}},541:function(e,i,a){"use strict";var n=a(10),t=a(0),l=a(32),r=a(19),s=a.n(r),c=(a(533),a(8)),o=a(524),d=a(154),h=a(526),u=a(519),m=a(521),b=a(556),j=a(550),v=a(215),p=a(677),x=a(60),f=(a(535),a(15)),g=a(3);i.a=Object(l.b)((function(e){var i=e.vehicles,a=e.mini;return{rowdata:i.rowdata,model:i.model,miniVersionList:a.miniVersionList,miniEmissionnorms:a.miniEmissionnorms,miniBrandsList:a.miniBrandsList,miniBrandFamilyList:a.miniBrandFamilyList,miniModelsList:a.miniModelsList}}),{vehiclesAdd:x.n,isModelVisible:x.k,InputChangeValue:x.b,getMiniVersion:f.cb,getMiniEmissionnorms:f.C,getMiniBrands:f.o,getMiniBrandFamily:f.m,getMiniModels:f.J,vehicleNumberValidate:x.m,engineNumberValidate:x.g,chassisNumberValidate:x.e})((function(e){var i,a,l,r,x,f,O,y,w,_,C,M,V=o.a.useForm(),P=Object(n.a)(V,1)[0];Object(t.useEffect)((function(){e.getMiniEmissionnorms(),e.getMiniBrands()}),[]);var N=function(){e.isModelVisible(!1)},k=function(){return null==e.rowdata.id||0==e.rowdata.id?Object(g.jsx)(t.Fragment,{children:Object(g.jsx)(d.a,{onClick:function(){P.submit()},type:"primary",block:!0,children:"Add"})}):Object(g.jsx)(t.Fragment,{children:Object(g.jsx)(d.a,{type:"primary",onClick:function(){P.submit()},block:!0,children:"Update"})})},F=function(){return Object(g.jsx)(t.Fragment,{children:Object(g.jsx)(d.a,{onClick:function(){N()},type:"primary",block:!0,ghost:!0,children:"Cancel"})})},D=Object(g.jsxs)("h5",{className:"modal-title",children:[null==e.rowdata.id||0==e.rowdata.id?"Add":"Update"," ","Vehicle"]});function L(i,a){var n,t;(console.log("type",i,a.target.value),"engineno"==i)?a.target.value==(null===(n=e.rowdata)||void 0===n?void 0:n.chassisno)&&(e.InputChangeValue({key:i,value:""}),h.a.error({icon:Object(g.jsx)("span",{className:"remix-icon",children:Object(g.jsx)(c.o,{})}),title:Object(g.jsx)("h5",{className:"hp-mb-0 hp-font-weight-500",children:"Engine Number Error"}),content:Object(g.jsx)("div",{children:Object(g.jsxs)("p",{className:"hp-p1-body hp-text-color-black-80",children:["Engine & Chassis Number should not be same"," "]})})})):a.target.value==(null===(t=e.rowdata)||void 0===t?void 0:t.engineno)&&(e.InputChangeValue({key:i,value:""}),h.a.error({icon:Object(g.jsx)("span",{className:"remix-icon",children:Object(g.jsx)(c.o,{})}),title:Object(g.jsx)("h5",{className:"hp-mb-0 hp-font-weight-500",children:"Chassis Number Error"}),content:Object(g.jsx)("div",{children:Object(g.jsxs)("p",{className:"hp-p1-body hp-text-color-black-80",children:["Engine & Chassis Number should not be same"," "]})})}))}return Object(t.useEffect)((function(){P.setFieldsValue({vehicleType:e.rowdata.vehicleType,vehicleno:e.rowdata.vehicleno,brand_id:e.rowdata.brand_id,brandfamily_id:e.rowdata.brandfamily_id,model_id:e.rowdata.model_id,vehicletrno:e.rowdata.vehicletrno,version_id:e.rowdata.version_id,emission_id:e.rowdata.emission_id,year:e.rowdata.year,engineno:e.rowdata.engineno,chassisno:e.rowdata.chassisno})}),[e.rowdata]),Object(g.jsx)(h.a,{visible:e.model,title:D,onCancel:function(){N(),P.resetFields(),e.isModelVisible(!1)},className:"hp-modal-p-24",footer:Object(g.jsxs)(u.a,{justify:"center",children:[Object(g.jsx)(m.a,{span:12,className:"hp-pr-4",children:Object(g.jsx)(F,{})}),Object(g.jsx)(m.a,{span:12,className:"hp-pl-4",children:Object(g.jsx)(k,{})})]}),centered:!0,closeIcon:Object(g.jsx)(c.k,{className:"remix-icon text-color-black-100",size:24}),width:616,children:Object(g.jsx)(o.a,{layout:"vertical",form:P,autoComplete:"off",onFinish:function(){null==e.rowdata.id?function(){var i,a,n,t={id:0,vehicleno:"new"===(null===(i=e.rowdata)||void 0===i?void 0:i.vehicleType)?e.rowdata.vehicletrno:null===(a=e.rowdata)||void 0===a?void 0:a.vehicleno,brand_id:e.rowdata.brand_id,brandfamily_id:e.rowdata.brandfamily_id,model_id:e.rowdata.model_id,vehicletrno:e.rowdata.vehicletrno,year:s()(null===(n=e.rowdata)||void 0===n?void 0:n.year).format("YYYY"),engineno:e.rowdata.engineno,emission_id:e.rowdata.emission_id,version_id:e.rowdata.version_id,chassisno:e.rowdata.chassisno};e.vehiclesAdd({obj:t})}():function(){var i,a,n,t,l,r,c,o,d,h,u,m,b,j,v,p,x,f={id:null===(i=e.rowdata)||void 0===i?void 0:i.id,vehicleno:"new"===(null===(a=e.rowdata)||void 0===a?void 0:a.vehicleType)?e.rowdata.vehicletrno:null===(n=e.rowdata)||void 0===n?void 0:n.vehicleno,brand_id:null==(null===(t=e.rowdata)||void 0===t?void 0:t.brand_id)?e.rowdata.brand.id:null===(l=e.rowdata)||void 0===l?void 0:l.brand_id,brandfamily_id:null==(null===(r=e.rowdata)||void 0===r?void 0:r.brandfamily_id)?e.rowdata.brandfamily.id:null===(c=e.rowdata)||void 0===c?void 0:c.brandfamily_id,model_id:null==(null===(o=e.rowdata)||void 0===o?void 0:o.model_id)?e.rowdata.model.id:null===(d=e.rowdata)||void 0===d?void 0:d.model_id,vehicletrno:null===(h=e.rowdata)||void 0===h?void 0:h.vehicletrno,year:s()(null===(u=e.rowdata)||void 0===u?void 0:u.year).format("YYYY"),engineno:null===(m=e.rowdata)||void 0===m?void 0:m.engineno,emission_id:null==(null===(b=e.rowdata)||void 0===b?void 0:b.emission_id)?e.rowdata.emission.id:null===(j=e.rowdata)||void 0===j?void 0:j.emission_id,version_id:null==(null===(v=e.rowdata)||void 0===v?void 0:v.version_id)?e.rowdata.version.id:null===(p=e.rowdata)||void 0===p?void 0:p.version_id,chassisno:null===(x=e.rowdata)||void 0===x?void 0:x.chassisno};e.vehiclesAdd({obj:f,type:e.type,typeId:e.typeId})}()},children:Object(g.jsxs)(u.a,{gutter:[12,0],children:[Object(g.jsx)(m.a,{span:24,xs:24,xl:12,md:12,children:Object(g.jsx)(o.a.Item,{label:"Vehicle Type",name:"vehicleType",rules:[{required:!0,message:"Please select Your Vehicle Type!"}],children:Object(g.jsxs)(b.a.Group,{name:"vehicleType",onChange:function(i){e.InputChangeValue({key:i.target.name,value:i.target.value})},value:null===(i=e.rowdata)||void 0===i?void 0:i.vehicleType,children:[Object(g.jsx)(b.a.Button,{value:"new",children:"New Vehicle"}),Object(g.jsx)(b.a.Button,{value:"old",children:"Old Vehicle"})]})})}),"new"===(null===(a=e.rowdata)||void 0===a?void 0:a.vehicleType)?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(m.a,{span:24,xs:24,xl:12,md:12,children:Object(g.jsx)(o.a.Item,{label:"Vehicle TR Number:",name:"vehicletrno",rules:[{required:!0,message:"Please Enter Your Vehicle TR Number!"},{pattern:new RegExp(/[A-Z][A-Z][0-9][0-9][A-Z][A-Z][A-Z][A-Z][0-9][0-9][0-9][0-9]$/i),message:"field does not accept numbers"}],hasFeedback:!0,children:Object(g.jsx)(j.a,{id:"Version",name:"vehicletrno",style:{width:"100%"},placeholder:"EX:AP00ABCD1234",minLength:10,maxLength:15,value:null===(l=e.rowdata)||void 0===l?void 0:l.vehicletrno,onChange:function(i){e.InputChangeValue({key:i.target.name,value:i.target.value.toUpperCase()})}})})})}):Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(m.a,{span:24,xs:24,xl:12,md:12,children:Object(g.jsx)(o.a.Item,{label:"Vehicle Number",name:"vehicleno",rules:[{required:!0,message:"Please Enter Your Vehicle Number!"},{pattern:new RegExp("^[A-Z]{2}[0-9]{1,2}[A-Z]{1,2}[0-9]{4}$"),message:"Please accept valid vehicle number"}],hasFeedback:!0,children:Object(g.jsx)(j.a,{id:"vehicleno-input",name:"vehicleno",label:"Vehicle Number:",maxLength:11,style:{width:"100%",transform:"uppercase"},placeholder:"EX: AP00QQ0000",onBlur:function(i){console.log("data",i),e.vehicleNumberValidate({vehicleno:i.target.value})},value:null===(r=e.rowdata)||void 0===r?void 0:r.vehicleno,onChange:function(i){e.InputChangeValue({key:i.target.name,value:i.target.value.toUpperCase()})}})})})}),Object(g.jsx)(m.a,{span:24,xs:24,xl:12,md:12,children:Object(g.jsx)(o.a.Item,{label:"Brand :",name:"brand_id",rules:[{required:!0,message:"Please select your Brand!"}],hasFeedback:!0,children:Object(g.jsx)(v.a,{showSearch:!0,filterOption:function(e,i){return i.children.toLowerCase().includes(e.toLowerCase())},placeholder:"Select  Brand",optionFilterProp:"Brand",onChange:function(i){e.getMiniBrandFamily({brand:i}),e.InputChangeValue({key:"brand_id",value:i})},value:null==e.rowdata.brand_id?"":null===(x=e.rowdata)||void 0===x?void 0:x.brand_id,children:e.miniBrandsList.map((function(e,i){return Object(g.jsx)(Option,{value:e.id,children:e.name},i)}))})})}),Object(g.jsx)(m.a,{span:24,xs:24,xl:12,md:12,children:Object(g.jsx)(o.a.Item,{label:"Brand Family :",name:"brandfamily_id",rules:[{required:!0,message:"Please select your Brand Family!"}],hasFeedback:!0,children:Object(g.jsx)(v.a,{showSearch:!0,filterOption:function(e,i){return i.children.toLowerCase().includes(e.toLowerCase())},placeholder:"Select Brand Family",optionFilterProp:"brand Family",onChange:function(i){e.getMiniModels({brandfamily:i}),e.InputChangeValue({key:"brandfamily_id",value:i})},value:null==e.rowdata.brandfamily_id?"":null===(f=e.rowdata)||void 0===f?void 0:f.brandfamily_id,children:e.miniBrandFamilyList.map((function(e,i){return Object(g.jsx)(Option,{value:e.id,children:e.name},i)}))})})}),Object(g.jsx)(m.a,{span:24,xs:24,xl:12,md:12,children:Object(g.jsx)(o.a.Item,{label:"Model :",name:"model_id",rules:[{required:!0,message:"Please select your Model!"}],hasFeedback:!0,children:Object(g.jsx)(v.a,{showSearch:!0,filterOption:function(e,i){return i.children.toLowerCase().includes(e.toLowerCase())},placeholder:"Select Model",optionFilterProp:"Model",onChange:function(i){e.getMiniVersion({model:i}),e.InputChangeValue({key:"model_id",value:i})},value:null==e.rowdata.model_id?"":null===(O=e.rowdata)||void 0===O?void 0:O.model_id,children:e.miniModelsList.map((function(e,i){return Object(g.jsx)(Option,{value:e.id,children:e.name},i)}))})})}),Object(g.jsx)(m.a,{span:24,xs:24,xl:12,md:12,children:Object(g.jsx)(o.a.Item,{label:"Version :",name:"version_id",rules:[{required:!0,message:"Please select your Version!"}],hasFeedback:!0,children:Object(g.jsx)(v.a,{showSearch:!0,filterOption:function(e,i){return i.children.toLowerCase().includes(e.toLowerCase())},placeholder:"Select Version",optionFilterProp:"version",onChange:function(i){e.InputChangeValue({key:"version_id",value:i})},value:null==e.rowdata.version_id?"":null===(y=e.rowdata)||void 0===y?void 0:y.version_id,children:e.miniVersionList.map((function(e,i){return Object(g.jsx)(Option,{value:e.id,children:e.name},i)}))})})})," ",Object(g.jsx)(m.a,{span:24,xs:24,xl:12,md:12,children:Object(g.jsx)(o.a.Item,{label:"Emission :",name:"emission_id",rules:[{required:!0,message:"Please select your Emission!"}],hasFeedback:!0,children:Object(g.jsx)(v.a,{showSearch:!0,filterOption:function(e,i){return i.children.toLowerCase().includes(e.toLowerCase())},placeholder:"Select a Emission",optionFilterProp:"emission",onChange:function(i){e.InputChangeValue({key:"emission_id",value:i})},value:null==e.rowdata.emission_id?"":null===(w=e.rowdata)||void 0===w?void 0:w.emission_id,children:e.miniEmissionnorms.map((function(e,i){return Object(g.jsx)(Option,{value:e.id,children:e.name},i)}))})})}),Object(g.jsx)(m.a,{span:24,xs:24,xl:12,md:12,children:Object(g.jsx)(o.a.Item,{label:"Year",name:"year",rules:[{required:!0,message:"Select Year"}],hasFeedback:!0,children:Object(g.jsx)(p.a,{id:"year",name:"year",style:{width:"100%"},picker:"year",disabledDate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{startDate:!1,endDate:!1},i=e.startDate,a=e.endDate;return function(e){var n=!0,t=!0;return i&&(n=e&&e<s()(i,"YYYY")),a&&(t=e&&e>s()(a,"YYYY")),i&&n||a&&t}}({endDate:new Date,startDate:1990}),placeholder:"Select Year",value:null===(_=e.rowdata)||void 0===_?void 0:_.year,onChange:function(i){console.log("Year",i,typeof i),e.InputChangeValue({key:"year",value:i})}})})})," ",Object(g.jsx)(m.a,{span:24,xs:24,xl:12,md:12,children:Object(g.jsx)(o.a.Item,{label:"Engine Number:",name:"engineno",rules:[{required:!0,message:"Please input your Engine Number!"},{min:10,message:"Engine Number must be 10 digits!"}],hasFeedback:!0,children:Object(g.jsx)(j.a,{id:"engineno",name:"engineno",style:{width:"100%",transform:"uppercase"},minLength:10,maxLength:20,placeholder:"Engine Number",value:null===(C=e.rowdata)||void 0===C?void 0:C.engineno,onBlur:function(i){e.engineNumberValidate({engineno:i.target.value}),""!=i.target.value&&L("engineno",i)},onChange:function(i){e.InputChangeValue({key:i.target.name,value:i.target.value.toUpperCase()})}})})})," ",Object(g.jsx)(m.a,{span:24,xs:24,xl:12,md:12,children:Object(g.jsx)(o.a.Item,{label:"Chassis Number :",name:"chassisno",rules:[{required:!0,message:"Please input your Chassis Number!"},{min:10,message:"Chassis Number must be 10 digits!"}],getValueProps:function(){},hasFeedback:!0,children:Object(g.jsx)(j.a,{id:"Chassis Number",name:"chassisno",style:{width:"100%",transform:"uppercase"},placeholder:"Chassis Number",minLength:10,maxLength:20,onBlur:function(i){e.chassisNumberValidate({chassisno:i.target.value}),""!=i.target.value&&L("chassisno",i)},value:null===(M=e.rowdata)||void 0===M?void 0:M.chassisno,onChange:function(i){e.InputChangeValue({key:i.target.name,value:i.target.value.toUpperCase()})}})})})]})})})}))},705:function(e,i,a){"use strict";a.r(i);var n=a(1),t=a(10),l=a(0),r=a(538),s=a(550),c=a(519),o=a(521),d=a(154),h=a(531),u=a(337),m=a(340),b=a(539),j=a(676),v=a(8),p=a(32),x=a(350),f=a(235),g=(a(534),a(536)),O=a(19),y=a.n(O),w=a(60),_=a(541),C=a(216),M=a(15),V=a(524),P=a(527),N=a(677),k=a(215),F=a(85),D=a(3),L=new Date;L.getFullYear(),L.getMonth();var B=Object(p.b)((function(e){var i=e.vehicles,a=e.mini,n=e.versionfeatures;return{drawer:i.drawer,vehiclesParams:i.vehiclesParams,miniBrandsList:a.miniBrandsList,miniBrandFamilyList:a.miniBrandFamilyList,miniPriority:a.miniPriority,miniModelsList:a.miniModelsList,miniVehicletypesList:a.miniVehicletypesList,versionfeaturesParams:n.versionfeaturesParams,versionfeatureslist:n.versionfeatureslist}}),{isDrawerVisible:w.j,SetVehiclesParams:w.c,FilterInputChangeValue:w.a,getVehicles:w.h,getMiniBrands:M.o,getMiniBrandFamily:M.m,getMiniPriority:M.N,getMiniModels:M.J,getMiniVehicletypes:M.ab,getVersionfeatures:F.e,SetVersionfeaturesParams:F.b,getMiniBrandsClearData:M.p,getMiniBrandFamilyClearData:M.n,getMiniPriorityClearData:M.O,getMiniModelsClearData:M.K,getMiniVehicletypesClearData:M.bb})((function(e){var i,a,r,s,h,u,m,b=V.a.useForm(),j=Object(t.a)(b,1)[0];Object(l.useEffect)((function(){e.getMiniBrands(),e.getMiniBrandFamily(),e.getMiniModels(),e.getMiniVehicletypes(),e.getVersionfeatures(Object(n.a)({},e.versionfeaturesParams)),e.getMiniPriority()}),[]);function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{startDate:!1,endDate:!1},i=e.startDate,a=e.endDate;return function(e){var n=!0,t=!0;return i&&(n=e&&e<y()(i+" 00:00:01","YYYY-MM-DD HH:mm:ss")),a&&(t=e&&e>y()(y()(a).format("YYYY-MM-DD")+" 23:59:59","YYYY-MM-DD HH:mm:ss")),i&&n||a&&t}}return Object(l.useEffect)((function(){var i,a;j.setFieldsValue({start_date:null===(i=e.vehiclesParams)||void 0===i?void 0:i.start_date,end_date:null===(a=e.vehiclesParams)||void 0===a?void 0:a.end_date,version__brand:e.vehiclesParams.version__brand,version__brandfamily:e.vehiclesParams.version__brandfamily,version__model:e.vehiclesParams.version__model,version__vehicletype:e.vehiclesParams.version__vehicletype,version__priority:e.vehiclesParams.version__priority,version__fueltype:e.vehiclesParams.version__fueltype})}),[e.vehiclesParams]),Object(D.jsx)(c.a,{gutter:[24,24],children:Object(D.jsx)(o.a,{span:24,children:Object(D.jsx)(P.a,{title:"Filters",width:420,className:"hp-drawer-mobile",onClose:function(){e.isDrawerVisible(!1)},placement:"right",visible:e.drawer,bodyStyle:{paddingBottom:10},children:Object(D.jsxs)(V.a,{form:j,layout:"vertical",name:"basic",initialValues:{remember:!0},onFinish:function(){e.SetVehiclesParams(Object(n.a)(Object(n.a)({},e.vehiclesParams),{},{start_date:e.vehiclesParams.start_date,end_date:e.vehiclesParams.end_date,page:1,search:"",page_size:10})),e.getVehicles(Object(n.a)(Object(n.a)({},e.vehiclesParams),{},{start_date:e.vehiclesParams.start_date,end_date:e.vehiclesParams.end_date,page:1,search:"",page_size:10})),e.isDrawerVisible(!1)},children:[Object(D.jsxs)(c.a,{gutter:[12,12],children:[Object(D.jsx)(o.a,{span:12,children:Object(D.jsx)(V.a.Item,{label:"From Date",name:"start_date",children:Object(D.jsx)(N.a,{style:{width:"100%"},picker:"date",placeholder:"Choose Date",format:"DD-MM-YYYY",disabledDate:v({endDate:new Date}),onChange:function(i){e.FilterInputChangeValue({key:"start_date",value:null==i?"":i}),null==i&&e.FilterInputChangeValue({key:"end_date",value:""})}})})}),Object(D.jsx)(o.a,{span:12,children:Object(D.jsx)(V.a.Item,{label:"To Date",name:"end_date",children:Object(D.jsx)(N.a,{style:{width:"100%"},picker:"date",placeholder:"Choose Date",format:"DD-MM-YYYY",disabledDate:v({endDate:y()().format("YYYY-MM-DD"),startDate:y()(null===(i=e.vehiclesParams)||void 0===i?void 0:i.start_date).format("YYYY-MM-DD")}),disabled:null==e.vehiclesParams.start_date||""==e.vehiclesParams.start_date,onChange:function(i){e.FilterInputChangeValue({key:"end_date",value:null==i?"":i})}})})}),Object(D.jsx)(o.a,{span:12,children:Object(D.jsx)(V.a.Item,{label:"Brand :",name:"version__brand",children:Object(D.jsx)(k.a,{showSearch:!0,allowClear:!0,filterOption:function(e,i){return i.children.toLowerCase().includes(e.toLowerCase())},placeholder:"Select  Brand",optionFilterProp:"Brand",onChange:function(i){e.getMiniBrandFamily({brand:i}),e.getMiniBrandFamilyClearData,e.getMiniModelsClearData,e.FilterInputChangeValue({key:"version__brand",value:i})},value:null==e.vehiclesParams.brand_id?"":null===(a=e.vehiclesParams)||void 0===a?void 0:a.brand_id,children:e.miniBrandsList.map((function(e,i){return Object(D.jsx)(Option,{value:e.id,children:e.name},i)}))})})}),Object(D.jsx)(o.a,{span:12,children:Object(D.jsx)(V.a.Item,{label:"Brand Family :",name:"version__brandfamily",children:Object(D.jsx)(k.a,{showSearch:!0,allowClear:!0,filterOption:function(e,i){return i.children.toLowerCase().includes(e.toLowerCase())},placeholder:"Select Brand Family",optionFilterProp:"brand Family",onChange:function(i){e.getMiniModels({brandfamily:i}),e.getMiniModelsClearData,e.FilterInputChangeValue({key:"version__brandfamily",value:i})},value:null==e.vehiclesParams.brandfamily_id?"":null===(r=e.vehiclesParams)||void 0===r?void 0:r.brandfamily_id,children:e.miniBrandFamilyList.map((function(e,i){return Object(D.jsx)(Option,{value:e.id,children:e.name},i)}))})})}),Object(D.jsx)(o.a,{span:12,children:Object(D.jsx)(V.a.Item,{label:"Model :",name:"version__model",children:Object(D.jsx)(k.a,{showSearch:!0,allowClear:!0,filterOption:function(e,i){return i.children.toLowerCase().includes(e.toLowerCase())},placeholder:"Select Model",optionFilterProp:"Model",onChange:function(i){e.FilterInputChangeValue({key:"version__model",value:i})},value:null==e.vehiclesParams.model_id?"":null===(s=e.vehiclesParams)||void 0===s?void 0:s.model_id,children:e.miniModelsList.map((function(e,i){return Object(D.jsx)(Option,{value:e.id,children:e.name},i)}))})})}),Object(D.jsx)(o.a,{span:12,children:Object(D.jsx)(V.a.Item,{label:"Vehicle Type :",name:"version__vehicletype",children:Object(D.jsx)(k.a,{showSearch:!0,allowClear:!0,filterOption:function(e,i){return i.children.toLowerCase().includes(e.toLowerCase())},placeholder:"Select Vehicle Type",optionFilterProp:"vehicletype",onChange:function(i){e.FilterInputChangeValue({key:"version__vehicletype",value:i})},value:null==e.vehiclesParams.vehicletype_id?"":null===(h=e.vehiclesParams)||void 0===h?void 0:h.vehicletype_id,children:e.miniVehicletypesList.map((function(e,i){return Object(D.jsx)(Option,{value:e.id,children:e.name},i)}))})})}),Object(D.jsx)(o.a,{span:12,children:Object(D.jsx)(V.a.Item,{label:"Priority :",name:"version__priority",children:Object(D.jsx)(k.a,{showSearch:!0,allowClear:!0,filterOption:function(e,i){return i.children.toLowerCase().includes(e.toLowerCase())},placeholder:"Select Priority",optionFilterProp:"priority",onChange:function(i){e.FilterInputChangeValue({key:"version__priority",value:i})},value:null==e.vehiclesParams.priority_id?"":null===(u=e.vehiclesParams)||void 0===u?void 0:u.priority_id,children:e.miniPriority.map((function(e,i){return Object(D.jsx)(Option,{value:e.id,children:e.name},i)}))})})}),Object(D.jsx)(o.a,{span:12,children:Object(D.jsx)(V.a.Item,{label:"Fuel Type",name:"version__fueltype",children:Object(D.jsx)(k.a,{showSearch:!0,allowClear:!0,placeholder:"Select Fuel Type",optionFilterProp:"fueltype",filterOption:function(e,i){return i.children.toLowerCase().includes(e.toLowerCase())},onChange:function(i){e.FilterInputChangeValue({key:"version__fueltype",value:i})},value:null==e.vehiclesParams.fueltype?"":null===(m=e.vehiclesParams)||void 0===m?void 0:m.fueltype,children:[{id:1,name:"Petrol"},{id:2,name:"Diesel"},{id:3,name:"Cng"},{id:4,name:"Electric"},{id:5,name:"Bio diesel"}].map((function(e,i){return Object(D.jsx)(Option,{value:e.id,children:e.name},i)}))})})})]}),Object(D.jsxs)(c.a,{gutter:[12,12],children:[Object(D.jsx)(o.a,{md:12,children:Object(D.jsx)(d.a,{block:!0,type:"secondary",className:"hp-submit-btn hp-mt-10",onClick:function(){e.SetVehiclesParams({start_date:"",end_date:"",page:1,search:"",page_size:10}),e.getVehicles({start_date:"",end_date:"",page:1,search:"",page_size:10}),e.getMiniBrands(),e.getMiniBrandFamily(),e.getMiniModels(),e.getMiniVehicletypes(),e.getVersionfeatures(Object(n.a)({},e.versionfeaturesParams)),e.getMiniPriority()},htmlType:"button",children:"Clear"})}),Object(D.jsx)(o.a,{md:12,children:Object(D.jsx)(d.a,{block:!0,type:"primary",className:"hp-submit-btn hp-mt-10",onClick:function(){j.submit()},children:"Apply"})})]})]})})})})}));i.default=Object(p.b)((function(e){var i=e.vehicles,a=e.system;return{vehicleslist:i.vehicleslist,noofpages:i.noofpages,listCount:i.listCount,vehiclesParams:i.vehiclesParams,loading:i.loading,userAccessList:a.userAccessList}}),{getVehicles:w.h,vehiclesDelete:w.o,isModelVisible:w.k,SetVehiclesParams:w.c,getMiniBrandFamily:M.m,getMiniModels:M.J,getMiniVersion:M.cb,isDrawerVisible:w.j,getvehicleByID:w.i})((function(e){var i,a,p;Object(l.useEffect)((function(){e.getVehicles({page:1,search:"",page_size:10})}),[]);var O=Object(l.useState)(!1),w=Object(t.a)(O,2),M=(w[0],w[1],"hp-p1-body hp-text-color-black-50 hp-text-color-dark-0 hp-font-weight-500 "),V=[{title:"S.No",dataIndex:"index",width:70,fixed:C.isMobile?null:"left"},{title:"Code",dataIndex:"code",filterSearch:!0,width:120,fixed:C.isMobile?null:"left"},{title:"Date",render:function(e){return Object(D.jsx)("span",{className:M,children:y()(e.createdon).format("DD-MM-YYYY")})},filterMode:"tree",filterSearch:!0,width:120},{title:"Vehicle Number",render:function(e){return Object(D.jsx)("span",{className:M,children:e.vehicleno})},filterMode:"tree",filterSearch:!0,width:120},{title:"Vehicle TR No",render:function(e){return Object(D.jsx)("span",{className:M,children:e.vehicletrno})},filterMode:"tree",filterSearch:!0,width:120},{title:"Brand",render:function(e){var i,a;return Object(D.jsx)("span",{className:M,children:null===(i=e.version)||void 0===i||null===(a=i.brand)||void 0===a?void 0:a.name})},filterMode:"tree",filterSearch:!0,width:180},{title:"Brand Family",render:function(e){var i,a;return Object(D.jsx)("span",{className:M,children:null===(i=e.version)||void 0===i||null===(a=i.brandfamily)||void 0===a?void 0:a.name})},filterMode:"tree",filterSearch:!0,width:120},{title:"Model",render:function(e){var i,a;return Object(D.jsx)("span",{className:M,children:null===(i=e.version)||void 0===i||null===(a=i.model)||void 0===a?void 0:a.name})},filterMode:"tree",filterSearch:!0,width:80},{title:"Version",render:function(e){var i;return Object(D.jsx)("span",{className:M,children:null===(i=e.version)||void 0===i?void 0:i.name})},filterMode:"tree",filterSearch:!0,width:180},{title:"Year",render:function(e){return Object(D.jsx)("span",{className:M,children:e.year})},filterMode:"tree",filterSearch:!0,width:70},{title:"Engine Number",render:function(e){return Object(D.jsx)("span",{className:M,children:e.engineno})},filterMode:"tree",filterSearch:!0,width:210},{title:"Chassis Number",render:function(e){return Object(D.jsx)("span",{className:M,children:e.chassisno})},filterMode:"tree",filterSearch:!0,width:200},{title:"Fuel Type",render:function(e){var i;return Object(D.jsx)("span",{className:M,children:null===(i=e.version)||void 0===i?void 0:i.fueltype_name})},filterMode:"tree",filterSearch:!0,width:100},{title:"Priority",render:function(e){var i,a;return Object(D.jsx)("span",{className:M,children:null===(i=e.version)||void 0===i||null===(a=i.priority)||void 0===a?void 0:a.name})},filterMode:"tree",filterSearch:!0,width:100},{title:"Actions",key:"action",width:100,fixed:C.isMobile?null:"right",render:function(i,a){var n,t;return Object(D.jsxs)(b.b,{size:"middle",children:[-1!==(null===(n=e.userAccessList)||void 0===n?void 0:n.indexOf("Masters.change_vehicle"))&&Object(D.jsx)("i",{className:"ri-edit-box-line hp-mr-2 ",style:{cursor:"pointer",color:"#fc6f03"},onClick:function(){e.getvehicleByID(i.id)}}),-1!==(null===(t=e.userAccessList)||void 0===t?void 0:t.indexOf("Masters.delete_vehicle"))&&Object(D.jsx)(r.a,{placement:"topRight",title:"Are you sure to delete this Record?",onConfirm:function(){return e.vehiclesDelete(i.id)},okText:"Yes",cancelText:"No",className:"hp-ml-8",icon:Object(D.jsx)(v.n,{className:"remix-icon hp-text-color-primary-1"}),children:Object(D.jsx)("i",{className:"ri-delete-bin-2-line ",style:{cursor:"pointer",color:"#ff0000"}})})]})}}],P=e.vehicleslist.map((function(i,a){return Object(n.a)(Object(n.a)({},i),{},{index:(e.vehiclesParams.page-1)*e.vehiclesParams.page_size+a+1})})),N=s.a.Search;return Object(D.jsxs)(c.a,{gutter:[12,12],children:[Object(D.jsx)(g.a,{pageTitle:"Vehicles",setIsModalVisible:e.isModelVisible,isModalVisible:e.model}),Object(D.jsx)(o.a,{span:24,children:Object(D.jsxs)(c.a,{gutter:[12,12],children:[Object(D.jsx)(o.a,{span:24,xs:24,sm:24,md:14,children:Object(D.jsx)(N,{placeholder:"Search...",allowClear:!0,onChange:function(i){""==i.target.value&&(e.getVehicles(Object(n.a)(Object(n.a)({},e.vehiclesParams),{},{page:1,search:""})),e.SetVehiclesParams(Object(n.a)(Object(n.a)({},e.vehiclesParams),{},{page:1,search:""})))},onSearch:function(i){var a;a=i,e.SetVehiclesParams(Object(n.a)(Object(n.a)({},e.vehiclesParams),{},{page:1,search:a})),e.getVehicles(Object(n.a)(Object(n.a)({},e.vehiclesParams),{},{page:1,search:a}))}})}),Object(D.jsx)(o.a,{span:24,xs:8,sm:8,md:3,children:Object(D.jsx)(d.a,{onClick:function(){e.isDrawerVisible(!0)},className:"hp-w-100 hp-p-12",icon:Object(D.jsx)(x.a,{className:"hp-mr-10"}),children:!C.isMobile&&"Filter"})}),-1!==(null===(i=e.userAccessList)||void 0===i?void 0:i.indexOf("Masters.add_vehicle"))&&Object(D.jsx)(o.a,{span:24,xs:8,sm:8,md:4,children:Object(D.jsx)(d.a,{onClick:function(){e.isModelVisible(!0)},className:"hp-w-100 hp-p-12",icon:Object(D.jsx)(f.a,{className:"hp-mr-10"}),children:!C.isMobile&&"Add Vehicles"})})]})}),Object(D.jsx)(o.a,{span:24,children:Object(D.jsx)(h.a,{children:Object(D.jsxs)(c.a,{className:"hp-mb-12",children:[Object(D.jsx)(o.a,{span:24,children:Object(D.jsx)(u.a,{tip:"Loading...",spinning:e.loading,delay:500,children:Object(D.jsx)(j.a,{columns:V,dataSource:P,scroll:{x:1300},pagination:!1,size:"middle",className:"hp-p-0"})})}),Object(D.jsx)(o.a,{span:24,children:Object(D.jsx)(m.a,{size:"small",current:null===(a=e.vehiclesParams)||void 0===a?void 0:a.page,pageSize:null===(p=e.vehiclesParams)||void 0===p?void 0:p.page_size,total:e.listCount,showTotal:function(e){return"Total "+e+" items"},showSizeChanger:!0,onChange:function(i,a){e.SetVehiclesParams(Object(n.a)(Object(n.a)({},e.vehiclesParams),{},{page_size:a,page:0==i?1:i})),e.getVehicles(Object(n.a)(Object(n.a)({},e.vehiclesParams),{},{page_size:a,page:0==i?1:i}))},className:"hp-mb-12 hp-mt-24 hp-float-right"})})]})})}),Object(D.jsx)(_.a,{}),Object(D.jsx)(B,{})]})}))}}]);
//# sourceMappingURL=30.5b68851f.chunk.js.map